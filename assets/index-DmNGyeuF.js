(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Ld={exports:{}},xl={};var q_;function kb(){if(q_)return xl;q_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return xl.Fragment=e,xl.jsx=i,xl.jsxs=i,xl}var H_;function Ub(){return H_||(H_=1,Ld.exports=kb()),Ld.exports}var T=Ub(),jd={exports:{}},Ce={};var G_;function Lb(){if(G_)return Ce;G_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var ie={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,Z={};function pe(O,Q,se){this.props=O,this.context=Q,this.refs=Z,this.updater=se||ie}pe.prototype.isReactComponent={},pe.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},pe.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ge(){}ge.prototype=pe.prototype;function ve(O,Q,se){this.props=O,this.context=Q,this.refs=Z,this.updater=se||ie}var tt=ve.prototype=new ge;tt.constructor=ve,re(tt,pe.prototype),tt.isPureReactComponent=!0;var dt=Array.isArray;function Ve(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(O,Q,se){var oe=se.ref;return{$$typeof:s,type:O,key:Q,ref:oe!==void 0?oe:null,props:se}}function V(O,Q){return I(O.type,Q,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function U(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(se){return Q[se]})}var R=/\/+/g;function at(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Q.toString(36)}function Rt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ve,Ve):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Q,se,oe,Te){var Ie=typeof O;(Ie==="undefined"||Ie==="boolean")&&(O=null);var Ue=!1;if(O===null)Ue=!0;else switch(Ie){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(O.$$typeof){case s:case e:Ue=!0;break;case S:return Ue=O._init,H(Ue(O._payload),Q,se,oe,Te)}}if(Ue)return Te=Te(O),Ue=oe===""?"."+at(O,0):oe,dt(Te)?(se="",Ue!=null&&(se=Ue.replace(R,"$&/")+"/"),H(Te,Q,se,"",function(xn){return xn})):Te!=null&&(N(Te)&&(Te=V(Te,se+(Te.key==null||O&&O.key===Te.key?"":(""+Te.key).replace(R,"$&/")+"/")+Ue)),Q.push(Te)),1;Ue=0;var vt=oe===""?".":oe+":";if(dt(O))for(var mt=0;mt<O.length;mt++)oe=O[mt],Ie=vt+at(oe,mt),Ue+=H(oe,Q,se,Ie,Te);else if(mt=F(O),typeof mt=="function")for(O=mt.call(O),mt=0;!(oe=O.next()).done;)oe=oe.value,Ie=vt+at(oe,mt++),Ue+=H(oe,Q,se,Ie,Te);else if(Ie==="object"){if(typeof O.then=="function")return H(Rt(O),Q,se,oe,Te);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function te(O,Q,se){if(O==null)return O;var oe=[],Te=0;return H(O,oe,"","",function(Ie){return Q.call(se,Ie,Te++)}),oe}function ce(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(se){(O._status===0||O._status===-1)&&(O._status=1,O._result=se)},function(se){(O._status===0||O._status===-1)&&(O._status=2,O._result=se)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var ze=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ye={map:te,forEach:function(O,Q,se){te(O,function(){Q.apply(this,arguments)},se)},count:function(O){var Q=0;return te(O,function(){Q++}),Q},toArray:function(O){return te(O,function(Q){return Q})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ce.Activity=A,Ce.Children=Ye,Ce.Component=pe,Ce.Fragment=i,Ce.Profiler=l,Ce.PureComponent=ve,Ce.StrictMode=a,Ce.Suspense=g,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Ce.cache=function(O){return function(){return O.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(O,Q,se){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var oe=re({},O.props),Te=O.key;if(Q!=null)for(Ie in Q.key!==void 0&&(Te=""+Q.key),Q)!w.call(Q,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&Q.ref===void 0||(oe[Ie]=Q[Ie]);var Ie=arguments.length-2;if(Ie===1)oe.children=se;else if(1<Ie){for(var Ue=Array(Ie),vt=0;vt<Ie;vt++)Ue[vt]=arguments[vt+2];oe.children=Ue}return I(O.type,Te,oe)},Ce.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ce.createElement=function(O,Q,se){var oe,Te={},Ie=null;if(Q!=null)for(oe in Q.key!==void 0&&(Ie=""+Q.key),Q)w.call(Q,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Te[oe]=Q[oe]);var Ue=arguments.length-2;if(Ue===1)Te.children=se;else if(1<Ue){for(var vt=Array(Ue),mt=0;mt<Ue;mt++)vt[mt]=arguments[mt+2];Te.children=vt}if(O&&O.defaultProps)for(oe in Ue=O.defaultProps,Ue)Te[oe]===void 0&&(Te[oe]=Ue[oe]);return I(O,Ie,Te)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(O){return{$$typeof:y,render:O}},Ce.isValidElement=N,Ce.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:ce}},Ce.memo=function(O,Q){return{$$typeof:_,type:O,compare:Q===void 0?null:Q}},Ce.startTransition=function(O){var Q=C.T,se={};C.T=se;try{var oe=O(),Te=C.S;Te!==null&&Te(se,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Ve,ze)}catch(Ie){ze(Ie)}finally{Q!==null&&se.types!==null&&(Q.types=se.types),C.T=Q}},Ce.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ce.use=function(O){return C.H.use(O)},Ce.useActionState=function(O,Q,se){return C.H.useActionState(O,Q,se)},Ce.useCallback=function(O,Q){return C.H.useCallback(O,Q)},Ce.useContext=function(O){return C.H.useContext(O)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(O,Q){return C.H.useDeferredValue(O,Q)},Ce.useEffect=function(O,Q){return C.H.useEffect(O,Q)},Ce.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Ce.useId=function(){return C.H.useId()},Ce.useImperativeHandle=function(O,Q,se){return C.H.useImperativeHandle(O,Q,se)},Ce.useInsertionEffect=function(O,Q){return C.H.useInsertionEffect(O,Q)},Ce.useLayoutEffect=function(O,Q){return C.H.useLayoutEffect(O,Q)},Ce.useMemo=function(O,Q){return C.H.useMemo(O,Q)},Ce.useOptimistic=function(O,Q){return C.H.useOptimistic(O,Q)},Ce.useReducer=function(O,Q,se){return C.H.useReducer(O,Q,se)},Ce.useRef=function(O){return C.H.useRef(O)},Ce.useState=function(O){return C.H.useState(O)},Ce.useSyncExternalStore=function(O,Q,se){return C.H.useSyncExternalStore(O,Q,se)},Ce.useTransition=function(){return C.H.useTransition()},Ce.version="19.2.3",Ce}var F_;function Cm(){return F_||(F_=1,jd.exports=Lb()),jd.exports}var Ze=Cm(),Pd={exports:{}},Il={},zd={exports:{}},Bd={};var K_;function jb(){return K_||(K_=1,(function(s){function e(H,te){var ce=H.length;H.push(te);e:for(;0<ce;){var ze=ce-1>>>1,Ye=H[ze];if(0<l(Ye,te))H[ze]=te,H[ce]=Ye,ce=ze;else break e}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var te=H[0],ce=H.pop();if(ce!==te){H[0]=ce;e:for(var ze=0,Ye=H.length,O=Ye>>>1;ze<O;){var Q=2*(ze+1)-1,se=H[Q],oe=Q+1,Te=H[oe];if(0>l(se,ce))oe<Ye&&0>l(Te,se)?(H[ze]=Te,H[oe]=ce,ze=oe):(H[ze]=se,H[Q]=ce,ze=Q);else if(oe<Ye&&0>l(Te,ce))H[ze]=Te,H[oe]=ce,ze=oe;else break e}}return te}function l(H,te){var ce=H.sortIndex-te.sortIndex;return ce!==0?ce:H.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var g=[],_=[],S=1,A=null,M=3,F=!1,ie=!1,re=!1,Z=!1,pe=typeof setTimeout=="function"?setTimeout:null,ge=typeof clearTimeout=="function"?clearTimeout:null,ve=typeof setImmediate<"u"?setImmediate:null;function tt(H){for(var te=i(_);te!==null;){if(te.callback===null)a(_);else if(te.startTime<=H)a(_),te.sortIndex=te.expirationTime,e(g,te);else break;te=i(_)}}function dt(H){if(re=!1,tt(H),!ie)if(i(g)!==null)ie=!0,Ve||(Ve=!0,U());else{var te=i(_);te!==null&&Rt(dt,te.startTime-H)}}var Ve=!1,C=-1,w=5,I=-1;function V(){return Z?!0:!(s.unstable_now()-I<w)}function N(){if(Z=!1,Ve){var H=s.unstable_now();I=H;var te=!0;try{e:{ie=!1,re&&(re=!1,ge(C),C=-1),F=!0;var ce=M;try{t:{for(tt(H),A=i(g);A!==null&&!(A.expirationTime>H&&V());){var ze=A.callback;if(typeof ze=="function"){A.callback=null,M=A.priorityLevel;var Ye=ze(A.expirationTime<=H);if(H=s.unstable_now(),typeof Ye=="function"){A.callback=Ye,tt(H),te=!0;break t}A===i(g)&&a(g),tt(H)}else a(g);A=i(g)}if(A!==null)te=!0;else{var O=i(_);O!==null&&Rt(dt,O.startTime-H),te=!1}}break e}finally{A=null,M=ce,F=!1}te=void 0}}finally{te?U():Ve=!1}}}var U;if(typeof ve=="function")U=function(){ve(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,at=R.port2;R.port1.onmessage=N,U=function(){at.postMessage(null)}}else U=function(){pe(N,0)};function Rt(H,te){C=pe(function(){H(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(H){switch(M){case 1:case 2:case 3:var te=3;break;default:te=M}var ce=M;M=te;try{return H()}finally{M=ce}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ce=M;M=H;try{return te()}finally{M=ce}},s.unstable_scheduleCallback=function(H,te,ce){var ze=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ze+ce:ze):ce=ze,H){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=ce+Ye,H={id:S++,callback:te,priorityLevel:H,startTime:ce,expirationTime:Ye,sortIndex:-1},ce>ze?(H.sortIndex=ce,e(_,H),i(g)===null&&H===i(_)&&(re?(ge(C),C=-1):re=!0,Rt(dt,ce-ze))):(H.sortIndex=Ye,e(g,H),ie||F||(ie=!0,Ve||(Ve=!0,U()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var te=M;return function(){var ce=M;M=te;try{return H.apply(this,arguments)}finally{M=ce}}}})(Bd)),Bd}var Q_;function Pb(){return Q_||(Q_=1,zd.exports=jb()),zd.exports}var qd={exports:{}},cn={};var Y_;function zb(){if(Y_)return cn;Y_=1;var s=Cm();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,_,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:g,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,cn.createPortal=function(g,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(g,_,null,S)},cn.flushSync=function(g){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=_,a.p=S,a.d.f()}},cn.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(g,_))},cn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},cn.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var S=_.as,A=y(S,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:F}):S==="script"&&a.d.X(g,{crossOrigin:A,integrity:M,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},cn.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);a.d.M(g,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(g)},cn.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,A=y(S,_.crossOrigin);a.d.L(g,S,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},cn.preloadModule=function(g,_){if(typeof g=="string")if(_){var S=y(_.as,_.crossOrigin);a.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(g)},cn.requestFormReset=function(g){a.d.r(g)},cn.unstable_batchedUpdates=function(g,_){return g(_)},cn.useFormState=function(g,_,S){return d.H.useFormState(g,_,S)},cn.useFormStatus=function(){return d.H.useHostTransitionStatus()},cn.version="19.2.3",cn}var X_;function Bb(){if(X_)return qd.exports;X_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),qd.exports=zb(),qd.exports}var $_;function qb(){if($_)return Il;$_=1;var s=Pb(),e=Cm(),i=Bb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return g(h),t;if(f===o)return g(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,o=f;break}if(E===o){p=!0,o=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,o=h;break}if(E===o){p=!0,o=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),ie=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),ge=Symbol.for("react.consumer"),ve=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case pe:return"Profiler";case Z:return"StrictMode";case dt:return"Suspense";case Ve:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ie:return"Portal";case ve:return t.displayName||"Context";case ge:return(t._context.displayName||"Context")+".Consumer";case tt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:at(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return at(t(n))}catch{}}return null}var Rt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ze=[],Ye=-1;function O(t){return{current:t}}function Q(t){0>Ye||(t.current=ze[Ye],ze[Ye]=null,Ye--)}function se(t,n){Ye++,ze[Ye]=t.current,t.current=n}var oe=O(null),Te=O(null),Ie=O(null),Ue=O(null);function vt(t,n){switch(se(Ie,n),se(Te,t),se(oe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?h_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=h_(n),t=f_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(oe),se(oe,t)}function mt(){Q(oe),Q(Te),Q(Ie)}function xn(t){t.memoizedState!==null&&se(Ue,t);var n=oe.current,r=f_(n,t.type);n!==r&&(se(Te,t),se(oe,r))}function Wi(t){Te.current===t&&(Q(oe),Q(Te)),Ue.current===t&&(Q(Ue),Sl._currentValue=ce)}var Si,es;function ee(t){if(Si===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Si=n&&n[1]||"",es=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Si+t+es}var W=!1;function ae(t,n){if(!t||W)return"";W=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var z=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){z=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){z=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var x=p.split(`
`),P=E.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===P.length)for(o=x.length-1,h=P.length-1;1<=o&&0<=h&&x[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==P[h]){var G=`
`+x[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{W=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ee(r):""}function be(t,n){switch(t.tag){case 26:case 27:case 5:return ee(t.type);case 16:return ee("Lazy");case 13:return t.child!==n&&n!==null?ee("Suspense Fallback"):ee("Suspense");case 19:return ee("SuspenseList");case 0:case 15:return ae(t.type,!1);case 11:return ae(t.type.render,!1);case 1:return ae(t.type,!0);case 31:return ee("Activity");default:return""}}function Xe(t){try{var n="",r=null;do n+=be(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ae=Object.prototype.hasOwnProperty,ke=s.unstable_scheduleCallback,Re=s.unstable_cancelCallback,Le=s.unstable_shouldYield,St=s.unstable_requestPaint,Se=s.unstable_now,ot=s.unstable_getCurrentPriorityLevel,J=s.unstable_ImmediatePriority,he=s.unstable_UserBlockingPriority,Et=s.unstable_NormalPriority,Nt=s.unstable_LowPriority,xt=s.unstable_IdlePriority,zn=s.log,In=s.unstable_setDisableYieldValue,Cn=null,en=null;function Bn(t){if(typeof zn=="function"&&In(t),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(Cn,t)}catch{}}var Dt=Math.clz32?Math.clz32:fu,hu=Math.log,da=Math.LN2;function fu(t){return t>>>=0,t===0?32:31-(hu(t)/da|0)|0}var Ai=256,Cr=262144,Ut=4194304;function wi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ri(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=wi(o):(p&=E,p!==0?h=wi(p):r||(r=E&~t,r!==0&&(h=wi(r))))):(E=o&~f,E!==0?h=wi(E):p!==0?h=wi(p):r||(r=o&~t,r!==0&&(h=wi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function oi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function zh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function du(){var t=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),t}function xi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Nr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bh(t,n,r,o,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,x=t.expirationTimes,P=t.hiddenUpdates;for(r=p&~r;0<r;){var G=31-Dt(r),Y=1<<G;E[G]=0,x[G]=-1;var z=P[G];if(z!==null)for(P[G]=null,G=0;G<z.length;G++){var q=z[G];q!==null&&(q.lane&=-536870913)}r&=~Y}o!==0&&Dr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Dr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Dt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function Io(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-Dt(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function Co(t,n){var r=n&-n;return r=(r&42)!==0?1:Or(r),(r&(t.suspendedLanes|n))!==0?0:r}function Or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ts(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function mu(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:k_(t.type))}function li(t,n){var r=te.p;try{return te.p=t,n()}finally{te.p=r}}var ui=Math.random().toString(36).slice(2),Lt="__reactFiber$"+ui,$t="__reactProps$"+ui,Ii="__reactContainer$"+ui,ma="__reactEvents$"+ui,qh="__reactListeners$"+ui,gu="__reactHandles$"+ui,pu="__reactResources$"+ui,Ci="__reactMarker$"+ui;function ga(t){delete t[Lt],delete t[$t],delete t[ma],delete t[qh],delete t[gu]}function Ni(t){var n=t[Lt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ii]||r[Lt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=v_(t);t!==null;){if(r=t[Lt])return r;t=v_(t)}return n}t=r,r=t.parentNode}return null}function qn(t){if(t=t[Lt]||t[Ii]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Nn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Di(t){var n=t[pu];return n||(n=t[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function jt(t){t[Ci]=!0}var No=new Set,Do={};function Oi(t,n){Mi(t,n),Mi(t+"Capture",n)}function Mi(t,n){for(Do[t]=n,t=0;t<n.length;t++)No.add(n[t])}var Oo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mo={},Vo={};function yu(t){return Ae.call(Vo,t)?!0:Ae.call(Mo,t)?!1:Oo.test(t)?Vo[t]=!0:(Mo[t]=!0,!1)}function pa(t,n,r){if(yu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Dn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Pt(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ds(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ko(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function it(t){if(!t._valueTracker){var n=Ds(t)?"checked":"value";t._valueTracker=ko(t,n,""+t[n])}}function Mr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Ds(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Vi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vr=/[\n"\\]/g;function _n(t){return t.replace(Vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ya(t,n,r,o,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Jt(n)):t.value!==""+Jt(n)&&(t.value=""+Jt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Uo(t,p,Jt(n)):r!=null?Uo(t,p,Jt(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Jt(E):t.removeAttribute("name")}function _u(t,n,r,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){it(t);return}r=r!=null?""+Jt(r):"",n=n!=null?""+Jt(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),it(t)}function Uo(t,n,r){n==="number"&&Vi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Os(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Jt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function vu(t,n,r){if(n!=null&&(n=""+Jt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Jt(r):""}function Ms(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Rt(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Jt(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),it(t)}function vn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lo(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||Eu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function jo(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Lo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Lo(t,f,n[f])}function _a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return Vs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ci(){}var Po=null;function Hn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ks=null,ki=null;function kr(t){var n=qn(t);if(n&&(t=n.stateNode)){var r=t[$t]||null;e:switch(t=n.stateNode,n.type){case"input":if(ya(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+_n(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[$t]||null;if(!h)throw Error(a(90));ya(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&Mr(o)}break e;case"textarea":vu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Os(t,!!r.multiple,n,!1)}}}var Ea=!1;function Us(t,n,r){if(Ea)return t(n,r);Ea=!0;try{var o=t(n);return o}finally{if(Ea=!1,(ks!==null||ki!==null)&&(mc(),ks&&(n=ks,t=ki,ki=ks=null,kr(n),t)))for(n=0;n<t.length;n++)kr(t[n])}}function hi(t,n){var r=t.stateNode;if(r===null)return null;var o=r[$t]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ur=!1;if(Gn)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{Ur=!1}var Ui=null,zo=null,Lr=null;function Bo(){if(Lr)return Lr;var t,n=zo,r=n.length,o,h="value"in Ui?Ui.value:Ui.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return Lr=h.slice(t,1<o?1-o:void 0)}function jr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ns(){return!0}function fi(){return!1}function tn(t){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ns:fi,this.isPropagationStopped=fi,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),n}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=tn(is),Ls=A({},is,{view:0,detail:0}),qo=tn(Ls),js,Ta,ji,ba=A({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ji&&(ji&&t.type==="mousemove"?(js=t.screenX-ji.screenX,Ta=t.screenY-ji.screenY):Ta=js=0,ji=t),js)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),Ho=tn(ba),Pr=A({},ba,{dataTransfer:0}),bu=tn(Pr),Su=A({},Ls,{relatedTarget:0}),zr=tn(Su),Go=A({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),Au=tn(Go),Sa=A({},is,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wu=tn(Sa),Ru=A({},is,{data:0}),Pi=tn(Ru),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Cu[t])?!!n[t]:!1}function Ps(){return Nu}var gn=A({},Ls,{key:function(t){if(t.key){var n=xu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=jr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(t){return t.type==="keypress"?jr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Du=tn(gn),Ou=A({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ss=tn(Ou),u=A({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),m=tn(u),v=A({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=tn(v),L=A({},ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=tn(L),ne=A({},is,{newState:0,oldState:0}),De=tn(ne),Ot=[9,13,27,32],We=Gn&&"CompositionEvent"in window,Tt=null;Gn&&"documentMode"in document&&(Tt=document.documentMode);var Fn=Gn&&"TextEvent"in window&&!Tt,zi=Gn&&(!We||Tt&&8<Tt&&11>=Tt),di=" ",mi=!1;function Br(t,n){switch(t){case"keyup":return Ot.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wa=!1;function rT(t,n){switch(t){case"compositionend":return Aa(n);case"keypress":return n.which!==32?null:(mi=!0,di);case"textInput":return t=n.data,t===di&&mi?null:t;default:return null}}function aT(t,n){if(wa)return t==="compositionend"||!We&&Br(t,n)?(t=Bo(),Lr=zo=Ui=null,wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return zi&&n.locale!=="ko"?null:n.data;default:return null}}var oT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!oT[t.type]:n==="textarea"}function Sg(t,n,r,o){ks?ki?ki.push(o):ki=[o]:ks=o,n=Tc(n,"onChange"),0<n.length&&(r=new Li("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var Fo=null,Ko=null;function lT(t){r_(t,0)}function Mu(t){var n=Nn(t);if(Mr(n))return t}function Ag(t,n){if(t==="change")return n}var wg=!1;if(Gn){var Hh;if(Gn){var Gh="oninput"in document;if(!Gh){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),Gh=typeof Rg.oninput=="function"}Hh=Gh}else Hh=!1;wg=Hh&&(!document.documentMode||9<document.documentMode)}function xg(){Fo&&(Fo.detachEvent("onpropertychange",Ig),Ko=Fo=null)}function Ig(t){if(t.propertyName==="value"&&Mu(Ko)){var n=[];Sg(n,Ko,t,Hn(t)),Us(lT,n)}}function uT(t,n,r){t==="focusin"?(xg(),Fo=n,Ko=r,Fo.attachEvent("onpropertychange",Ig)):t==="focusout"&&xg()}function cT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mu(Ko)}function hT(t,n){if(t==="click")return Mu(n)}function fT(t,n){if(t==="input"||t==="change")return Mu(n)}function dT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var On=typeof Object.is=="function"?Object.is:dT;function Qo(t,n){if(On(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Ae.call(n,h)||!On(t[h],n[h]))return!1}return!0}function Cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ng(t,n){var r=Cg(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cg(r)}}function Dg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Dg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Og(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Vi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Vi(t.document)}return n}function Fh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var mT=Gn&&"documentMode"in document&&11>=document.documentMode,Ra=null,Kh=null,Yo=null,Qh=!1;function Mg(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qh||Ra==null||Ra!==Vi(o)||(o=Ra,"selectionStart"in o&&Fh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Yo&&Qo(Yo,o)||(Yo=o,o=Tc(Kh,"onSelect"),0<o.length&&(n=new Li("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=Ra)))}function qr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var xa={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},Yh={},Vg={};Gn&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Hr(t){if(Yh[t])return Yh[t];if(!xa[t])return t;var n=xa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Vg)return Yh[t]=n[r];return t}var kg=Hr("animationend"),Ug=Hr("animationiteration"),Lg=Hr("animationstart"),gT=Hr("transitionrun"),pT=Hr("transitionstart"),yT=Hr("transitioncancel"),jg=Hr("transitionend"),Pg=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function gi(t,n){Pg.set(t,n),Oi(n,[t])}var Vu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Kn=[],Ia=0,$h=0;function ku(){for(var t=Ia,n=$h=Ia=0;n<t;){var r=Kn[n];Kn[n++]=null;var o=Kn[n];Kn[n++]=null;var h=Kn[n];Kn[n++]=null;var f=Kn[n];if(Kn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&zg(r,h,f)}}function Uu(t,n,r,o){Kn[Ia++]=t,Kn[Ia++]=n,Kn[Ia++]=r,Kn[Ia++]=o,$h|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Jh(t,n,r,o){return Uu(t,n,r,o),Lu(t)}function Gr(t,n){return Uu(t,null,null,n),Lu(t)}function zg(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Dt(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Lu(t){if(50<pl)throw pl=0,od=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ca={};function _T(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,n,r,o){return new _T(t,n,r,o)}function Zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rs(t,n){var r=t.alternate;return r===null?(r=Mn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Bg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ju(t,n,r,o,h,f){var p=0;if(o=t,typeof t=="function")Zh(t)&&(p=1);else if(typeof t=="string")p=Sb(t,r,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Mn(31,r,n,h),t.elementType=I,t.lanes=f,t;case re:return Fr(r.children,h,f,n);case Z:p=8,h|=24;break;case pe:return t=Mn(12,r,n,h|2),t.elementType=pe,t.lanes=f,t;case dt:return t=Mn(13,r,n,h),t.elementType=dt,t.lanes=f,t;case Ve:return t=Mn(19,r,n,h),t.elementType=Ve,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ve:p=10;break e;case ge:p=9;break e;case tt:p=11;break e;case C:p=14;break e;case w:p=16,o=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Mn(p,r,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Fr(t,n,r,o){return t=Mn(7,t,o,n),t.lanes=r,t}function Wh(t,n,r){return t=Mn(6,t,null,n),t.lanes=r,t}function qg(t){var n=Mn(18,null,null,0);return n.stateNode=t,n}function ef(t,n,r){return n=Mn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Hg=new WeakMap;function Qn(t,n){if(typeof t=="object"&&t!==null){var r=Hg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Xe(n)},Hg.set(t,n),n)}return{value:t,source:n,stack:Xe(n)}}var Na=[],Da=0,Pu=null,Xo=0,Yn=[],Xn=0,zs=null,Bi=1,qi="";function as(t,n){Na[Da++]=Xo,Na[Da++]=Pu,Pu=t,Xo=n}function Gg(t,n,r){Yn[Xn++]=Bi,Yn[Xn++]=qi,Yn[Xn++]=zs,zs=t;var o=Bi;t=qi;var h=32-Dt(o)-1;o&=~(1<<h),r+=1;var f=32-Dt(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Bi=1<<32-Dt(n)+h|r<<h|o,qi=f+t}else Bi=1<<f|r<<h|o,qi=t}function tf(t){t.return!==null&&(as(t,1),Gg(t,1,0))}function nf(t){for(;t===Pu;)Pu=Na[--Da],Na[Da]=null,Xo=Na[--Da],Na[Da]=null;for(;t===zs;)zs=Yn[--Xn],Yn[Xn]=null,qi=Yn[--Xn],Yn[Xn]=null,Bi=Yn[--Xn],Yn[Xn]=null}function Fg(t,n){Yn[Xn++]=Bi,Yn[Xn++]=qi,Yn[Xn++]=zs,Bi=n.id,qi=n.overflow,zs=t}var nn=null,pt=null,Ke=!1,Bs=null,$n=!1,sf=Error(a(519));function qs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $o(Qn(n,t)),sf}function Kg(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[Lt]=t,n[$t]=o,r){case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":case"embed":Pe("load",n);break;case"video":case"audio":for(r=0;r<_l.length;r++)Pe(_l[r],n);break;case"source":Pe("error",n);break;case"img":case"image":case"link":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"input":Pe("invalid",n),_u(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Pe("invalid",n);break;case"textarea":Pe("invalid",n),Ms(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||u_(n.textContent,r)?(o.popover!=null&&(Pe("beforetoggle",n),Pe("toggle",n)),o.onScroll!=null&&Pe("scroll",n),o.onScrollEnd!=null&&Pe("scrollend",n),o.onClick!=null&&(n.onclick=ci),n=!0):n=!1,n||qs(t,!0)}function Qg(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:nn=nn.return}}function Oa(t){if(t!==nn)return!1;if(!Ke)return Qg(t),Ke=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||bd(t.type,t.memoizedProps)),r=!r),r&&pt&&qs(t),Qg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=__(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=__(t)}else n===27?(n=pt,nr(t.type)?(t=xd,xd=null,pt=t):pt=n):pt=nn?Zn(t.stateNode.nextSibling):null;return!0}function Kr(){pt=nn=null,Ke=!1}function rf(){var t=Bs;return t!==null&&(Sn===null?Sn=t:Sn.push.apply(Sn,t),Bs=null),t}function $o(t){Bs===null?Bs=[t]:Bs.push(t)}var af=O(null),Qr=null,os=null;function Hs(t,n,r){se(af,n._currentValue),n._currentValue=r}function ls(t){t._currentValue=af.current,Q(af)}function of(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function lf(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var x=0;x<n.length;x++)if(E.context===n[x]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),of(f.return,r,t),o||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),of(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ma(t,n,r,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;On(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ue.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}h=h.return}t!==null&&lf(n,t,r,o),n.flags|=262144}function zu(t){for(t=t.firstContext;t!==null;){if(!On(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yr(t){Qr=t,os=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return Yg(Qr,t)}function Bu(t,n){return Qr===null&&Yr(t),Yg(t,n)}function Yg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},os===null){if(t===null)throw Error(a(308));os=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else os=os.next=n;return r}var vT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},ET=s.unstable_scheduleCallback,TT=s.unstable_NormalPriority,zt={$$typeof:ve,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new vT,data:new Map,refCount:0}}function Jo(t){t.refCount--,t.refCount===0&&ET(TT,function(){t.controller.abort()})}var Zo=null,cf=0,Va=0,ka=null;function bT(t,n){if(Zo===null){var r=Zo=[];cf=0,Va=dd(),ka={status:"pending",value:void 0,then:function(o){r.push(o)}}}return cf++,n.then(Xg,Xg),n}function Xg(){if(--cf===0&&Zo!==null){ka!==null&&(ka.status="fulfilled");var t=Zo;Zo=null,Va=0,ka=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function ST(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var $g=H.S;H.S=function(t,n){My=Se(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&bT(t,n),$g!==null&&$g(t,n)};var Xr=O(null);function hf(){var t=Xr.current;return t!==null?t:ft.pooledCache}function qu(t,n){n===null?se(Xr,Xr.current):se(Xr,n.pool)}function Jg(){var t=hf();return t===null?null:{parent:zt._currentValue,pool:t}}var Ua=Error(a(460)),ff=Error(a(474)),Hu=Error(a(542)),Gu={then:function(){}};function Zg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ci,ci),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,tp(t),t;default:if(typeof n.status=="string")n.then(ci,ci);else{if(t=ft,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,tp(t),t}throw Jr=n,Ua}}function $r(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Jr=r,Ua):r}}var Jr=null;function ep(){if(Jr===null)throw Error(a(459));var t=Jr;return Jr=null,t}function tp(t){if(t===Ua||t===Hu)throw Error(a(483))}var La=null,Wo=0;function Fu(t){var n=Wo;return Wo+=1,La===null&&(La=[]),Wg(La,t,n)}function el(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ku(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function np(t){function n(k,D){if(t){var j=k.deletions;j===null?(k.deletions=[D],k.flags|=16):j.push(D)}}function r(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=rs(k,D),k.index=0,k.sibling=null,k}function f(k,D,j){return k.index=j,t?(j=k.alternate,j!==null?(j=j.index,j<D?(k.flags|=67108866,D):j):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,j,K){return D===null||D.tag!==6?(D=Wh(j,k.mode,K),D.return=k,D):(D=h(D,j),D.return=k,D)}function x(k,D,j,K){var me=j.type;return me===re?G(k,D,j.props.children,K,j.key):D!==null&&(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&$r(me)===D.type)?(D=h(D,j.props),el(D,j),D.return=k,D):(D=ju(j.type,j.key,j.props,null,k.mode,K),el(D,j),D.return=k,D)}function P(k,D,j,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=ef(j,k.mode,K),D.return=k,D):(D=h(D,j.children||[]),D.return=k,D)}function G(k,D,j,K,me){return D===null||D.tag!==7?(D=Fr(j,k.mode,K,me),D.return=k,D):(D=h(D,j),D.return=k,D)}function Y(k,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Wh(""+D,k.mode,j),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return j=ju(D.type,D.key,D.props,null,k.mode,j),el(j,D),j.return=k,j;case ie:return D=ef(D,k.mode,j),D.return=k,D;case w:return D=$r(D),Y(k,D,j)}if(Rt(D)||U(D))return D=Fr(D,k.mode,j,null),D.return=k,D;if(typeof D.then=="function")return Y(k,Fu(D),j);if(D.$$typeof===ve)return Y(k,Bu(k,D),j);Ku(k,D)}return null}function z(k,D,j,K){var me=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return me!==null?null:E(k,D,""+j,K);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case F:return j.key===me?x(k,D,j,K):null;case ie:return j.key===me?P(k,D,j,K):null;case w:return j=$r(j),z(k,D,j,K)}if(Rt(j)||U(j))return me!==null?null:G(k,D,j,K,null);if(typeof j.then=="function")return z(k,D,Fu(j),K);if(j.$$typeof===ve)return z(k,D,Bu(k,j),K);Ku(k,j)}return null}function q(k,D,j,K,me){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(j)||null,E(D,k,""+K,me);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return k=k.get(K.key===null?j:K.key)||null,x(D,k,K,me);case ie:return k=k.get(K.key===null?j:K.key)||null,P(D,k,K,me);case w:return K=$r(K),q(k,D,j,K,me)}if(Rt(K)||U(K))return k=k.get(j)||null,G(D,k,K,me,null);if(typeof K.then=="function")return q(k,D,j,Fu(K),me);if(K.$$typeof===ve)return q(k,D,j,Bu(D,K),me);Ku(D,K)}return null}function ue(k,D,j,K){for(var me=null,$e=null,fe=D,Me=D=0,qe=null;fe!==null&&Me<j.length;Me++){fe.index>Me?(qe=fe,fe=null):qe=fe.sibling;var Je=z(k,fe,j[Me],K);if(Je===null){fe===null&&(fe=qe);break}t&&fe&&Je.alternate===null&&n(k,fe),D=f(Je,D,Me),$e===null?me=Je:$e.sibling=Je,$e=Je,fe=qe}if(Me===j.length)return r(k,fe),Ke&&as(k,Me),me;if(fe===null){for(;Me<j.length;Me++)fe=Y(k,j[Me],K),fe!==null&&(D=f(fe,D,Me),$e===null?me=fe:$e.sibling=fe,$e=fe);return Ke&&as(k,Me),me}for(fe=o(fe);Me<j.length;Me++)qe=q(fe,k,Me,j[Me],K),qe!==null&&(t&&qe.alternate!==null&&fe.delete(qe.key===null?Me:qe.key),D=f(qe,D,Me),$e===null?me=qe:$e.sibling=qe,$e=qe);return t&&fe.forEach(function(or){return n(k,or)}),Ke&&as(k,Me),me}function _e(k,D,j,K){if(j==null)throw Error(a(151));for(var me=null,$e=null,fe=D,Me=D=0,qe=null,Je=j.next();fe!==null&&!Je.done;Me++,Je=j.next()){fe.index>Me?(qe=fe,fe=null):qe=fe.sibling;var or=z(k,fe,Je.value,K);if(or===null){fe===null&&(fe=qe);break}t&&fe&&or.alternate===null&&n(k,fe),D=f(or,D,Me),$e===null?me=or:$e.sibling=or,$e=or,fe=qe}if(Je.done)return r(k,fe),Ke&&as(k,Me),me;if(fe===null){for(;!Je.done;Me++,Je=j.next())Je=Y(k,Je.value,K),Je!==null&&(D=f(Je,D,Me),$e===null?me=Je:$e.sibling=Je,$e=Je);return Ke&&as(k,Me),me}for(fe=o(fe);!Je.done;Me++,Je=j.next())Je=q(fe,k,Me,Je.value,K),Je!==null&&(t&&Je.alternate!==null&&fe.delete(Je.key===null?Me:Je.key),D=f(Je,D,Me),$e===null?me=Je:$e.sibling=Je,$e=Je);return t&&fe.forEach(function(Vb){return n(k,Vb)}),Ke&&as(k,Me),me}function ht(k,D,j,K){if(typeof j=="object"&&j!==null&&j.type===re&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case F:e:{for(var me=j.key;D!==null;){if(D.key===me){if(me=j.type,me===re){if(D.tag===7){r(k,D.sibling),K=h(D,j.props.children),K.return=k,k=K;break e}}else if(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&$r(me)===D.type){r(k,D.sibling),K=h(D,j.props),el(K,j),K.return=k,k=K;break e}r(k,D);break}else n(k,D);D=D.sibling}j.type===re?(K=Fr(j.props.children,k.mode,K,j.key),K.return=k,k=K):(K=ju(j.type,j.key,j.props,null,k.mode,K),el(K,j),K.return=k,k=K)}return p(k);case ie:e:{for(me=j.key;D!==null;){if(D.key===me)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){r(k,D.sibling),K=h(D,j.children||[]),K.return=k,k=K;break e}else{r(k,D);break}else n(k,D);D=D.sibling}K=ef(j,k.mode,K),K.return=k,k=K}return p(k);case w:return j=$r(j),ht(k,D,j,K)}if(Rt(j))return ue(k,D,j,K);if(U(j)){if(me=U(j),typeof me!="function")throw Error(a(150));return j=me.call(j),_e(k,D,j,K)}if(typeof j.then=="function")return ht(k,D,Fu(j),K);if(j.$$typeof===ve)return ht(k,D,Bu(k,j),K);Ku(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,D!==null&&D.tag===6?(r(k,D.sibling),K=h(D,j),K.return=k,k=K):(r(k,D),K=Wh(j,k.mode,K),K.return=k,k=K),p(k)):r(k,D)}return function(k,D,j,K){try{Wo=0;var me=ht(k,D,j,K);return La=null,me}catch(fe){if(fe===Ua||fe===Hu)throw fe;var $e=Mn(29,fe,null,k.mode);return $e.lanes=K,$e.return=k,$e}}}var Zr=np(!0),ip=np(!1),Gs=!1;function df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ks(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(et&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Lu(t),zg(t,null,r),n}return Uu(t,o,n,r),Lu(t)}function tl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Io(t,r)}}function gf(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var pf=!1;function nl(){if(pf){var t=ka;if(t!==null)throw t}}function il(t,n,r,o){pf=!1;var h=t.updateQueue;Gs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,P=x.next;x.next=null,p===null?f=P:p.next=P,p=x;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=x))}if(f!==null){var Y=h.baseState;p=0,G=P=x=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Be&z)===z:(o&z)===z){z!==0&&z===Va&&(pf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ue=t,_e=E;z=n;var ht=r;switch(_e.tag){case 1:if(ue=_e.payload,typeof ue=="function"){Y=ue.call(ht,Y,z);break e}Y=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=_e.payload,z=typeof ue=="function"?ue.call(ht,Y,z):ue,z==null)break e;Y=A({},Y,z);break e;case 2:Gs=!0}}z=E.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=q,x=Y):G=G.next=q,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(x=Y),h.baseState=x,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Js|=p,t.lanes=p,t.memoizedState=Y}}function sp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function rp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)sp(r[t],n)}var ja=O(null),Qu=O(0);function ap(t,n){t=ys,se(Qu,t),se(ja,n),ys=t|n.baseLanes}function yf(){se(Qu,ys),se(ja,ja.current)}function _f(){ys=Qu.current,Q(ja),Q(Qu)}var Vn=O(null),Jn=null;function Qs(t){var n=t.alternate;se(Mt,Mt.current&1),se(Vn,t),Jn===null&&(n===null||ja.current!==null||n.memoizedState!==null)&&(Jn=t)}function vf(t){se(Mt,Mt.current),se(Vn,t),Jn===null&&(Jn=t)}function op(t){t.tag===22?(se(Mt,Mt.current),se(Vn,t),Jn===null&&(Jn=t)):Ys()}function Ys(){se(Mt,Mt.current),se(Vn,Vn.current)}function kn(t){Q(Vn),Jn===t&&(Jn=null),Q(Mt)}var Mt=O(0);function Yu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||wd(r)||Rd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var us=0,Oe=null,ut=null,Bt=null,Xu=!1,Pa=!1,Wr=!1,$u=0,sl=0,za=null,AT=0;function It(){throw Error(a(321))}function Ef(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!On(t[r],n[r]))return!1;return!0}function Tf(t,n,r,o,h,f){return us=f,Oe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Gp:Uf,Wr=!1,f=r(o,h),Wr=!1,Pa&&(f=up(n,r,o,h)),lp(t),f}function lp(t){H.H=ol;var n=ut!==null&&ut.next!==null;if(us=0,Bt=ut=Oe=null,Xu=!1,sl=0,za=null,n)throw Error(a(300));t===null||qt||(t=t.dependencies,t!==null&&zu(t)&&(qt=!0))}function up(t,n,r,o){Oe=t;var h=0;do{if(Pa&&(za=null),sl=0,Pa=!1,25<=h)throw Error(a(301));if(h+=1,Bt=ut=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Fp,f=n(r,o)}while(Pa);return f}function wT(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?rl(n):n,t=t.useState()[0],(ut!==null?ut.memoizedState:null)!==t&&(Oe.flags|=1024),n}function bf(){var t=$u!==0;return $u=0,t}function Sf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Af(t){if(Xu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Xu=!1}us=0,Bt=ut=Oe=null,Pa=!1,sl=$u=0,za=null}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Oe.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function Vt(){if(ut===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var n=Bt===null?Oe.memoizedState:Bt.next;if(n!==null)Bt=n,ut=t;else{if(t===null)throw Oe.alternate===null?Error(a(467)):Error(a(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Bt===null?Oe.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(t){var n=sl;return sl+=1,za===null&&(za=[]),t=Wg(za,t,n),n=Oe,(Bt===null?n.memoizedState:Bt.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Gp:Uf),t}function Zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return rl(t);if(t.$$typeof===ve)return sn(t)}throw Error(a(438,String(t)))}function wf(t){var n=null,r=Oe.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Oe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ju(),Oe.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=V;return n.index++,r}function cs(t,n){return typeof n=="function"?n(t):n}function Wu(t){var n=Vt();return Rf(n,ut,t)}function Rf(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,x=null,P=n,G=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Be&Y)===Y:(us&Y)===Y){var z=P.revertLane;if(z===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Va&&(G=!0);else if((us&z)===z){P=P.next,z===Va&&(G=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},x===null?(E=x=Y,p=f):x=x.next=Y,Oe.lanes|=z,Js|=z;Y=P.action,Wr&&r(f,Y),f=P.hasEagerState?P.eagerState:r(f,Y)}else z={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},x===null?(E=x=z,p=f):x=x.next=z,Oe.lanes|=Y,Js|=Y;P=P.next}while(P!==null&&P!==n);if(x===null?p=f:x.next=E,!On(f,t.memoizedState)&&(qt=!0,G&&(r=ka,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=x,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function xf(t){var n=Vt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);On(f,n.memoizedState)||(qt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function cp(t,n,r){var o=Oe,h=Vt(),f=Ke;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!On((ut||h).memoizedState,r);if(p&&(h.memoizedState=r,qt=!0),h=h.queue,Nf(dp.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||Bt!==null&&Bt.memoizedState.tag&1){if(o.flags|=2048,Ba(9,{destroy:void 0},fp.bind(null,o,h,r,n),null),ft===null)throw Error(a(349));f||(us&127)!==0||hp(o,n,r)}return r}function hp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Oe.updateQueue,n===null?(n=Ju(),Oe.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function fp(t,n,r,o){n.value=r,n.getSnapshot=o,mp(n)&&gp(t)}function dp(t,n,r){return r(function(){mp(n)&&gp(t)})}function mp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!On(t,r)}catch{return!0}}function gp(t){var n=Gr(t,2);n!==null&&An(n,t,2)}function If(t){var n=pn();if(typeof t=="function"){var r=t;if(t=r(),Wr){Bn(!0);try{r()}finally{Bn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:t},n}function pp(t,n,r,o){return t.baseState=r,Rf(t,ut,typeof o=="function"?o:cs)}function RT(t,n,r,o,h){if(nc(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,yp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function yp(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=r(h,o),x=H.S;x!==null&&x(p,E),_p(t,n,E)}catch(P){Cf(t,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=r(h,o),_p(t,n,f)}catch(P){Cf(t,n,P)}}function _p(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){vp(t,n,o)},function(o){return Cf(t,n,o)}):vp(t,n,r)}function vp(t,n,r){n.status="fulfilled",n.value=r,Ep(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,yp(t,r)))}function Cf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Ep(n),n=n.next;while(n!==o)}t.action=null}function Ep(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Tp(t,n){return n}function bp(t,n){if(Ke){var r=ft.formState;if(r!==null){e:{var o=Oe;if(Ke){if(pt){t:{for(var h=pt,f=$n;h.nodeType!==8;){if(!f){h=null;break t}if(h=Zn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){pt=Zn(h.nextSibling),o=h.data==="F!";break e}}qs(o)}o=!1}o&&(n=r[0])}}return r=pn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tp,lastRenderedState:n},r.queue=o,r=Bp.bind(null,Oe,o),o.dispatch=r,o=If(!1),f=kf.bind(null,Oe,!1,o.queue),o=pn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=RT.bind(null,Oe,h,f,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function Sp(t){var n=Vt();return Ap(n,ut,t)}function Ap(t,n,r){if(n=Rf(t,n,Tp)[0],t=Wu(cs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=rl(n)}catch(p){throw p===Ua?Hu:p}else o=n;n=Vt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Oe.flags|=2048,Ba(9,{destroy:void 0},xT.bind(null,h,r),null)),[o,f,t]}function xT(t,n){t.action=n}function wp(t){var n=Vt(),r=ut;if(r!==null)return Ap(n,r,t);Vt(),n=n.memoizedState,r=Vt();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function Ba(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=Oe.updateQueue,n===null&&(n=Ju(),Oe.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Rp(){return Vt().memoizedState}function ec(t,n,r,o){var h=pn();Oe.flags|=t,h.memoizedState=Ba(1|n,{destroy:void 0},r,o===void 0?null:o)}function tc(t,n,r,o){var h=Vt();o=o===void 0?null:o;var f=h.memoizedState.inst;ut!==null&&o!==null&&Ef(o,ut.memoizedState.deps)?h.memoizedState=Ba(n,f,r,o):(Oe.flags|=t,h.memoizedState=Ba(1|n,f,r,o))}function xp(t,n){ec(8390656,8,t,n)}function Nf(t,n){tc(2048,8,t,n)}function IT(t){Oe.flags|=4;var n=Oe.updateQueue;if(n===null)n=Ju(),Oe.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Ip(t){var n=Vt().memoizedState;return IT({ref:n,nextImpl:t}),function(){if((et&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Cp(t,n){return tc(4,2,t,n)}function Np(t,n){return tc(4,4,t,n)}function Dp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Op(t,n,r){r=r!=null?r.concat([t]):null,tc(4,4,Dp.bind(null,n,t),r)}function Df(){}function Mp(t,n){var r=Vt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Ef(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function Vp(t,n){var r=Vt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Ef(n,o[1]))return o[0];if(o=t(),Wr){Bn(!0);try{t()}finally{Bn(!1)}}return r.memoizedState=[o,n],o}function Of(t,n,r){return r===void 0||(us&1073741824)!==0&&(Be&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=ky(),Oe.lanes|=t,Js|=t,r)}function kp(t,n,r,o){return On(r,n)?r:ja.current!==null?(t=Of(t,r,o),On(t,n)||(qt=!0),t):(us&42)===0||(us&1073741824)!==0&&(Be&261930)===0?(qt=!0,t.memoizedState=r):(t=ky(),Oe.lanes|=t,Js|=t,n)}function Up(t,n,r,o,h){var f=te.p;te.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,kf(t,!1,n,r);try{var x=h(),P=H.S;if(P!==null&&P(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var G=ST(x,o);al(t,n,G,jn(t))}else al(t,n,o,jn(t))}catch(Y){al(t,n,{then:function(){},status:"rejected",reason:Y},jn())}finally{te.p=f,p!==null&&E.types!==null&&(p.types=E.types),H.T=p}}function CT(){}function Mf(t,n,r,o){if(t.tag!==5)throw Error(a(476));var h=Lp(t).queue;Up(t,h,n,ce,r===null?CT:function(){return jp(t),r(o)})}function Lp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:ce},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function jp(t){var n=Lp(t);n.next===null&&(n=t.alternate.memoizedState),al(t,n.next.queue,{},jn())}function Vf(){return sn(Sl)}function Pp(){return Vt().memoizedState}function zp(){return Vt().memoizedState}function NT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=jn();t=Fs(r);var o=Ks(n,t,r);o!==null&&(An(o,n,r),tl(o,n,r)),n={cache:uf()},t.payload=n;return}n=n.return}}function DT(t,n,r){var o=jn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},nc(t)?qp(n,r):(r=Jh(t,n,r,o),r!==null&&(An(r,t,o),Hp(r,n,o)))}function Bp(t,n,r){var o=jn();al(t,n,r,o)}function al(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(nc(t))qp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,On(E,p))return Uu(t,n,h,0),ft===null&&ku(),!1}catch{}if(r=Jh(t,n,h,o),r!==null)return An(r,t,o),Hp(r,n,o),!0}return!1}function kf(t,n,r,o){if(o={lane:2,revertLane:dd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},nc(t)){if(n)throw Error(a(479))}else n=Jh(t,r,o,2),n!==null&&An(n,t,2)}function nc(t){var n=t.alternate;return t===Oe||n!==null&&n===Oe}function qp(t,n){Pa=Xu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Hp(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Io(t,r)}}var ol={readContext:sn,use:Zu,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};ol.useEffectEvent=It;var Gp={readContext:sn,use:Zu,useCallback:function(t,n){return pn().memoizedState=[t,n===void 0?null:n],t},useContext:sn,useEffect:xp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ec(4194308,4,Dp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ec(4194308,4,t,n)},useInsertionEffect:function(t,n){ec(4,2,t,n)},useMemo:function(t,n){var r=pn();n=n===void 0?null:n;var o=t();if(Wr){Bn(!0);try{t()}finally{Bn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=pn();if(r!==void 0){var h=r(n);if(Wr){Bn(!0);try{r(n)}finally{Bn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=DT.bind(null,Oe,t),[o.memoizedState,t]},useRef:function(t){var n=pn();return t={current:t},n.memoizedState=t},useState:function(t){t=If(t);var n=t.queue,r=Bp.bind(null,Oe,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Df,useDeferredValue:function(t,n){var r=pn();return Of(r,t,n)},useTransition:function(){var t=If(!1);return t=Up.bind(null,Oe,t.queue,!0,!1),pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=Oe,h=pn();if(Ke){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ft===null)throw Error(a(349));(Be&127)!==0||hp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,xp(dp.bind(null,o,f,t),[t]),o.flags|=2048,Ba(9,{destroy:void 0},fp.bind(null,o,f,r,n),null),r},useId:function(){var t=pn(),n=ft.identifierPrefix;if(Ke){var r=qi,o=Bi;r=(o&~(1<<32-Dt(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=$u++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=AT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Vf,useFormState:bp,useActionState:bp,useOptimistic:function(t){var n=pn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=kf.bind(null,Oe,!0,r),r.dispatch=n,[t,n]},useMemoCache:wf,useCacheRefresh:function(){return pn().memoizedState=NT.bind(null,Oe)},useEffectEvent:function(t){var n=pn(),r={impl:t};return n.memoizedState=r,function(){if((et&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Uf={readContext:sn,use:Zu,useCallback:Mp,useContext:sn,useEffect:Nf,useImperativeHandle:Op,useInsertionEffect:Cp,useLayoutEffect:Np,useMemo:Vp,useReducer:Wu,useRef:Rp,useState:function(){return Wu(cs)},useDebugValue:Df,useDeferredValue:function(t,n){var r=Vt();return kp(r,ut.memoizedState,t,n)},useTransition:function(){var t=Wu(cs)[0],n=Vt().memoizedState;return[typeof t=="boolean"?t:rl(t),n]},useSyncExternalStore:cp,useId:Pp,useHostTransitionStatus:Vf,useFormState:Sp,useActionState:Sp,useOptimistic:function(t,n){var r=Vt();return pp(r,ut,t,n)},useMemoCache:wf,useCacheRefresh:zp};Uf.useEffectEvent=Ip;var Fp={readContext:sn,use:Zu,useCallback:Mp,useContext:sn,useEffect:Nf,useImperativeHandle:Op,useInsertionEffect:Cp,useLayoutEffect:Np,useMemo:Vp,useReducer:xf,useRef:Rp,useState:function(){return xf(cs)},useDebugValue:Df,useDeferredValue:function(t,n){var r=Vt();return ut===null?Of(r,t,n):kp(r,ut.memoizedState,t,n)},useTransition:function(){var t=xf(cs)[0],n=Vt().memoizedState;return[typeof t=="boolean"?t:rl(t),n]},useSyncExternalStore:cp,useId:Pp,useHostTransitionStatus:Vf,useFormState:wp,useActionState:wp,useOptimistic:function(t,n){var r=Vt();return ut!==null?pp(r,ut,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:wf,useCacheRefresh:zp};Fp.useEffectEvent=Ip;function Lf(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var jf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=jn(),h=Fs(o);h.payload=n,r!=null&&(h.callback=r),n=Ks(t,h,o),n!==null&&(An(n,t,o),tl(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=jn(),h=Fs(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ks(t,h,o),n!==null&&(An(n,t,o),tl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=jn(),o=Fs(r);o.tag=2,n!=null&&(o.callback=n),n=Ks(t,o,r),n!==null&&(An(n,t,r),tl(n,t,r))}};function Kp(t,n,r,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Qo(r,o)||!Qo(h,f):!0}function Qp(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&jf.enqueueReplaceState(n,n.state,null)}function ea(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Yp(t){Vu(t)}function Xp(t){console.error(t)}function $p(t){Vu(t)}function ic(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Jp(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(t,n,r){return r=Fs(r),r.tag=3,r.payload={element:null},r.callback=function(){ic(t,n)},r}function Zp(t){return t=Fs(t),t.tag=3,t}function Wp(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Jp(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Jp(n,r,o),typeof h!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function OT(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ma(n,r,h,!0),r=Vn.current,r!==null){switch(r.tag){case 31:case 13:return Jn===null?gc():r.alternate===null&&Ct===0&&(Ct=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Gu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),cd(t,o,h)),!1;case 22:return r.flags|=65536,o===Gu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),cd(t,o,h)),!1}throw Error(a(435,r.tag))}return cd(t,o,h),gc(),!1}if(Ke)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==sf&&(t=Error(a(422),{cause:o}),$o(Qn(t,r)))):(o!==sf&&(n=Error(a(423),{cause:o}),$o(Qn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Qn(o,r),h=Pf(t.stateNode,o,h),gf(t,h),Ct!==4&&(Ct=2)),!1;var f=Error(a(520),{cause:o});if(f=Qn(f,r),gl===null?gl=[f]:gl.push(f),Ct!==4&&(Ct=2),n===null)return!0;o=Qn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Pf(r.stateNode,o,t),gf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Zs===null||!Zs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Zp(h),Wp(h,t,r,o),gf(r,h),!1}r=r.return}while(r!==null);return!1}var zf=Error(a(461)),qt=!1;function rn(t,n,r,o){n.child=t===null?ip(n,null,r,o):Zr(n,t.child,r,o)}function ey(t,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Yr(n),o=Tf(t,n,r,p,f,h),E=bf(),t!==null&&!qt?(Sf(t,n,h),hs(t,n,h)):(Ke&&E&&tf(n),n.flags|=1,rn(t,n,o,h),n.child)}function ty(t,n,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!Zh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ny(t,n,f,o,h)):(t=ju(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Yf(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Qo,r(p,o)&&t.ref===n.ref)return hs(t,n,h)}return n.flags|=1,t=rs(f,o),t.ref=n.ref,t.return=n,n.child=t}function ny(t,n,r,o,h){if(t!==null){var f=t.memoizedProps;if(Qo(f,o)&&t.ref===n.ref)if(qt=!1,n.pendingProps=o=f,Yf(t,h))(t.flags&131072)!==0&&(qt=!0);else return n.lanes=t.lanes,hs(t,n,h)}return Bf(t,n,r,o,h)}function iy(t,n,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return sy(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&qu(n,f!==null?f.cachePool:null),f!==null?ap(n,f):yf(),op(n);else return o=n.lanes=536870912,sy(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(qu(n,f.cachePool),ap(n,f),Ys(),n.memoizedState=null):(t!==null&&qu(n,null),yf(),Ys());return rn(t,n,h,r),n.child}function ll(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function sy(t,n,r,o,h){var f=hf();return f=f===null?null:{parent:zt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&qu(n,null),yf(),op(n),t!==null&&Ma(t,n,o,!0),n.childLanes=h,null}function sc(t,n){return n=ac({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ry(t,n,r){return Zr(n,t.child,null,r),t=sc(n,n.pendingProps),t.flags|=2,kn(n),n.memoizedState=null,t}function MT(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ke){if(o.mode==="hidden")return t=sc(n,o),n.lanes=536870912,ll(null,t);if(vf(n),(t=pt)?(t=y_(t,$n),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Bi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},r=qg(t),r.return=n,n.child=r,nn=n,pt=null)):t=null,t===null)throw qs(n);return n.lanes=536870912,null}return sc(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(vf(n),h)if(n.flags&256)n.flags&=-257,n=ry(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(qt||Ma(t,n,r,!1),h=(r&t.childLanes)!==0,qt||h){if(o=ft,o!==null&&(p=Co(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Gr(t,p),An(o,t,p),zf;gc(),n=ry(t,n,r)}else t=f.treeContext,pt=Zn(p.nextSibling),nn=n,Ke=!0,Bs=null,$n=!1,t!==null&&Fg(n,t),n=sc(n,o),n.flags|=4096;return n}return t=rs(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function rc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Bf(t,n,r,o,h){return Yr(n),r=Tf(t,n,r,o,void 0,h),o=bf(),t!==null&&!qt?(Sf(t,n,h),hs(t,n,h)):(Ke&&o&&tf(n),n.flags|=1,rn(t,n,r,h),n.child)}function ay(t,n,r,o,h,f){return Yr(n),n.updateQueue=null,r=up(n,o,r,h),lp(t),o=bf(),t!==null&&!qt?(Sf(t,n,f),hs(t,n,f)):(Ke&&o&&tf(n),n.flags|=1,rn(t,n,r,f),n.child)}function oy(t,n,r,o,h){if(Yr(n),n.stateNode===null){var f=Ca,p=r.contextType;typeof p=="object"&&p!==null&&(f=sn(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=jf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},df(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?sn(p):Ca,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Lf(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&jf.enqueueReplaceState(f,f.state,null),il(n,o,f,h),nl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,x=ea(r,E);f.props=x;var P=f.context,G=r.contextType;p=Ca,typeof G=="object"&&G!==null&&(p=sn(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&Qp(n,f,o,p),Gs=!1;var z=n.memoizedState;f.state=z,il(n,o,f,h),nl(),P=n.memoizedState,E||z!==P||Gs?(typeof Y=="function"&&(Lf(n,r,Y,o),P=n.memoizedState),(x=Gs||Kp(n,r,x,o,z,P,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,mf(t,n),p=n.memoizedProps,G=ea(r,p),f.props=G,Y=n.pendingProps,z=f.context,P=r.contextType,x=Ca,typeof P=="object"&&P!==null&&(x=sn(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||z!==x)&&Qp(n,f,o,x),Gs=!1,z=n.memoizedState,f.state=z,il(n,o,f,h),nl();var q=n.memoizedState;p!==Y||z!==q||Gs||t!==null&&t.dependencies!==null&&zu(t.dependencies)?(typeof E=="function"&&(Lf(n,r,E,o),q=n.memoizedState),(G=Gs||Kp(n,r,G,o,z,q,x)||t!==null&&t.dependencies!==null&&zu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=x,o=G):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,rc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Zr(n,t.child,null,h),n.child=Zr(n,null,r,h)):rn(t,n,r,h),n.memoizedState=f.state,t=n.child):t=hs(t,n,h),t}function ly(t,n,r,o){return Kr(),n.flags|=256,rn(t,n,r,o),n.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(t){return{baseLanes:t,cachePool:Jg()}}function Gf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Ln),t}function uy(t,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ke){if(h?Qs(n):Ys(),(t=pt)?(t=y_(t,$n),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Bi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},r=qg(t),r.return=n,n.child=r,nn=n,pt=null)):t=null,t===null)throw qs(n);return Rd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ys(),h=n.mode,E=ac({mode:"hidden",children:E},h),o=Fr(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Hf(r),o.childLanes=Gf(t,p,r),n.memoizedState=qf,ll(null,o)):(Qs(n),Ff(n,E))}var x=t.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(f)n.flags&256?(Qs(n),n.flags&=-257,n=Kf(t,n,r)):n.memoizedState!==null?(Ys(),n.child=t.child,n.flags|=128,n=null):(Ys(),E=o.fallback,h=n.mode,o=ac({mode:"visible",children:o.children},h),E=Fr(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Zr(n,t.child,null,r),o=n.child,o.memoizedState=Hf(r),o.childLanes=Gf(t,p,r),n.memoizedState=qf,n=ll(null,o));else if(Qs(n),Rd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(a(419)),o.stack="",o.digest=p,$o({value:o,source:null,stack:null}),n=Kf(t,n,r)}else if(qt||Ma(t,n,r,!1),p=(r&t.childLanes)!==0,qt||p){if(p=ft,p!==null&&(o=Co(p,r),o!==0&&o!==x.retryLane))throw x.retryLane=o,Gr(t,o),An(p,t,o),zf;wd(E)||gc(),n=Kf(t,n,r)}else wd(E)?(n.flags|=192,n.child=t.child,n=null):(t=x.treeContext,pt=Zn(E.nextSibling),nn=n,Ke=!0,Bs=null,$n=!1,t!==null&&Fg(n,t),n=Ff(n,o.children),n.flags|=4096);return n}return h?(Ys(),E=o.fallback,h=n.mode,x=t.child,P=x.sibling,o=rs(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,P!==null?E=rs(P,E):(E=Fr(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,ll(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Hf(r):(h=E.cachePool,h!==null?(x=zt._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Jg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Gf(t,p,r),n.memoizedState=qf,ll(t.child,o)):(Qs(n),r=t.child,t=r.sibling,r=rs(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function Ff(t,n){return n=ac({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ac(t,n){return t=Mn(22,t,null,n),t.lanes=0,t}function Kf(t,n,r){return Zr(n,t.child,null,r),t=Ff(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function cy(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),of(t.return,n,r)}function Qf(t,n,r,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function hy(t,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Mt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,se(Mt,p),rn(t,n,o,r),o=Ke?Xo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cy(t,r,n);else if(t.tag===19)cy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Yu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Qf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Yu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Qf(n,!0,r,null,f,o);break;case"together":Qf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function hs(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Js|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Ma(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=rs(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=rs(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Yf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&zu(t)))}function VT(t,n,r){switch(n.tag){case 3:vt(n,n.stateNode.containerInfo),Hs(n,zt,t.memoizedState.cache),Kr();break;case 27:case 5:xn(n);break;case 4:vt(n,n.stateNode.containerInfo);break;case 10:Hs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,vf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Qs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?uy(t,n,r):(Qs(n),t=hs(t,n,r),t!==null?t.sibling:null);Qs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ma(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return hy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Mt,Mt.current),o)break;return null;case 22:return n.lanes=0,iy(t,n,r,n.pendingProps);case 24:Hs(n,zt,t.memoizedState.cache)}return hs(t,n,r)}function fy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)qt=!0;else{if(!Yf(t,r)&&(n.flags&128)===0)return qt=!1,VT(t,n,r);qt=(t.flags&131072)!==0}else qt=!1,Ke&&(n.flags&1048576)!==0&&Gg(n,Xo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=$r(n.elementType),n.type=t,typeof t=="function")Zh(t)?(o=ea(t,o),n.tag=1,n=oy(null,n,t,o,r)):(n.tag=0,n=Bf(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===tt){n.tag=11,n=ey(null,n,t,o,r);break e}else if(h===C){n.tag=14,n=ty(null,n,t,o,r);break e}}throw n=at(t)||t,Error(a(306,n,""))}}return n;case 0:return Bf(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=ea(o,n.pendingProps),oy(t,n,o,h,r);case 3:e:{if(vt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,mf(t,n),il(n,o,null,r);var p=n.memoizedState;if(o=p.cache,Hs(n,zt,o),o!==f.cache&&lf(n,[zt],r,!0),nl(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ly(t,n,o,r);break e}else if(o!==h){h=Qn(Error(a(424)),n),$o(h),n=ly(t,n,o,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,pt=Zn(t.firstChild),nn=n,Ke=!0,Bs=null,$n=!0,r=ip(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Kr(),o===h){n=hs(t,n,r);break e}rn(t,n,o,r)}n=n.child}return n;case 26:return rc(t,n),t===null?(r=S_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ke||(r=n.type,t=n.pendingProps,o=bc(Ie.current).createElement(r),o[Lt]=n,o[$t]=t,an(o,r,t),jt(o),n.stateNode=o):n.memoizedState=S_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return xn(n),t===null&&Ke&&(o=n.stateNode=E_(n.type,n.pendingProps,Ie.current),nn=n,$n=!0,h=pt,nr(n.type)?(xd=h,pt=Zn(o.firstChild)):pt=h),rn(t,n,n.pendingProps.children,r),rc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ke&&((h=o=pt)&&(o=cb(o,n.type,n.pendingProps,$n),o!==null?(n.stateNode=o,nn=n,pt=Zn(o.firstChild),$n=!1,h=!0):h=!1),h||qs(n)),xn(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,bd(h,f)?o=null:p!==null&&bd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=Tf(t,n,wT,null,null,r),Sl._currentValue=h),rc(t,n),rn(t,n,o,r),n.child;case 6:return t===null&&Ke&&((t=r=pt)&&(r=hb(r,n.pendingProps,$n),r!==null?(n.stateNode=r,nn=n,pt=null,t=!0):t=!1),t||qs(n)),null;case 13:return uy(t,n,r);case 4:return vt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Zr(n,null,o,r):rn(t,n,o,r),n.child;case 11:return ey(t,n,n.type,n.pendingProps,r);case 7:return rn(t,n,n.pendingProps,r),n.child;case 8:return rn(t,n,n.pendingProps.children,r),n.child;case 12:return rn(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Hs(n,n.type,o.value),rn(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Yr(n),h=sn(h),o=o(h),n.flags|=1,rn(t,n,o,r),n.child;case 14:return ty(t,n,n.type,n.pendingProps,r);case 15:return ny(t,n,n.type,n.pendingProps,r);case 19:return hy(t,n,r);case 31:return MT(t,n,r);case 22:return iy(t,n,r,n.pendingProps);case 24:return Yr(n),o=sn(zt),t===null?(h=hf(),h===null&&(h=ft,f=uf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},df(n),Hs(n,zt,h)):((t.lanes&r)!==0&&(mf(t,n),il(n,null,null,r),nl()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Hs(n,zt,o)):(o=f.cache,Hs(n,zt,o),o!==h.cache&&lf(n,[zt],r,!0))),rn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function fs(t){t.flags|=4}function Xf(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Py())t.flags|=8192;else throw Jr=Gu,ff}else t.flags&=-16777217}function dy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!I_(n))if(Py())t.flags|=8192;else throw Jr=Gu,ff}function oc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?du():536870912,t.lanes|=n,Fa|=n)}function ul(t,n){if(!Ke)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function yt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function kT(t,n,r){var o=n.pendingProps;switch(nf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return yt(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ls(zt),mt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Oa(n)?fs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rf())),yt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(fs(n),f!==null?(yt(n),dy(n,f)):(yt(n),Xf(n,h,null,o,r))):f?f!==t.memoizedState?(fs(n),yt(n),dy(n,f)):(yt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&fs(n),yt(n),Xf(n,h,t,o,r)),null;case 27:if(Wi(n),r=Ie.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&fs(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return yt(n),null}t=oe.current,Oa(n)?Kg(n):(t=E_(h,o,r),n.stateNode=t,fs(n))}return yt(n),null;case 5:if(Wi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&fs(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return yt(n),null}if(f=oe.current,Oa(n))Kg(n);else{var p=bc(Ie.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Lt]=n,f[$t]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(an(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&fs(n)}}return yt(n),Xf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&fs(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ie.current,Oa(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=nn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Lt]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||u_(t.nodeValue,r)),t||qs(n,!0)}else t=bc(t).createTextNode(o),t[Lt]=n,n.stateNode=t}return yt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=Oa(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Lt]=n}else Kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),t=!1}else r=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(kn(n),n):(kn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return yt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Oa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Lt]=n}else Kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),h=!1}else h=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(kn(n),n):(kn(n),null)}return kn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),oc(n,n.updateQueue),yt(n),null);case 4:return mt(),t===null&&yd(n.stateNode.containerInfo),yt(n),null;case 10:return ls(n.type),yt(n),null;case 19:if(Q(Mt),o=n.memoizedState,o===null)return yt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ul(o,!1);else{if(Ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Yu(t),f!==null){for(n.flags|=128,ul(o,!1),t=f.updateQueue,n.updateQueue=t,oc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Bg(r,t),r=r.sibling;return se(Mt,Mt.current&1|2),Ke&&as(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Se()>fc&&(n.flags|=128,h=!0,ul(o,!1),n.lanes=4194304)}else{if(!h)if(t=Yu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,oc(n,t),ul(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ke)return yt(n),null}else 2*Se()-o.renderingStartTime>fc&&r!==536870912&&(n.flags|=128,h=!0,ul(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Se(),t.sibling=null,r=Mt.current,se(Mt,h?r&1|2:r&1),Ke&&as(n,o.treeForkCount),t):(yt(n),null);case 22:case 23:return kn(n),_f(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),r=n.updateQueue,r!==null&&oc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&Q(Xr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ls(zt),yt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function UT(t,n){switch(nf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ls(zt),mt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Wi(n),null;case 31:if(n.memoizedState!==null){if(kn(n),n.alternate===null)throw Error(a(340));Kr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(kn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Kr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(Mt),null;case 4:return mt(),null;case 10:return ls(n.type),null;case 22:case 23:return kn(n),_f(),t!==null&&Q(Xr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ls(zt),null;case 25:return null;default:return null}}function my(t,n){switch(nf(n),n.tag){case 3:ls(zt),mt();break;case 26:case 27:case 5:Wi(n);break;case 4:mt();break;case 31:n.memoizedState!==null&&kn(n);break;case 13:kn(n);break;case 19:Q(Mt);break;case 10:ls(n.type);break;case 22:case 23:kn(n),_f(),t!==null&&Q(Xr);break;case 24:ls(zt)}}function cl(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(E){rt(n,n.return,E)}}function Xs(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var x=r,P=E;try{P()}catch(G){rt(h,x,G)}}}o=o.next}while(o!==f)}}catch(G){rt(n,n.return,G)}}function gy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{rp(n,r)}catch(o){rt(t,t.return,o)}}}function py(t,n,r){r.props=ea(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){rt(t,n,o)}}function hl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){rt(t,n,h)}}function Hi(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){rt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){rt(t,n,h)}else r.current=null}function yy(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){rt(t,t.return,h)}}function $f(t,n,r){try{var o=t.stateNode;sb(o,t.type,r,n),o[$t]=n}catch(h){rt(t,t.return,h)}}function _y(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&nr(t.type)||t.tag===4}function Jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_y(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&nr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ci));else if(o!==4&&(o===27&&nr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Zf(t,n,r),t=t.sibling;t!==null;)Zf(t,n,r),t=t.sibling}function lc(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&nr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(lc(t,n,r),t=t.sibling;t!==null;)lc(t,n,r),t=t.sibling}function vy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);an(n,o,r),n[Lt]=t,n[$t]=r}catch(f){rt(t,t.return,f)}}var ds=!1,Ht=!1,Wf=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function LT(t,n){if(t=t.containerInfo,Ed=Cc,t=Og(t),Fh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,E=-1,x=-1,P=0,G=0,Y=t,z=null;t:for(;;){for(var q;Y!==r||h!==0&&Y.nodeType!==3||(E=p+h),Y!==f||o!==0&&Y.nodeType!==3||(x=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(q=Y.firstChild)!==null;)z=Y,Y=q;for(;;){if(Y===t)break t;if(z===r&&++P===h&&(E=p),z===f&&++G===o&&(x=p),(q=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=q}r=E===-1||x===-1?null:{start:E,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(Td={focusedElem:t,selectionRange:r},Cc=!1,Zt=n;Zt!==null;)if(n=Zt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Zt=t;else for(;Zt!==null;){switch(n=Zt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ue=ea(r.type,h);t=o.getSnapshotBeforeUpdate(ue,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(_e){rt(r,r.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Ad(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Zt=t;break}Zt=n.return}}function Ty(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:gs(t,r),o&4&&cl(5,r);break;case 1:if(gs(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){rt(r,r.return,p)}else{var h=ea(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){rt(r,r.return,p)}}o&64&&gy(r),o&512&&hl(r,r.return);break;case 3:if(gs(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{rp(t,n)}catch(p){rt(r,r.return,p)}}break;case 27:n===null&&o&4&&vy(r);case 26:case 5:gs(t,r),n===null&&o&4&&yy(r),o&512&&hl(r,r.return);break;case 12:gs(t,r);break;case 31:gs(t,r),o&4&&Ay(t,r);break;case 13:gs(t,r),o&4&&wy(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=KT.bind(null,r),fb(t,r))));break;case 22:if(o=r.memoizedState!==null||ds,!o){n=n!==null&&n.memoizedState!==null||Ht,h=ds;var f=Ht;ds=o,(Ht=n)&&!f?ps(t,r,(r.subtreeFlags&8772)!==0):gs(t,r),ds=h,Ht=f}break;case 30:break;default:gs(t,r)}}function by(t){var n=t.alternate;n!==null&&(t.alternate=null,by(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ga(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var bt=null,En=!1;function ms(t,n,r){for(r=r.child;r!==null;)Sy(t,n,r),r=r.sibling}function Sy(t,n,r){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Cn,r)}catch{}switch(r.tag){case 26:Ht||Hi(r,n),ms(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ht||Hi(r,n);var o=bt,h=En;nr(r.type)&&(bt=r.stateNode,En=!1),ms(t,n,r),El(r.stateNode),bt=o,En=h;break;case 5:Ht||Hi(r,n);case 6:if(o=bt,h=En,bt=null,ms(t,n,r),bt=o,En=h,bt!==null)if(En)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(r.stateNode)}catch(f){rt(r,n,f)}else try{bt.removeChild(r.stateNode)}catch(f){rt(r,n,f)}break;case 18:bt!==null&&(En?(t=bt,g_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Wa(t)):g_(bt,r.stateNode));break;case 4:o=bt,h=En,bt=r.stateNode.containerInfo,En=!0,ms(t,n,r),bt=o,En=h;break;case 0:case 11:case 14:case 15:Xs(2,r,n),Ht||Xs(4,r,n),ms(t,n,r);break;case 1:Ht||(Hi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&py(r,n,o)),ms(t,n,r);break;case 21:ms(t,n,r);break;case 22:Ht=(o=Ht)||r.memoizedState!==null,ms(t,n,r),Ht=o;break;default:ms(t,n,r)}}function Ay(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Wa(t)}catch(r){rt(n,n.return,r)}}}function wy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wa(t)}catch(r){rt(n,n.return,r)}}function jT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ey),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ey),n;default:throw Error(a(435,t.tag))}}function uc(t,n){var r=jT(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=QT.bind(null,t,o);o.then(h,h)}})}function Tn(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(nr(E.type)){bt=E.stateNode,En=!1;break e}break;case 5:bt=E.stateNode,En=!1;break e;case 3:case 4:bt=E.stateNode.containerInfo,En=!0;break e}E=E.return}if(bt===null)throw Error(a(160));Sy(f,p,h),bt=null,En=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ry(n,t),n=n.sibling}var pi=null;function Ry(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(n,t),bn(t),o&4&&(Xs(3,t,t.return),cl(3,t),Xs(5,t,t.return));break;case 1:Tn(n,t),bn(t),o&512&&(Ht||r===null||Hi(r,r.return)),o&64&&ds&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=pi;if(Tn(n,t),bn(t),o&512&&(Ht||r===null||Hi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ci]||f[Lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),an(f,o,r),f[Lt]=t,jt(f),o=f;break e;case"link":var p=R_("link","href",h).get(o+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(o),an(f,o,r),h.head.appendChild(f);break;case"meta":if(p=R_("meta","content",h).get(o+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break t}}f=h.createElement(o),an(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Lt]=t,jt(f),o=f}t.stateNode=o}else x_(h,t.type,t.stateNode);else t.stateNode=w_(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?x_(h,t.type,t.stateNode):w_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&$f(t,t.memoizedProps,r.memoizedProps)}break;case 27:Tn(n,t),bn(t),o&512&&(Ht||r===null||Hi(r,r.return)),r!==null&&o&4&&$f(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Tn(n,t),bn(t),o&512&&(Ht||r===null||Hi(r,r.return)),t.flags&32){h=t.stateNode;try{vn(h,"")}catch(ue){rt(t,t.return,ue)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,$f(t,h,r!==null?r.memoizedProps:h)),o&1024&&(Wf=!0);break;case 6:if(Tn(n,t),bn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(ue){rt(t,t.return,ue)}}break;case 3:if(wc=null,h=pi,pi=Sc(n.containerInfo),Tn(n,t),pi=h,bn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Wa(n.containerInfo)}catch(ue){rt(t,t.return,ue)}Wf&&(Wf=!1,xy(t));break;case 4:o=pi,pi=Sc(t.stateNode.containerInfo),Tn(n,t),bn(t),pi=o;break;case 12:Tn(n,t),bn(t);break;case 31:Tn(n,t),bn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,uc(t,o)));break;case 13:Tn(n,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(hc=Se()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,uc(t,o)));break;case 22:h=t.memoizedState!==null;var x=r!==null&&r.memoizedState!==null,P=ds,G=Ht;if(ds=P||h,Ht=G||x,Tn(n,t),Ht=G,ds=P,bn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||x||ds||Ht||ta(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){x=r=n;try{if(f=x.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=x.stateNode;var Y=x.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ue){rt(x,x.return,ue)}}}else if(n.tag===6){if(r===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(ue){rt(x,x.return,ue)}}}else if(n.tag===18){if(r===null){x=n;try{var q=x.stateNode;h?p_(q,!0):p_(x.stateNode,!1)}catch(ue){rt(x,x.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,uc(t,r))));break;case 19:Tn(n,t),bn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,uc(t,o)));break;case 30:break;case 21:break;default:Tn(n,t),bn(t)}}function bn(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(_y(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Jf(t);lc(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(vn(p,""),r.flags&=-33);var E=Jf(t);lc(t,E,p);break;case 3:case 4:var x=r.stateNode.containerInfo,P=Jf(t);Zf(t,P,x);break;default:throw Error(a(161))}}catch(G){rt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function xy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;xy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function gs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ty(t,n.alternate,n),n=n.sibling}function ta(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Xs(4,n,n.return),ta(n);break;case 1:Hi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&py(n,n.return,r),ta(n);break;case 27:El(n.stateNode);case 26:case 5:Hi(n,n.return),ta(n);break;case 22:n.memoizedState===null&&ta(n);break;case 30:ta(n);break;default:ta(n)}t=t.sibling}}function ps(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ps(h,f,r),cl(4,f);break;case 1:if(ps(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){rt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)sp(x[h],E)}catch(P){rt(o,o.return,P)}}r&&p&64&&gy(f),hl(f,f.return);break;case 27:vy(f);case 26:case 5:ps(h,f,r),r&&o===null&&p&4&&yy(f),hl(f,f.return);break;case 12:ps(h,f,r);break;case 31:ps(h,f,r),r&&p&4&&Ay(h,f);break;case 13:ps(h,f,r),r&&p&4&&wy(h,f);break;case 22:f.memoizedState===null&&ps(h,f,r),hl(f,f.return);break;case 30:break;default:ps(h,f,r)}n=n.sibling}}function ed(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Jo(r))}function td(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Jo(t))}function yi(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Iy(t,n,r,o),n=n.sibling}function Iy(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:yi(t,n,r,o),h&2048&&cl(9,n);break;case 1:yi(t,n,r,o);break;case 3:yi(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Jo(t)));break;case 12:if(h&2048){yi(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){rt(n,n.return,x)}}else yi(t,n,r,o);break;case 31:yi(t,n,r,o);break;case 13:yi(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?yi(t,n,r,o):fl(t,n):f._visibility&2?yi(t,n,r,o):(f._visibility|=2,qa(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ed(p,n);break;case 24:yi(t,n,r,o),h&2048&&td(n.alternate,n);break;default:yi(t,n,r,o)}}function qa(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=r,x=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:qa(f,p,E,x,h),cl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?qa(f,p,E,x,h):fl(f,p):(G._visibility|=2,qa(f,p,E,x,h)),h&&P&2048&&ed(p.alternate,p);break;case 24:qa(f,p,E,x,h),h&&P&2048&&td(p.alternate,p);break;default:qa(f,p,E,x,h)}n=n.sibling}}function fl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:fl(r,o),h&2048&&ed(o.alternate,o);break;case 24:fl(r,o),h&2048&&td(o.alternate,o);break;default:fl(r,o)}n=n.sibling}}var dl=8192;function Ha(t,n,r){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)Cy(t,n,r),t=t.sibling}function Cy(t,n,r){switch(t.tag){case 26:Ha(t,n,r),t.flags&dl&&t.memoizedState!==null&&Ab(r,pi,t.memoizedState,t.memoizedProps);break;case 5:Ha(t,n,r);break;case 3:case 4:var o=pi;pi=Sc(t.stateNode.containerInfo),Ha(t,n,r),pi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=dl,dl=16777216,Ha(t,n,r),dl=o):Ha(t,n,r));break;default:Ha(t,n,r)}}function Ny(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ml(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Zt=o,Oy(o,t)}Ny(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dy(t),t=t.sibling}function Dy(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&Xs(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,cc(t)):ml(t);break;default:ml(t)}}function cc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Zt=o,Oy(o,t)}Ny(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Xs(8,n,n.return),cc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,cc(n));break;default:cc(n)}t=t.sibling}}function Oy(t,n){for(;Zt!==null;){var r=Zt;switch(r.tag){case 0:case 11:case 15:Xs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Jo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Zt=o;else e:for(r=t;Zt!==null;){o=Zt;var h=o.sibling,f=o.return;if(by(o),o===r){Zt=null;break e}if(h!==null){h.return=f,Zt=h;break e}Zt=f}}}var PT={getCacheForType:function(t){var n=sn(zt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return sn(zt).controller.signal}},zT=typeof WeakMap=="function"?WeakMap:Map,et=0,ft=null,je=null,Be=0,st=0,Un=null,$s=!1,Ga=!1,nd=!1,ys=0,Ct=0,Js=0,na=0,id=0,Ln=0,Fa=0,gl=null,Sn=null,sd=!1,hc=0,My=0,fc=1/0,dc=null,Zs=null,Qt=0,Ws=null,Ka=null,_s=0,rd=0,ad=null,Vy=null,pl=0,od=null;function jn(){return(et&2)!==0&&Be!==0?Be&-Be:H.T!==null?dd():mu()}function ky(){if(Ln===0)if((Be&536870912)===0||Ke){var t=Cr;Cr<<=1,(Cr&3932160)===0&&(Cr=262144),Ln=t}else Ln=536870912;return t=Vn.current,t!==null&&(t.flags|=32),Ln}function An(t,n,r){(t===ft&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(Qa(t,0),er(t,Be,Ln,!1)),Nr(t,r),((et&2)===0||t!==ft)&&(t===ft&&((et&2)===0&&(na|=r),Ct===4&&er(t,Be,Ln,!1)),Gi(t))}function Uy(t,n,r){if((et&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||oi(t,n),h=o?HT(t,n):ud(t,n,!0),f=o;do{if(h===0){Ga&&!o&&er(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!BT(r)){h=ud(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=gl;var x=E.current.memoizedState.isDehydrated;if(x&&(Qa(E,p).flags|=256),p=ud(E,p,!1),p!==2){if(nd&&!x){E.errorRecoveryDisabledLanes|=f,na|=f,h=4;break e}f=Sn,Sn=h,f!==null&&(Sn===null?Sn=f:Sn.push.apply(Sn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Qa(t,0),er(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:er(o,n,Ln,!$s);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=hc+300-Se(),10<h)){if(er(o,n,Ln,!$s),Ri(o,0,!0)!==0)break e;_s=n,o.timeoutHandle=d_(Ly.bind(null,o,r,Sn,dc,sd,n,Ln,na,Fa,$s,f,"Throttled",-0,0),h);break e}Ly(o,r,Sn,dc,sd,n,Ln,na,Fa,$s,f,null,-0,0)}}break}while(!0);Gi(t)}function Ly(t,n,r,o,h,f,p,E,x,P,G,Y,z,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},Cy(n,f,Y);var ue=(f&62914560)===f?hc-Se():(f&4194048)===f?My-Se():0;if(ue=wb(Y,ue),ue!==null){_s=f,t.cancelPendingCommit=ue(Fy.bind(null,t,n,f,r,o,h,p,E,x,G,Y,null,z,q)),er(t,f,p,!P);return}}Fy(t,n,f,r,o,h,p,E,x)}function BT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!On(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function er(t,n,r,o){n&=~id,n&=~na,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-Dt(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&Dr(t,r,n)}function mc(){return(et&6)===0?(yl(0),!1):!0}function ld(){if(je!==null){if(st===0)var t=je.return;else t=je,os=Qr=null,Af(t),La=null,Wo=0,t=je;for(;t!==null;)my(t.alternate,t),t=t.return;je=null}}function Qa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,ob(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),_s=0,ld(),ft=t,je=r=rs(t.current,null),Be=n,st=0,Un=null,$s=!1,Ga=oi(t,n),nd=!1,Fa=Ln=id=na=Js=Ct=0,Sn=gl=null,sd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Dt(o),f=1<<h;n|=t[h],o&=~f}return ys=n,ku(),r}function jy(t,n){Oe=null,H.H=ol,n===Ua||n===Hu?(n=ep(),st=3):n===ff?(n=ep(),st=4):st=n===zf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Un=n,je===null&&(Ct=1,ic(t,Qn(n,t.current)))}function Py(){var t=Vn.current;return t===null?!0:(Be&4194048)===Be?Jn===null:(Be&62914560)===Be||(Be&536870912)!==0?t===Jn:!1}function zy(){var t=H.H;return H.H=ol,t===null?ol:t}function By(){var t=H.A;return H.A=PT,t}function gc(){Ct=4,$s||(Be&4194048)!==Be&&Vn.current!==null||(Ga=!0),(Js&134217727)===0&&(na&134217727)===0||ft===null||er(ft,Be,Ln,!1)}function ud(t,n,r){var o=et;et|=2;var h=zy(),f=By();(ft!==t||Be!==n)&&(dc=null,Qa(t,n)),n=!1;var p=Ct;e:do try{if(st!==0&&je!==null){var E=je,x=Un;switch(st){case 8:ld(),p=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var P=st;if(st=0,Un=null,Ya(t,E,x,P),r&&Ga){p=0;break e}break;default:P=st,st=0,Un=null,Ya(t,E,x,P)}}qT(),p=Ct;break}catch(G){jy(t,G)}while(!0);return n&&t.shellSuspendCounter++,os=Qr=null,et=o,H.H=h,H.A=f,je===null&&(ft=null,Be=0,ku()),p}function qT(){for(;je!==null;)qy(je)}function HT(t,n){var r=et;et|=2;var o=zy(),h=By();ft!==t||Be!==n?(dc=null,fc=Se()+500,Qa(t,n)):Ga=oi(t,n);e:do try{if(st!==0&&je!==null){n=je;var f=Un;t:switch(st){case 1:st=0,Un=null,Ya(t,n,f,1);break;case 2:case 9:if(Zg(f)){st=0,Un=null,Hy(n);break}n=function(){st!==2&&st!==9||ft!==t||(st=7),Gi(t)},f.then(n,n);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Zg(f)?(st=0,Un=null,Hy(n)):(st=0,Un=null,Ya(t,n,f,7));break;case 5:var p=null;switch(je.tag){case 26:p=je.memoizedState;case 5:case 27:var E=je;if(p?I_(p):E.stateNode.complete){st=0,Un=null;var x=E.sibling;if(x!==null)je=x;else{var P=E.return;P!==null?(je=P,pc(P)):je=null}break t}}st=0,Un=null,Ya(t,n,f,5);break;case 6:st=0,Un=null,Ya(t,n,f,6);break;case 8:ld(),Ct=6;break e;default:throw Error(a(462))}}GT();break}catch(G){jy(t,G)}while(!0);return os=Qr=null,H.H=o,H.A=h,et=r,je!==null?0:(ft=null,Be=0,ku(),Ct)}function GT(){for(;je!==null&&!Le();)qy(je)}function qy(t){var n=fy(t.alternate,t,ys);t.memoizedProps=t.pendingProps,n===null?pc(t):je=n}function Hy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ay(r,n,n.pendingProps,n.type,void 0,Be);break;case 11:n=ay(r,n,n.pendingProps,n.type.render,n.ref,Be);break;case 5:Af(n);default:my(r,n),n=je=Bg(n,ys),n=fy(r,n,ys)}t.memoizedProps=t.pendingProps,n===null?pc(t):je=n}function Ya(t,n,r,o){os=Qr=null,Af(n),La=null,Wo=0;var h=n.return;try{if(OT(t,h,n,r,Be)){Ct=1,ic(t,Qn(r,t.current)),je=null;return}}catch(f){if(h!==null)throw je=h,f;Ct=1,ic(t,Qn(r,t.current)),je=null;return}n.flags&32768?(Ke||o===1?t=!0:Ga||(Be&536870912)!==0?t=!1:($s=t=!0,(o===2||o===9||o===3||o===6)&&(o=Vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Gy(n,t)):pc(n)}function pc(t){var n=t;do{if((n.flags&32768)!==0){Gy(n,$s);return}t=n.return;var r=kT(n.alternate,n,ys);if(r!==null){je=r;return}if(n=n.sibling,n!==null){je=n;return}je=n=t}while(n!==null);Ct===0&&(Ct=5)}function Gy(t,n){do{var r=UT(t.alternate,t);if(r!==null){r.flags&=32767,je=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){je=t;return}je=t=r}while(t!==null);Ct=6,je=null}function Fy(t,n,r,o,h,f,p,E,x){t.cancelPendingCommit=null;do yc();while(Qt!==0);if((et&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=$h,Bh(t,r,f,p,E,x),t===ft&&(je=ft=null,Be=0),Ka=n,Ws=t,_s=r,rd=f,ad=h,Vy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,YT(Et,function(){return $y(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=te.p,te.p=2,p=et,et|=4;try{LT(t,n,r)}finally{et=p,te.p=h,H.T=o}}Qt=1,Ky(),Qy(),Yy()}}function Ky(){if(Qt===1){Qt=0;var t=Ws,n=Ka,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=te.p;te.p=2;var h=et;et|=4;try{Ry(n,t);var f=Td,p=Og(t.containerInfo),E=f.focusedElem,x=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Dg(E.ownerDocument.documentElement,E)){if(x!==null&&Fh(E)){var P=x.start,G=x.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var q=z.getSelection(),ue=E.textContent.length,_e=Math.min(x.start,ue),ht=x.end===void 0?_e:Math.min(x.end,ue);!q.extend&&_e>ht&&(p=ht,ht=_e,_e=p);var k=Ng(E,_e),D=Ng(E,ht);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var j=Y.createRange();j.setStart(k.node,k.offset),q.removeAllRanges(),_e>ht?(q.addRange(j),q.extend(D.node,D.offset)):(j.setEnd(D.node,D.offset),q.addRange(j))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Cc=!!Ed,Td=Ed=null}finally{et=h,te.p=o,H.T=r}}t.current=n,Qt=2}}function Qy(){if(Qt===2){Qt=0;var t=Ws,n=Ka,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=te.p;te.p=2;var h=et;et|=4;try{Ty(t,n.alternate,n)}finally{et=h,te.p=o,H.T=r}}Qt=3}}function Yy(){if(Qt===4||Qt===3){Qt=0,St();var t=Ws,n=Ka,r=_s,o=Vy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qt=5:(Qt=0,Ka=Ws=null,Xy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Zs=null),ts(r),n=n.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Cn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=te.p,te.p=2,H.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,te.p=h}}(_s&3)!==0&&yc(),Gi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===od?pl++:(pl=0,od=t):pl=0,yl(0)}}function Xy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Jo(n)))}function yc(){return Ky(),Qy(),Yy(),$y()}function $y(){if(Qt!==5)return!1;var t=Ws,n=rd;rd=0;var r=ts(_s),o=H.T,h=te.p;try{te.p=32>r?32:r,H.T=null,r=ad,ad=null;var f=Ws,p=_s;if(Qt=0,Ka=Ws=null,_s=0,(et&6)!==0)throw Error(a(331));var E=et;if(et|=4,Dy(f.current),Iy(f,f.current,p,r),et=E,yl(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Cn,f)}catch{}return!0}finally{te.p=h,H.T=o,Xy(t,n)}}function Jy(t,n,r){n=Qn(r,n),n=Pf(t.stateNode,n,2),t=Ks(t,n,2),t!==null&&(Nr(t,2),Gi(t))}function rt(t,n,r){if(t.tag===3)Jy(t,t,r);else for(;n!==null;){if(n.tag===3){Jy(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Zs===null||!Zs.has(o))){t=Qn(r,t),r=Zp(2),o=Ks(n,r,2),o!==null&&(Wp(r,o,n,t),Nr(o,2),Gi(o));break}}n=n.return}}function cd(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new zT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(nd=!0,h.add(r),t=FT.bind(null,t,n,r),n.then(t,t))}function FT(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ft===t&&(Be&r)===r&&(Ct===4||Ct===3&&(Be&62914560)===Be&&300>Se()-hc?(et&2)===0&&Qa(t,0):id|=r,Fa===Be&&(Fa=0)),Gi(t)}function Zy(t,n){n===0&&(n=du()),t=Gr(t,n),t!==null&&(Nr(t,n),Gi(t))}function KT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Zy(t,r)}function QT(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Zy(t,r)}function YT(t,n){return ke(t,n)}var _c=null,Xa=null,hd=!1,vc=!1,fd=!1,tr=0;function Gi(t){t!==Xa&&t.next===null&&(Xa===null?_c=Xa=t:Xa=Xa.next=t),vc=!0,hd||(hd=!0,$T())}function yl(t,n){if(!fd&&vc){fd=!0;do for(var r=!1,o=_c;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Dt(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,n_(o,f))}else f=Be,f=Ri(o,o===ft?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||oi(o,f)||(r=!0,n_(o,f));o=o.next}while(r);fd=!1}}function XT(){Wy()}function Wy(){vc=hd=!1;var t=0;tr!==0&&ab()&&(t=tr);for(var n=Se(),r=null,o=_c;o!==null;){var h=o.next,f=e_(o,n);f===0?(o.next=null,r===null?_c=h:r.next=h,h===null&&(Xa=r)):(r=o,(t!==0||(f&3)!==0)&&(vc=!0)),o=h}Qt!==0&&Qt!==5||yl(t),tr!==0&&(tr=0)}function e_(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Dt(f),E=1<<p,x=h[p];x===-1?((E&r)===0||(E&o)!==0)&&(h[p]=zh(E,n)):x<=n&&(t.expiredLanes|=E),f&=~E}if(n=ft,r=Be,r=Ri(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(st===2||st===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Re(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||oi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&Re(o),ts(r)){case 2:case 8:r=he;break;case 32:r=Et;break;case 268435456:r=xt;break;default:r=Et}return o=t_.bind(null,t),r=ke(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&Re(o),t.callbackPriority=2,t.callbackNode=null,2}function t_(t,n){if(Qt!==0&&Qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(yc()&&t.callbackNode!==r)return null;var o=Be;return o=Ri(t,t===ft?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Uy(t,o,n),e_(t,Se()),t.callbackNode!=null&&t.callbackNode===r?t_.bind(null,t):null)}function n_(t,n){if(yc())return null;Uy(t,n,!0)}function $T(){lb(function(){(et&6)!==0?ke(J,XT):Wy()})}function dd(){if(tr===0){var t=Va;t===0&&(t=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),tr=t}return tr}function i_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function s_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function JT(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=i_((h[$t]||null).action),p=o.submitter;p&&(n=(n=p[$t]||null)?i_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Li("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(tr!==0){var x=p?s_(h,p):new FormData(h);Mf(r,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(E.preventDefault(),x=p?s_(h,p):new FormData(h),Mf(r,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var md=0;md<Xh.length;md++){var gd=Xh[md],ZT=gd.toLowerCase(),WT=gd[0].toUpperCase()+gd.slice(1);gi(ZT,"on"+WT)}gi(kg,"onAnimationEnd"),gi(Ug,"onAnimationIteration"),gi(Lg,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(gT,"onTransitionRun"),gi(pT,"onTransitionStart"),gi(yT,"onTransitionCancel"),gi(jg,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function r_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],x=E.instance,P=E.currentTarget;if(E=E.listener,x!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(G){Vu(G)}h.currentTarget=null,f=x}else for(p=0;p<o.length;p++){if(E=o[p],x=E.instance,P=E.currentTarget,E=E.listener,x!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(G){Vu(G)}h.currentTarget=null,f=x}}}}function Pe(t,n){var r=n[ma];r===void 0&&(r=n[ma]=new Set);var o=t+"__bubble";r.has(o)||(a_(n,t,2,!1),r.add(o))}function pd(t,n,r){var o=0;n&&(o|=4),a_(r,t,o,n)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function yd(t){if(!t[Ec]){t[Ec]=!0,No.forEach(function(r){r!=="selectionchange"&&(eb.has(r)||pd(r,!1,t),pd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ec]||(n[Ec]=!0,pd("selectionchange",!1,n))}}function a_(t,n,r,o){switch(k_(n)){case 2:var h=Ib;break;case 8:h=Cb;break;default:h=Od}r=h.bind(null,n,r,t),h=void 0,!Ur||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function _d(t,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var x=p.tag;if((x===3||x===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=Ni(E),p===null)return;if(x=p.tag,x===5||x===6||x===26||x===27){o=f=p;continue e}E=E.parentNode}}o=o.return}Us(function(){var P=f,G=Hn(r),Y=[];e:{var z=Pg.get(t);if(z!==void 0){var q=Li,ue=t;switch(t){case"keypress":if(jr(r)===0)break e;case"keydown":case"keyup":q=Du;break;case"focusin":ue="focus",q=zr;break;case"focusout":ue="blur",q=zr;break;case"beforeblur":case"afterblur":q=zr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case kg:case Ug:case Lg:q=Au;break;case jg:q=b;break;case"scroll":case"scrollend":q=qo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ss;break;case"toggle":case"beforetoggle":q=De}var _e=(n&4)!==0,ht=!_e&&(t==="scroll"||t==="scrollend"),k=_e?z!==null?z+"Capture":null:z;_e=[];for(var D=P,j;D!==null;){var K=D;if(j=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||j===null||k===null||(K=hi(D,k),K!=null&&_e.push(vl(D,K,j))),ht)break;D=D.return}0<_e.length&&(z=new q(z,ue,null,r,G),Y.push({event:z,listeners:_e}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&r!==Po&&(ue=r.relatedTarget||r.fromElement)&&(Ni(ue)||ue[Ii]))break e;if((q||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,q?(ue=r.relatedTarget||r.toElement,q=P,ue=ue?Ni(ue):null,ue!==null&&(ht=c(ue),_e=ue.tag,ue!==ht||_e!==5&&_e!==27&&_e!==6)&&(ue=null)):(q=null,ue=P),q!==ue)){if(_e=Ho,K="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(_e=ss,K="onPointerLeave",k="onPointerEnter",D="pointer"),ht=q==null?z:Nn(q),j=ue==null?z:Nn(ue),z=new _e(K,D+"leave",q,r,G),z.target=ht,z.relatedTarget=j,K=null,Ni(G)===P&&(_e=new _e(k,D+"enter",ue,r,G),_e.target=j,_e.relatedTarget=ht,K=_e),ht=K,q&&ue)t:{for(_e=tb,k=q,D=ue,j=0,K=k;K;K=_e(K))j++;K=0;for(var me=D;me;me=_e(me))K++;for(;0<j-K;)k=_e(k),j--;for(;0<K-j;)D=_e(D),K--;for(;j--;){if(k===D||D!==null&&k===D.alternate){_e=k;break t}k=_e(k),D=_e(D)}_e=null}else _e=null;q!==null&&o_(Y,z,q,_e,!1),ue!==null&&ht!==null&&o_(Y,ht,ue,_e,!0)}}e:{if(z=P?Nn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var $e=Ag;else if(bg(z))if(wg)$e=fT;else{$e=cT;var fe=uT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&_a(P.elementType)&&($e=Ag):$e=hT;if($e&&($e=$e(t,P))){Sg(Y,$e,r,G);break e}fe&&fe(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Uo(z,"number",z.value)}switch(fe=P?Nn(P):window,t){case"focusin":(bg(fe)||fe.contentEditable==="true")&&(Ra=fe,Kh=P,Yo=null);break;case"focusout":Yo=Kh=Ra=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,Mg(Y,r,G);break;case"selectionchange":if(mT)break;case"keydown":case"keyup":Mg(Y,r,G)}var Me;if(We)e:{switch(t){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else wa?Br(t,r)&&(qe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(qe="onCompositionStart");qe&&(zi&&r.locale!=="ko"&&(wa||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&wa&&(Me=Bo()):(Ui=G,zo="value"in Ui?Ui.value:Ui.textContent,wa=!0)),fe=Tc(P,qe),0<fe.length&&(qe=new Pi(qe,t,null,r,G),Y.push({event:qe,listeners:fe}),Me?qe.data=Me:(Me=Aa(r),Me!==null&&(qe.data=Me)))),(Me=Fn?rT(t,r):aT(t,r))&&(qe=Tc(P,"onBeforeInput"),0<qe.length&&(fe=new Pi("onBeforeInput","beforeinput",null,r,G),Y.push({event:fe,listeners:qe}),fe.data=Me)),JT(Y,t,P,r,G)}r_(Y,n)})}function vl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Tc(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=hi(t,r),h!=null&&o.unshift(vl(t,h,f)),h=hi(t,n),h!=null&&o.push(vl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function tb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function o_(t,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var E=r,x=E.alternate,P=E.stateNode;if(E=E.tag,x!==null&&x===o)break;E!==5&&E!==26&&E!==27||P===null||(x=P,h?(P=hi(r,f),P!=null&&p.unshift(vl(r,P,x))):h||(P=hi(r,f),P!=null&&p.push(vl(r,P,x)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var nb=/\r\n?/g,ib=/\u0000|\uFFFD/g;function l_(t){return(typeof t=="string"?t:""+t).replace(nb,`
`).replace(ib,"")}function u_(t,n){return n=l_(n),l_(t)===n}function ct(t,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||vn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&vn(t,""+o);break;case"className":Dn(t,"class",o);break;case"tabIndex":Dn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(t,r,o);break;case"style":jo(t,o,f);break;case"data":if(n!=="object"){Dn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=va(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&ct(t,n,"name",h.name,h,null),ct(t,n,"formEncType",h.formEncType,h,null),ct(t,n,"formMethod",h.formMethod,h,null),ct(t,n,"formTarget",h.formTarget,h,null)):(ct(t,n,"encType",h.encType,h,null),ct(t,n,"method",h.method,h,null),ct(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=va(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=ci);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=va(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),pa(t,"popover",o);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":pa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Tu.get(r)||r,pa(t,r,o))}}function vd(t,n,r,o,h,f){switch(r){case"style":jo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?vn(t,o):(typeof o=="number"||typeof o=="bigint")&&vn(t,""+o);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Do.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[$t]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):pa(t,r,o)}}}function an(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ct(t,n,f,p,r,null)}}h&&ct(t,n,"srcSet",r.srcSet,r,null),o&&ct(t,n,"src",r.src,r,null);return;case"input":Pe("invalid",t);var E=f=p=h=null,x=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":x=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ct(t,n,o,G,r,null)}}_u(t,f,E,x,P,p,h,!1);return;case"select":Pe("invalid",t),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:ct(t,n,h,E,r,null)}n=f,r=p,t.multiple=!!o,n!=null?Os(t,!!o,n,!1):r!=null&&Os(t,!!o,r,!0);return;case"textarea":Pe("invalid",t),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ct(t,n,p,E,r,null)}Ms(t,o,h,f);return;case"option":for(x in r)r.hasOwnProperty(x)&&(o=r[x],o!=null)&&(x==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":ct(t,n,x,o,r,null));return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(o=0;o<_l.length;o++)Pe(_l[o],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ct(t,n,P,o,r,null)}return;default:if(_a(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&vd(t,n,G,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&ct(t,n,E,o,r,null))}function sb(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,x=null,P=null,G=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":x=Y;default:o.hasOwnProperty(q)||ct(t,n,q,null,o,Y)}}for(var z in o){var q=o[z];if(Y=r[z],o.hasOwnProperty(z)&&(q!=null||Y!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&ct(t,n,z,q,o,Y)}}ya(t,p,E,x,P,G,f,h);return;case"select":q=p=E=z=null;for(f in r)if(x=r[f],r.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":q=x;default:o.hasOwnProperty(f)||ct(t,n,f,null,o,x)}for(h in o)if(f=o[h],x=r[h],o.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==x&&ct(t,n,h,f,o,x)}n=E,r=p,o=q,z!=null?Os(t,!!r,z,!1):!!o!=!!r&&(n!=null?Os(t,!!r,n,!0):Os(t,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ct(t,n,E,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ct(t,n,p,h,o,f)}vu(t,z,q);return;case"option":for(var ue in r)z=r[ue],r.hasOwnProperty(ue)&&z!=null&&!o.hasOwnProperty(ue)&&(ue==="selected"?t.selected=!1:ct(t,n,ue,null,o,z));for(x in o)z=o[x],q=r[x],o.hasOwnProperty(x)&&z!==q&&(z!=null||q!=null)&&(x==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":ct(t,n,x,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in r)z=r[_e],r.hasOwnProperty(_e)&&z!=null&&!o.hasOwnProperty(_e)&&ct(t,n,_e,null,o,z);for(P in o)if(z=o[P],q=r[P],o.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:ct(t,n,P,z,o,q)}return;default:if(_a(n)){for(var ht in r)z=r[ht],r.hasOwnProperty(ht)&&z!==void 0&&!o.hasOwnProperty(ht)&&vd(t,n,ht,void 0,o,z);for(G in o)z=o[G],q=r[G],!o.hasOwnProperty(G)||z===q||z===void 0&&q===void 0||vd(t,n,G,z,o,q);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&ct(t,n,k,null,o,z);for(Y in o)z=o[Y],q=r[Y],!o.hasOwnProperty(Y)||z===q||z==null&&q==null||ct(t,n,Y,z,o,q)}function c_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&c_(p)){for(p=0,E=h.responseEnd,o+=1;o<r.length;o++){var x=r[o],P=x.startTime;if(P>E)break;var G=x.transferSize,Y=x.initiatorType;G&&c_(Y)&&(x=x.responseEnd,p+=G*(x<E?1:(E-P)/(x-P)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ed=null,Td=null;function bc(t){return t.nodeType===9?t:t.ownerDocument}function h_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function bd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sd=null;function ab(){var t=window.event;return t&&t.type==="popstate"?t===Sd?!1:(Sd=t,!0):(Sd=null,!1)}var d_=typeof setTimeout=="function"?setTimeout:void 0,ob=typeof clearTimeout=="function"?clearTimeout:void 0,m_=typeof Promise=="function"?Promise:void 0,lb=typeof queueMicrotask=="function"?queueMicrotask:typeof m_<"u"?function(t){return m_.resolve(null).then(t).catch(ub)}:d_;function ub(t){setTimeout(function(){throw t})}function nr(t){return t==="head"}function g_(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),Wa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")El(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,El(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[Ci]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&El(t.ownerDocument.body);r=h}while(r);Wa(n)}function p_(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function Ad(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Ad(r),ga(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function cb(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ci])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Zn(t.nextSibling),t===null)break}return null}function hb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Zn(t.nextSibling),t===null))return null;return t}function y_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Zn(t.nextSibling),t===null))return null;return t}function wd(t){return t.data==="$?"||t.data==="$~"}function Rd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function fb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var xd=null;function __(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Zn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function v_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function E_(t,n,r){switch(n=bc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function El(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ga(t)}var Wn=new Map,T_=new Set;function Sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var vs=te.d;te.d={f:db,r:mb,D:gb,C:pb,L:yb,m:_b,X:Eb,S:vb,M:Tb};function db(){var t=vs.f(),n=mc();return t||n}function mb(t){var n=qn(t);n!==null&&n.tag===5&&n.type==="form"?jp(n):vs.r(t)}var $a=typeof document>"u"?null:document;function b_(t,n,r){var o=$a;if(o&&typeof n=="string"&&n){var h=_n(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),T_.has(h)||(T_.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),an(n,"link",t),jt(n),o.head.appendChild(n)))}}function gb(t){vs.D(t),b_("dns-prefetch",t,null)}function pb(t,n){vs.C(t,n),b_("preconnect",t,n)}function yb(t,n,r){vs.L(t,n,r);var o=$a;if(o&&t&&n){var h='link[rel="preload"][as="'+_n(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+_n(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+_n(r.imageSizes)+'"]')):h+='[href="'+_n(t)+'"]';var f=h;switch(n){case"style":f=Ja(t);break;case"script":f=Za(t)}Wn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Wn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Tl(f))||n==="script"&&o.querySelector(bl(f))||(n=o.createElement("link"),an(n,"link",t),jt(n),o.head.appendChild(n)))}}function _b(t,n){vs.m(t,n);var r=$a;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+_n(o)+'"][href="'+_n(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Za(t)}if(!Wn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Wn.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(bl(f)))return}o=r.createElement("link"),an(o,"link",t),jt(o),r.head.appendChild(o)}}}function vb(t,n,r){vs.S(t,n,r);var o=$a;if(o&&t){var h=Di(o).hoistableStyles,f=Ja(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(Tl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Wn.get(f))&&Id(t,r);var x=p=o.createElement("link");jt(x),an(x,"link",t),x._p=new Promise(function(P,G){x.onload=P,x.onerror=G}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ac(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function Eb(t,n){vs.X(t,n);var r=$a;if(r&&t){var o=Di(r).hoistableScripts,h=Za(t),f=o.get(h);f||(f=r.querySelector(bl(h)),f||(t=A({src:t,async:!0},n),(n=Wn.get(h))&&Cd(t,n),f=r.createElement("script"),jt(f),an(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Tb(t,n){vs.M(t,n);var r=$a;if(r&&t){var o=Di(r).hoistableScripts,h=Za(t),f=o.get(h);f||(f=r.querySelector(bl(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Wn.get(h))&&Cd(t,n),f=r.createElement("script"),jt(f),an(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function S_(t,n,r,o){var h=(h=Ie.current)?Sc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ja(r.href),r=Di(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Ja(r.href);var f=Di(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(Tl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Wn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Wn.set(t,r),f||bb(h,t,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Za(r),r=Di(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ja(t){return'href="'+_n(t)+'"'}function Tl(t){return'link[rel="stylesheet"]['+t+"]"}function A_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function bb(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),an(n,"link",r),jt(n),t.head.appendChild(n))}function Za(t){return'[src="'+_n(t)+'"]'}function bl(t){return"script[async]"+t}function w_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+_n(r.href)+'"]');if(o)return n.instance=o,jt(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),jt(o),an(o,"style",h),Ac(o,r.precedence,t),n.instance=o;case"stylesheet":h=Ja(r.href);var f=t.querySelector(Tl(h));if(f)return n.state.loading|=4,n.instance=f,jt(f),f;o=A_(r),(h=Wn.get(h))&&Id(o,h),f=(t.ownerDocument||t).createElement("link"),jt(f);var p=f;return p._p=new Promise(function(E,x){p.onload=E,p.onerror=x}),an(f,"link",o),n.state.loading|=4,Ac(f,r.precedence,t),n.instance=f;case"script":return f=Za(r.src),(h=t.querySelector(bl(f)))?(n.instance=h,jt(h),h):(o=r,(h=Wn.get(f))&&(o=A({},r),Cd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),jt(h),an(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ac(o,r.precedence,t));return n.instance}function Ac(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Id(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var wc=null;function R_(t,n,r){if(wc===null){var o=new Map,h=wc=new Map;h.set(r,o)}else h=wc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ci]||f[Lt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function x_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Sb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function I_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ab(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ja(o.href),f=n.querySelector(Tl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Rc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,jt(f);return}f=n.ownerDocument||n,o=A_(o),(h=Wn.get(h))&&Id(o,h),f=f.createElement("link"),jt(f);var p=f;p._p=new Promise(function(E,x){p.onload=E,p.onerror=x}),an(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Rc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Nd=0;function wb(t,n){return t.stylesheets&&t.count===0&&Ic(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Nd===0&&(Nd=62500*rb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Nd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ic(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xc=null;function Ic(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xc=new Map,n.forEach(Rb,t),xc=null,Rc.call(t))}function Rb(t,n){if(!(n.state.loading&4)){var r=xc.get(t);if(r)var o=r.get(null);else{r=new Map,xc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=Rc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Sl={$$typeof:ve,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function xb(t,n,r,o,h,f,p,E,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function C_(t,n,r,o,h,f,p,E,x,P,G,Y){return t=new xb(t,n,r,p,x,P,G,Y,E),n=1,f===!0&&(n|=24),f=Mn(3,null,null,n),t.current=f,f.stateNode=t,n=uf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},df(f),t}function N_(t){return t?(t=Ca,t):Ca}function D_(t,n,r,o,h,f){h=N_(h),o.context===null?o.context=h:o.pendingContext=h,o=Fs(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Ks(t,o,n),r!==null&&(An(r,t,n),tl(r,t,n))}function O_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Dd(t,n){O_(t,n),(t=t.alternate)&&O_(t,n)}function M_(t){if(t.tag===13||t.tag===31){var n=Gr(t,67108864);n!==null&&An(n,t,67108864),Dd(t,67108864)}}function V_(t){if(t.tag===13||t.tag===31){var n=jn();n=Or(n);var r=Gr(t,n);r!==null&&An(r,t,n),Dd(t,n)}}var Cc=!0;function Ib(t,n,r,o){var h=H.T;H.T=null;var f=te.p;try{te.p=2,Od(t,n,r,o)}finally{te.p=f,H.T=h}}function Cb(t,n,r,o){var h=H.T;H.T=null;var f=te.p;try{te.p=8,Od(t,n,r,o)}finally{te.p=f,H.T=h}}function Od(t,n,r,o){if(Cc){var h=Md(o);if(h===null)_d(t,n,o,Nc,r),U_(t,o);else if(Db(h,t,n,r,o))o.stopPropagation();else if(U_(t,o),n&4&&-1<Nb.indexOf(t)){for(;h!==null;){var f=qn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=wi(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var x=1<<31-Dt(p);E.entanglements[1]|=x,p&=~x}Gi(f),(et&6)===0&&(fc=Se()+500,yl(0))}}break;case 31:case 13:E=Gr(f,2),E!==null&&An(E,f,2),mc(),Dd(f,2)}if(f=Md(o),f===null&&_d(t,n,o,Nc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else _d(t,n,o,null,r)}}function Md(t){return t=Hn(t),Vd(t)}var Nc=null;function Vd(t){if(Nc=null,t=Ni(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=y(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Nc=t,null}function k_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ot()){case J:return 2;case he:return 8;case Et:case Nt:return 32;case xt:return 268435456;default:return 32}default:return 32}}var kd=!1,ir=null,sr=null,rr=null,Al=new Map,wl=new Map,ar=[],Nb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U_(t,n){switch(t){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":Al.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(n.pointerId)}}function Rl(t,n,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=qn(n),n!==null&&M_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Db(t,n,r,o,h){switch(n){case"focusin":return ir=Rl(ir,t,n,r,o,h),!0;case"dragenter":return sr=Rl(sr,t,n,r,o,h),!0;case"mouseover":return rr=Rl(rr,t,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return Al.set(f,Rl(Al.get(f)||null,t,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,wl.set(f,Rl(wl.get(f)||null,t,n,r,o,h)),!0}return!1}function L_(t){var n=Ni(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,li(t.priority,function(){V_(r)});return}}else if(n===31){if(n=y(r),n!==null){t.blockedOn=n,li(t.priority,function(){V_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Md(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Po=o,r.target.dispatchEvent(o),Po=null}else return n=qn(r),n!==null&&M_(n),t.blockedOn=r,!1;n.shift()}return!0}function j_(t,n,r){Dc(t)&&r.delete(n)}function Ob(){kd=!1,ir!==null&&Dc(ir)&&(ir=null),sr!==null&&Dc(sr)&&(sr=null),rr!==null&&Dc(rr)&&(rr=null),Al.forEach(j_),wl.forEach(j_)}function Oc(t,n){t.blockedOn===n&&(t.blockedOn=null,kd||(kd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ob)))}var Mc=null;function P_(t){Mc!==t&&(Mc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Mc===t&&(Mc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Vd(o||r)===null)continue;break}var f=qn(r);f!==null&&(t.splice(n,3),n-=3,Mf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Wa(t){function n(x){return Oc(x,t)}ir!==null&&Oc(ir,t),sr!==null&&Oc(sr,t),rr!==null&&Oc(rr,t),Al.forEach(n),wl.forEach(n);for(var r=0;r<ar.length;r++){var o=ar[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ar.length&&(r=ar[0],r.blockedOn===null);)L_(r),r.blockedOn===null&&ar.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[$t]||null;if(typeof f=="function")p||P_(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[$t]||null)E=p.formAction;else if(Vd(h)!==null)continue}else E=p.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),P_(r)}}}function z_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ud(t){this._internalRoot=t}Vc.prototype.render=Ud.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=jn();D_(r,o,t,n,null,null)},Vc.prototype.unmount=Ud.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;D_(t.current,2,null,t,null,null),mc(),n[Ii]=null}};function Vc(t){this._internalRoot=t}Vc.prototype.unstable_scheduleHydration=function(t){if(t){var n=mu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ar.length&&n!==0&&n<ar[r].priority;r++);ar.splice(r,0,t),r===0&&L_(t)}};var B_=e.version;if(B_!=="19.2.3")throw Error(a(527,B_,"19.2.3"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var Mb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{Cn=kc.inject(Mb),en=kc}catch{}}return Il.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",h=Yp,f=Xp,p=$p;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=C_(t,1,!1,null,null,r,o,null,h,f,p,z_),t[Ii]=n.current,yd(t),new Ud(n)},Il.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=Yp,p=Xp,E=$p,x=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(x=r.formState)),n=C_(t,1,!0,n,r??null,o,h,x,f,p,E,z_),n.context=N_(null),r=n.current,o=jn(),o=Or(o),h=Fs(o),h.callback=null,Ks(r,h,o),r=o,n.current.lanes=r,Nr(n,r),Gi(n),t[Ii]=n.current,yd(t),new Vc(n)},Il.version="19.2.3",Il}var J_;function Hb(){if(J_)return Pd.exports;J_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pd.exports=qb(),Pd.exports}var Gb=Hb();const Fb=()=>{};var Z_={};const Mv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Kb=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],y=s[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Vv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,y=d?s[l+1]:0,g=l+2<s.length,_=g?s[l+2]:0,S=c>>2,A=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,F=_&63;g||(F=64,d||(M=64)),a.push(i[S],i[A],i[M],i[F])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Mv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Kb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],y=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||y==null||_==null||A==null)throw new Qb;const M=c<<2|y>>4;if(a.push(M),_!==64){const F=y<<4&240|_>>2;if(a.push(F),A!==64){const ie=_<<6&192|A;a.push(ie)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Qb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yb=function(s){const e=Mv(s);return Vv.encodeByteArray(e,!0)},eh=function(s){return Yb(s).replace(/\./g,"")},kv=function(s){try{return Vv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Xb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $b=()=>Xb().__FIREBASE_DEFAULTS__,Jb=()=>{if(typeof process>"u"||typeof Z_>"u")return;const s=Z_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Zb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&kv(s[1]);return e&&JSON.parse(e)},Eh=()=>{try{return Fb()||$b()||Jb()||Zb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Uv=s=>Eh()?.emulatorHosts?.[s],Wb=s=>{const e=Uv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Lv=()=>Eh()?.config,jv=s=>Eh()?.[`_${s}`];class eS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function To(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Pv(s){return(await fetch(s,{credentials:"include"})).ok}function tS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[eh(JSON.stringify(i)),eh(JSON.stringify(d)),""].join(".")}const kl={};function nS(){const s={prod:[],emulator:[]};for(const e of Object.keys(kl))kl[e]?s.emulator.push(e):s.prod.push(e);return s}function iS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let W_=!1;function zv(s,e){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||kl[s]===e||kl[s]||W_)return;kl[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=nS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function g(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{W_=!0,d()},M}function S(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=iS(a),F=i("text"),ie=document.getElementById(F)||document.createElement("span"),re=i("learnmore"),Z=document.getElementById(re)||document.createElement("a"),pe=i("preprendIcon"),ge=document.getElementById(pe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ve=M.element;y(ve),S(Z,re);const tt=_();g(ge,pe),ve.append(ge,ie,Z,tt),document.body.appendChild(ve)}c?(ie.innerText="Preview backend disconnected.",ge.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ge.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ie.innerText="Preview backend running in this workspace."),ie.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function rS(){const s=Eh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function lS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uS(){const s=mn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function cS(){return!rS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hS(){try{return typeof indexedDB=="object"}catch{return!1}}function fS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const dS="FirebaseError";class Ns extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=dS,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zl.prototype.create)}}class Zl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?mS(c,a):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new Ns(l,y,a)}}function mS(s,e){return s.replace(gS,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const gS=/\{\$([^}]+)}/g;function pS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Er(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(e0(c)&&e0(d)){if(!Er(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function e0(s){return s!==null&&typeof s=="object"}function Wl(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function yS(s,e){const i=new _S(s,e);return i.subscribe.bind(i)}class _S{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");vS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Hd),l.error===void 0&&(l.error=Hd),l.complete===void 0&&(l.complete=Hd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Hd(){}function yn(s){return s&&s._delegate?s._delegate:s}class aa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ia="[DEFAULT]";class ES{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new eS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bS(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:TS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TS(s){return s===ia?void 0:s}function bS(s){return s.instantiationMode==="EAGER"}class SS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new ES(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var He;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(He||(He={}));const AS={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},wS=He.INFO,RS={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},xS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=RS[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nm{constructor(e){this.name=e,this._logLevel=wS,this._logHandler=xS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const IS=(s,e)=>e.some(i=>s instanceof i);let t0,n0;function CS(){return t0||(t0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NS(){return n0||(n0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bv=new WeakMap,im=new WeakMap,qv=new WeakMap,Gd=new WeakMap,Dm=new WeakMap;function DS(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(gr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Bv.set(i,s)}).catch(()=>{}),Dm.set(e,s),e}function OS(s){if(im.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});im.set(s,e)}let sm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return im.get(s);if(e==="objectStoreNames")return s.objectStoreNames||qv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return gr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function MS(s){sm=s(sm)}function VS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Fd(this),e,...i);return qv.set(a,e.sort?e.sort():[e]),gr(a)}:NS().includes(s)?function(...e){return s.apply(Fd(this),e),gr(Bv.get(this))}:function(...e){return gr(s.apply(Fd(this),e))}}function kS(s){return typeof s=="function"?VS(s):(s instanceof IDBTransaction&&OS(s),IS(s,CS())?new Proxy(s,sm):s)}function gr(s){if(s instanceof IDBRequest)return DS(s);if(Gd.has(s))return Gd.get(s);const e=kS(s);return e!==s&&(Gd.set(s,e),Dm.set(e,s)),e}const Fd=s=>Dm.get(s);function US(s,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),y=gr(d);return a&&d.addEventListener("upgradeneeded",g=>{a(gr(d.result),g.oldVersion,g.newVersion,gr(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),y.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const LS=["get","getKey","getAll","getAllKeys","count"],jS=["put","add","delete","clear"],Kd=new Map;function i0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Kd.get(e))return Kd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=jS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||LS.includes(i)))return;const c=async function(d,...y){const g=this.transaction(d,l?"readwrite":"readonly");let _=g.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),l&&g.done]))[0]};return Kd.set(e,c),c}MS(s=>({...s,get:(e,i,a)=>i0(e,i)||s.get(e,i,a),has:(e,i)=>!!i0(e,i)||s.has(e,i)}));class PS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(zS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function zS(s){return s.getComponent()?.type==="VERSION"}const rm="@firebase/app",s0="0.14.7";const As=new Nm("@firebase/app"),BS="@firebase/app-compat",qS="@firebase/analytics-compat",HS="@firebase/analytics",GS="@firebase/app-check-compat",FS="@firebase/app-check",KS="@firebase/auth",QS="@firebase/auth-compat",YS="@firebase/database",XS="@firebase/data-connect",$S="@firebase/database-compat",JS="@firebase/functions",ZS="@firebase/functions-compat",WS="@firebase/installations",eA="@firebase/installations-compat",tA="@firebase/messaging",nA="@firebase/messaging-compat",iA="@firebase/performance",sA="@firebase/performance-compat",rA="@firebase/remote-config",aA="@firebase/remote-config-compat",oA="@firebase/storage",lA="@firebase/storage-compat",uA="@firebase/firestore",cA="@firebase/ai",hA="@firebase/firestore-compat",fA="firebase",dA="12.8.0";const am="[DEFAULT]",mA={[rm]:"fire-core",[BS]:"fire-core-compat",[HS]:"fire-analytics",[qS]:"fire-analytics-compat",[FS]:"fire-app-check",[GS]:"fire-app-check-compat",[KS]:"fire-auth",[QS]:"fire-auth-compat",[YS]:"fire-rtdb",[XS]:"fire-data-connect",[$S]:"fire-rtdb-compat",[JS]:"fire-fn",[ZS]:"fire-fn-compat",[WS]:"fire-iid",[eA]:"fire-iid-compat",[tA]:"fire-fcm",[nA]:"fire-fcm-compat",[iA]:"fire-perf",[sA]:"fire-perf-compat",[rA]:"fire-rc",[aA]:"fire-rc-compat",[oA]:"fire-gcs",[lA]:"fire-gcs-compat",[uA]:"fire-fst",[hA]:"fire-fst-compat",[cA]:"fire-vertex","fire-js":"fire-js",[fA]:"fire-js-all"};const th=new Map,gA=new Map,om=new Map;function r0(s,e){try{s.container.addComponent(e)}catch(i){As.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function fo(s){const e=s.name;if(om.has(e))return As.debug(`There were multiple attempts to register component ${e}.`),!1;om.set(e,s);for(const i of th.values())r0(i,s);for(const i of gA.values())r0(i,s);return!0}function Om(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ri(s){return s==null?!1:s.settings!==void 0}const pA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new Zl("app","Firebase",pA);class yA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}const bo=dA;function Hv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:am,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw pr.create("bad-app-name",{appName:String(l)});if(i||(i=Lv()),!i)throw pr.create("no-options");const c=th.get(l);if(c){if(Er(i,c.options)&&Er(a,c.config))return c;throw pr.create("duplicate-app",{appName:l})}const d=new SS(l);for(const g of om.values())d.addComponent(g);const y=new yA(i,a,d);return th.set(l,y),y}function Gv(s=am){const e=th.get(s);if(!e&&s===am&&Lv())return Hv();if(!e)throw pr.create("no-app",{appName:s});return e}function yr(s,e,i){let a=mA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),As.warn(d.join(" "));return}fo(new aa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const _A="firebase-heartbeat-database",vA=1,Hl="firebase-heartbeat-store";let Qd=null;function Fv(){return Qd||(Qd=US(_A,vA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Hl)}catch(i){console.warn(i)}}}}).catch(s=>{throw pr.create("idb-open",{originalErrorMessage:s.message})})),Qd}async function EA(s){try{const i=(await Fv()).transaction(Hl),a=await i.objectStore(Hl).get(Kv(s));return await i.done,a}catch(e){if(e instanceof Ns)As.warn(e.message);else{const i=pr.create("idb-get",{originalErrorMessage:e?.message});As.warn(i.message)}}}async function a0(s,e){try{const a=(await Fv()).transaction(Hl,"readwrite");await a.objectStore(Hl).put(e,Kv(s)),await a.done}catch(i){if(i instanceof Ns)As.warn(i.message);else{const a=pr.create("idb-set",{originalErrorMessage:i?.message});As.warn(a.message)}}}function Kv(s){return`${s.name}!${s.options.appId}`}const TA=1024,bA=30;class SA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new wA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=o0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>bA){const l=RA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){As.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=o0(),{heartbeatsToSend:i,unsentEntries:a}=AA(this._heartbeatsCache.heartbeats),l=eh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return As.warn(e),""}}}function o0(){return new Date().toISOString().substring(0,10)}function AA(s,e=TA){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),l0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),l0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class wA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hS()?fS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await EA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return a0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return a0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function l0(s){return eh(JSON.stringify({version:2,heartbeats:s})).length}function RA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function xA(s){fo(new aa("platform-logger",e=>new PS(e),"PRIVATE")),fo(new aa("heartbeat",e=>new SA(e),"PRIVATE")),yr(rm,s0,s),yr(rm,s0,"esm2020"),yr("fire-js","")}xA("");var IA="firebase",CA="12.8.0";yr(IA,CA,"app");function Qv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NA=Qv,Yv=new Zl("auth","Firebase",Qv());const nh=new Nm("@firebase/auth");function DA(s,...e){nh.logLevel<=He.WARN&&nh.warn(`Auth (${bo}): ${s}`,...e)}function Gc(s,...e){nh.logLevel<=He.ERROR&&nh.error(`Auth (${bo}): ${s}`,...e)}function ws(s,...e){throw Mm(s,...e)}function Ki(s,...e){return Mm(s,...e)}function Xv(s,e,i){const a={...NA(),[e]:i};return new Zl("auth","Firebase",a).create(e,{appName:s.name})}function Ss(s){return Xv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Yv.create(s,...e)}function we(s,e,...i){if(!s)throw Mm(e,...i)}function Ts(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Gc(e),new Error(e)}function Rs(s,e){s||Ts(e)}function lm(){return typeof self<"u"&&self.location?.href||""}function OA(){return u0()==="http:"||u0()==="https:"}function u0(){return typeof self<"u"&&self.location?.protocol||null}function MA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OA()||oS()||"connection"in navigator)?navigator.onLine:!0}function VA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class eu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Rs(i>e,"Short delay should be less than long delay!"),this.isMobile=sS()||lS()}get(){return MA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vm(s,e){Rs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class $v{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const UA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LA=new eu(3e4,6e4);function tu(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function So(s,e,i,a,l={}){return Jv(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const y=Wl({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:g,...c};return aS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&To(s.emulatorConfig.host)&&(_.credentials="include"),$v.fetch()(await Zv(s,s.config.apiHost,i,y),_)})}async function Jv(s,e,i){s._canInitEmulator=!1;const a={...kA,...e};try{const l=new jA(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Uc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[g,_]=y.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Uc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Uc(s,"user-disabled",d);const S=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Xv(s,S,_);ws(s,S)}}catch(l){if(l instanceof Ns)throw l;ws(s,"network-request-failed",{message:String(l)})}}async function km(s,e,i,a,l={}){const c=await So(s,e,i,a,l);return"mfaPendingCredential"in c&&ws(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Zv(s,e,i,a){const l=`${e}${i}?${a}`,c=s,d=c.config.emulator?Vm(s.config,l):`${s.config.apiScheme}://${l}`;return UA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class jA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ki(this.auth,"network-request-failed")),LA.get())})}}function Uc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ki(s,e,a);return l.customData._tokenResponse=i,l}async function PA(s,e){return So(s,"POST","/v1/accounts:delete",e)}async function ih(s,e){return So(s,"POST","/v1/accounts:lookup",e)}function Ul(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zA(s,e=!1){const i=yn(s),a=await i.getIdToken(e),l=Um(a);we(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Ul(Yd(l.auth_time)),issuedAtTime:Ul(Yd(l.iat)),expirationTime:Ul(Yd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Yd(s){return Number(s)*1e3}function Um(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const l=kv(i);return l?JSON.parse(l):(Gc("Failed to decode base64 JWT payload"),null)}catch(l){return Gc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function c0(s){const e=Um(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Gl(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ns&&BA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function BA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class qA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class um{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sh(s){const e=s.auth,i=await s.getIdToken(),a=await Gl(s,ih(e,{idToken:i}));we(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Wv(l.providerUserInfo):[],d=GA(s.providerData,c),y=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,_=y?g:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function HA(s){const e=yn(s);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GA(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function Wv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function FA(s,e){const i=await Jv(s,{},async()=>{const a=Wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Zv(s,l,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:y,body:a};return s.emulatorConfig&&To(s.emulatorConfig.host)&&(g.credentials="include"),$v.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function KA(s,e){return So(s,"POST","/v2/accounts:revokeToken",tu(s,e))}class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){we(e.length!==0,"internal-error");const i=c0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await FA(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new ro;return a&&(we(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(we(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(we(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return Ts("not implemented")}}function lr(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class vi{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new qA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new um(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Gl(this,this.stsTokenManager.getToken(this.auth,e));return we(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return zA(this,e)}reload(){return HA(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new vi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await sh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(Ss(this.auth));const e=await this.getIdToken();return await Gl(this,PA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:F,providerData:ie,stsTokenManager:re}=i;we(A&&re,e,"internal-error");const Z=ro.fromJSON(this.name,re);we(typeof A=="string",e,"internal-error"),lr(a,e.name),lr(l,e.name),we(typeof M=="boolean",e,"internal-error"),we(typeof F=="boolean",e,"internal-error"),lr(c,e.name),lr(d,e.name),lr(y,e.name),lr(g,e.name),lr(_,e.name),lr(S,e.name);const pe=new vi({uid:A,auth:e,email:l,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:Z,createdAt:_,lastLoginAt:S});return ie&&Array.isArray(ie)&&(pe.providerData=ie.map(ge=>({...ge}))),g&&(pe._redirectEventId=g),pe}static async _fromIdTokenResponse(e,i,a=!1){const l=new ro;l.updateFromServerResponse(i);const c=new vi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await sh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];we(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Wv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,y=new ro;y.updateFromIdToken(a);const g=new vi({uid:l.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,_),g}}const h0=new Map;function bs(s){Rs(s instanceof Function,"Expected a class definition");let e=h0.get(s);return e?(Rs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,h0.set(s,e),e)}class e1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}e1.type="NONE";const f0=e1;function Fc(s,e,i){return`firebase:${s}:${e}:${i}`}class ao{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Fc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Fc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await ih(this.auth,{idToken:e}).catch(()=>{});return i?vi._fromGetAccountInfoResponse(this.auth,i,e):null}return vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new ao(bs(f0),e,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||bs(f0);const d=Fc(a,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const S=await _._get(d);if(S){let A;if(typeof S=="string"){const M=await ih(e,{idToken:S}).catch(()=>{});if(!M)break;A=await vi._fromGetAccountInfoResponse(e,M,S)}else A=vi._fromJSON(e,S);_!==c&&(y=A),c=_;break}}catch{}const g=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new ao(c,e,a):(c=g[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new ao(c,e,a))}}function d0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(s1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(t1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(a1(e))return"Blackberry";if(o1(e))return"Webos";if(n1(e))return"Safari";if((e.includes("chrome/")||i1(e))&&!e.includes("edge/"))return"Chrome";if(r1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function t1(s=mn()){return/firefox\//i.test(s)}function n1(s=mn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function i1(s=mn()){return/crios\//i.test(s)}function s1(s=mn()){return/iemobile/i.test(s)}function r1(s=mn()){return/android/i.test(s)}function a1(s=mn()){return/blackberry/i.test(s)}function o1(s=mn()){return/webos/i.test(s)}function Lm(s=mn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function QA(s=mn()){return Lm(s)&&!!window.navigator?.standalone}function YA(){return uS()&&document.documentMode===10}function l1(s=mn()){return Lm(s)||r1(s)||o1(s)||a1(s)||/windows phone/i.test(s)||s1(s)}function u1(s,e=[]){let i;switch(s){case"Browser":i=d0(mn());break;case"Worker":i=`${d0(mn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${bo}/${a}`}class XA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,y)=>{try{const g=e(c);d(g)}catch(g){y(g)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function $A(s,e={}){return So(s,"GET","/v2/passwordPolicy",tu(s,e))}const JA=6;class ZA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??JA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class WA{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m0(this),this.idTokenSubscription=new m0(this),this.beforeStateQueue=new XA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=bs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await ih(this,{idToken:e}),a=await vi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ri(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ri(this.app))return Promise.reject(Ss(this));const i=e?yn(e):null;return i&&we(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ri(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $A(this),i=new ZA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await KA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&bs(e)||this._popupRedirectResolver;we(i,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[bs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,a,l);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&DA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function nu(s){return yn(s)}class m0{constructor(e){this.auth=e,this.observer=null,this.addObserver=yS(i=>this.observer=i)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let jm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ew(s){jm=s}function tw(s){return jm.loadJS(s)}function nw(){return jm.gapiScript}function iw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function sw(s,e){const i=Om(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Er(c,e??{}))return l;ws(l,"already-initialized")}return i.initialize({options:e})}function rw(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(bs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function aw(s,e,i){const a=nu(s);we(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=c1(e),{host:d,port:y}=ow(e),g=y===null?"":`:${y}`,_={url:`${c}//${d}${g}/`},S=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){we(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),we(Er(_,a.config.emulator)&&Er(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,To(d)?(Pv(`${c}//${d}${g}`),zv("Auth",!0)):lw()}function c1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function ow(s){const e=c1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:g0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:g0(d)}}}function g0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function lw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class h1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ts("not implemented")}_getIdTokenResponse(e){return Ts("not implemented")}_linkToIdToken(e,i){return Ts("not implemented")}_getReauthenticationResolver(e){return Ts("not implemented")}}async function oo(s,e){return km(s,"POST","/v1/accounts:signInWithIdp",tu(s,e))}const uw="http://localhost";class oa extends h1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ws("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new oa(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return oo(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,oo(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,oo(e,i)}buildRequest(){const e={requestUri:uw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Wl(i)}return e}}class f1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class iu extends f1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cr extends iu{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";cr.PROVIDER_ID="facebook.com";class hr extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return oa._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return hr.credential(i,a)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";class fr extends iu{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.GITHUB_SIGN_IN_METHOD="github.com";fr.PROVIDER_ID="github.com";class dr extends iu{constructor(){super("twitter.com")}static credential(e,i){return oa._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return dr.credential(i,a)}catch{return null}}}dr.TWITTER_SIGN_IN_METHOD="twitter.com";dr.PROVIDER_ID="twitter.com";async function cw(s,e){return km(s,"POST","/v1/accounts:signUp",tu(s,e))}class xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await vi._fromIdTokenResponse(e,a,l),d=p0(a);return new xs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=p0(a);return new xs({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function p0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function hw(s){if(ri(s.app))return Promise.reject(Ss(s));const e=nu(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new xs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await cw(e,{returnSecureToken:!0}),a=await xs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class rh extends Ns{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new rh(e,i,a,l)}}function d1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(s,c,e,a):c})}async function fw(s,e,i=!1){const a=await Gl(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return xs._forOperation(s,"link",a)}async function dw(s,e,i=!1){const{auth:a}=s;if(ri(a.app))return Promise.reject(Ss(a));const l="reauthenticate";try{const c=await Gl(s,d1(a,l,e,s),i);we(c.idToken,a,"internal-error");const d=Um(c.idToken);we(d,a,"internal-error");const{sub:y}=d;return we(s.uid===y,a,"user-mismatch"),xs._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ws(a,"user-mismatch"),c}}async function mw(s,e,i=!1){if(ri(s.app))return Promise.reject(Ss(s));const a="signIn",l=await d1(s,a,e),c=await xs._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function gw(s,e){return km(s,"POST","/v1/accounts:signInWithCustomToken",tu(s,e))}async function pw(s,e){if(ri(s.app))return Promise.reject(Ss(s));const i=nu(s),a=await gw(i,{token:e,returnSecureToken:!0}),l=await xs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function yw(s,e,i,a){return yn(s).onIdTokenChanged(e,i,a)}function _w(s,e,i){return yn(s).beforeAuthStateChanged(e,i)}function vw(s,e,i,a){return yn(s).onAuthStateChanged(e,i,a)}const ah="__sak";class m1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ew=1e3,Tw=10;class g1 extends m1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=l1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,g)=>{this.notifyListeners(d,g)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);YA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Tw):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},Ew)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}g1.type="LOCAL";const bw=g1;class p1 extends m1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}p1.type="SESSION";const y1=p1;function Sw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new Th(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(d).map(async _=>_(i.origin,c)),g=await Sw(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Th.receivers=[];function Pm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class Aw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((y,g)=>{const _=Pm("",20);l.port1.start();const S=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(S),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Qi(){return window}function ww(s){Qi().location.href=s}function _1(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function Rw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xw(){return navigator?.serviceWorker?.controller||null}function Iw(){return _1()?self:null}const v1="firebaseLocalStorageDb",Cw=1,oh="firebaseLocalStorage",E1="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function bh(s,e){return s.transaction([oh],e?"readwrite":"readonly").objectStore(oh)}function Nw(){const s=indexedDB.deleteDatabase(v1);return new su(s).toPromise()}function cm(){const s=indexedDB.open(v1,Cw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(oh,{keyPath:E1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(oh)?e(a):(a.close(),await Nw(),e(await cm()))})})}async function y0(s,e,i){const a=bh(s,!0).put({[E1]:e,value:i});return new su(a).toPromise()}async function Dw(s,e){const i=bh(s,!1).get(e),a=await new su(i).toPromise();return a===void 0?null:a.value}function _0(s,e){const i=bh(s,!0).delete(e);return new su(i).toPromise()}const Ow=800,Mw=3;class T1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Mw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Th._getInstance(Iw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Rw(),!this.activeServiceWorker)return;this.sender=new Aw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cm();return await y0(e,ah,"1"),await _0(e,ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>y0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>Dw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>_0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=bh(l,!1).getAll();return new su(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}T1.type="LOCAL";const Vw=T1;new eu(3e4,6e4);function kw(s,e){return e?bs(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class zm extends h1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return oo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Uw(s){return mw(s.auth,new zm(s),s.bypassAuthState)}function Lw(s){const{auth:e,user:i}=s;return we(i,e,"internal-error"),dw(i,new zm(s),s.bypassAuthState)}async function jw(s){const{auth:e,user:i}=s;return we(i,e,"internal-error"),fw(i,new zm(s),s.bypassAuthState)}class b1{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Uw;case"linkViaPopup":case"linkViaRedirect":return jw;case"reauthViaPopup":case"reauthViaRedirect":return Lw;default:ws(this.auth,"internal-error")}}resolve(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pw=new eu(2e3,1e4);class so extends b1{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const e=Pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Pw.get())};e()}}so.currentPopupAction=null;const zw="pendingRedirect",Kc=new Map;class Bw extends b1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Kc.get(this.auth._key());if(!e){try{const a=await qw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Kc.set(this.auth._key(),e)}return this.bypassAuthState||Kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qw(s,e){const i=Fw(e),a=Gw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Hw(s,e){Kc.set(s._key(),e)}function Gw(s){return bs(s._redirectPersistence)}function Fw(s){return Fc(zw,s.config.apiKey,s.name)}async function Kw(s,e,i=!1){if(ri(s.app))return Promise.reject(Ss(s));const a=nu(s),l=kw(a,e),d=await new Bw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Qw=600*1e3;class Yw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Xw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!S1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ki(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Qw&&this.cachedEventUids.clear(),this.cachedEventUids.has(v0(e))}saveEventToCache(e){this.cachedEventUids.add(v0(e)),this.lastProcessedEventTime=Date.now()}}function v0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function S1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Xw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return S1(s);default:return!1}}async function $w(s,e={}){return So(s,"GET","/v1/projects",e)}const Jw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zw=/^https?/;async function Ww(s){if(s.config.emulator)return;const{authorizedDomains:e}=await $w(s);for(const i of e)try{if(e2(i))return}catch{}ws(s,"unauthorized-domain")}function e2(s){const e=lm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Zw.test(i))return!1;if(Jw.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const t2=new eu(3e4,6e4);function E0(){const s=Qi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function n2(s){return new Promise((e,i)=>{function a(){E0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{E0(),i(Ki(s,"network-request-failed"))},timeout:t2.get()})}if(Qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Qi().gapi?.load)a();else{const l=iw("iframefcb");return Qi()[l]=()=>{gapi.load?a():i(Ki(s,"network-request-failed"))},tw(`${nw()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function i2(s){return Qc=Qc||n2(s),Qc}const s2=new eu(5e3,15e3),r2="__/auth/iframe",a2="emulator/auth/iframe",o2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function u2(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Vm(e,a2):`https://${s.config.authDomain}/${r2}`,a={apiKey:e.apiKey,appName:s.name,v:bo},l=l2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Wl(a).slice(1)}`}async function c2(s){const e=await i2(s),i=Qi().gapi;return we(i,s,"internal-error"),e.open({where:document.body,url:u2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ki(s,"network-request-failed"),y=Qi().setTimeout(()=>{c(d)},s2.get());function g(){Qi().clearTimeout(y),l(a)}a.ping(g).then(g,()=>{c(d)})}))}const h2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},f2=500,d2=600,m2="_blank",g2="http://localhost";class T0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p2(s,e,i,a=f2,l=d2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const g={...h2,width:a.toString(),height:l.toString(),top:c,left:d},_=mn().toLowerCase();i&&(y=i1(_)?m2:i),t1(_)&&(e=e||g2,g.scrollbars="yes");const S=Object.entries(g).reduce((M,[F,ie])=>`${M}${F}=${ie},`,"");if(QA(_)&&y!=="_self")return y2(e||"",y),new T0(null);const A=window.open(e||"",y,S);we(A,s,"popup-blocked");try{A.focus()}catch{}return new T0(A)}function y2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const _2="__/auth/handler",v2="emulator/auth/handler",E2=encodeURIComponent("fac");async function b0(s,e,i,a,l,c){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:bo,eventId:l};if(e instanceof f1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",pS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,A]of Object.entries({}))d[S]=A}if(e instanceof iu){const S=e.getScopes().filter(A=>A!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const S of Object.keys(y))y[S]===void 0&&delete y[S];const g=await s._getAppCheckToken(),_=g?`#${E2}=${encodeURIComponent(g)}`:"";return`${T2(s)}?${Wl(y).slice(1)}${_}`}function T2({config:s}){return s.emulator?Vm(s,v2):`https://${s.authDomain}/${_2}`}const Xd="webStorageSupport";class b2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y1,this._completeRedirectFn=Kw,this._overrideRedirectResult=Hw}async _openPopup(e,i,a,l){Rs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await b0(e,i,a,lm(),l);return p2(e,c,Pm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await b0(e,i,a,lm(),l);return ww(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Rs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await c2(e),a=new Yw(e);return i.register("authEvent",l=>(we(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Xd,{type:Xd},l=>{const c=l?.[0]?.[Xd];c!==void 0&&i(!!c),ws(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Ww(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return l1()||n1()||Lm()}}const S2=b2;var S0="@firebase/auth",A0="1.12.0";class A2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function w2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R2(s){fo(new aa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;we(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u1(s)},_=new WA(a,l,c,g);return rw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),fo(new aa("auth-internal",e=>{const i=nu(e.getProvider("auth").getImmediate());return(a=>new A2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(S0,A0,w2(s)),yr(S0,A0,"esm2020")}const x2=300,I2=jv("authIdTokenMaxAge")||x2;let w0=null;const C2=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>I2)return;const l=i?.token;w0!==l&&(w0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function N2(s=Gv()){const e=Om(s,"auth");if(e.isInitialized())return e.getImmediate();const i=sw(s,{popupRedirectResolver:S2,persistence:[Vw,bw,y1]}),a=jv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=C2(c.toString());_w(i,d,()=>d(i.currentUser)),yw(i,y=>d(y))}}const l=Uv("auth");return l&&aw(i,`http://${l}`),i}function D2(){return document.getElementsByTagName("head")?.[0]??document}ew({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=Ki("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",D2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R2("Browser");var R0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _r,A1;(function(){var s;function e(C,w){function I(){}I.prototype=w.prototype,C.F=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,N,U){for(var R=Array(arguments.length-2),at=2;at<arguments.length;at++)R[at-2]=arguments[at];return w.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,w,I){I||(I=0);const V=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)V[N]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],N=C.g[2];let U=C.g[3],R;R=w+(U^I&(N^U))+V[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=U+(N^w&(I^N))+V[1]+3905402710&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(I^U&(w^I))+V[2]+606105819&4294967295,N=U+(R<<17&4294967295|R>>>15),R=I+(w^N&(U^w))+V[3]+3250441966&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(U^I&(N^U))+V[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=U+(N^w&(I^N))+V[5]+1200080426&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(I^U&(w^I))+V[6]+2821735955&4294967295,N=U+(R<<17&4294967295|R>>>15),R=I+(w^N&(U^w))+V[7]+4249261313&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(U^I&(N^U))+V[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=U+(N^w&(I^N))+V[9]+2336552879&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(I^U&(w^I))+V[10]+4294925233&4294967295,N=U+(R<<17&4294967295|R>>>15),R=I+(w^N&(U^w))+V[11]+2304563134&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(U^I&(N^U))+V[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=U+(N^w&(I^N))+V[13]+4254626195&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(I^U&(w^I))+V[14]+2792965006&4294967295,N=U+(R<<17&4294967295|R>>>15),R=I+(w^N&(U^w))+V[15]+1236535329&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(N^U&(I^N))+V[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=U+(I^N&(w^I))+V[6]+3225465664&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(U^w))+V[11]+643717713&4294967295,N=U+(R<<14&4294967295|R>>>18),R=I+(U^w&(N^U))+V[0]+3921069994&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(N^U&(I^N))+V[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=U+(I^N&(w^I))+V[10]+38016083&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(U^w))+V[15]+3634488961&4294967295,N=U+(R<<14&4294967295|R>>>18),R=I+(U^w&(N^U))+V[4]+3889429448&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(N^U&(I^N))+V[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=U+(I^N&(w^I))+V[14]+3275163606&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(U^w))+V[3]+4107603335&4294967295,N=U+(R<<14&4294967295|R>>>18),R=I+(U^w&(N^U))+V[8]+1163531501&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(N^U&(I^N))+V[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=U+(I^N&(w^I))+V[2]+4243563512&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(U^w))+V[7]+1735328473&4294967295,N=U+(R<<14&4294967295|R>>>18),R=I+(U^w&(N^U))+V[12]+2368359562&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(I^N^U)+V[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=U+(w^I^N)+V[8]+2272392833&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^I)+V[11]+1839030562&4294967295,N=U+(R<<16&4294967295|R>>>16),R=I+(N^U^w)+V[14]+4259657740&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(I^N^U)+V[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=U+(w^I^N)+V[4]+1272893353&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^I)+V[7]+4139469664&4294967295,N=U+(R<<16&4294967295|R>>>16),R=I+(N^U^w)+V[10]+3200236656&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(I^N^U)+V[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=U+(w^I^N)+V[0]+3936430074&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^I)+V[3]+3572445317&4294967295,N=U+(R<<16&4294967295|R>>>16),R=I+(N^U^w)+V[6]+76029189&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(I^N^U)+V[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=U+(w^I^N)+V[12]+3873151461&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^I)+V[15]+530742520&4294967295,N=U+(R<<16&4294967295|R>>>16),R=I+(N^U^w)+V[2]+3299628645&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(N^(I|~U))+V[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=U+(I^(w|~N))+V[7]+1126891415&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~I))+V[14]+2878612391&4294967295,N=U+(R<<15&4294967295|R>>>17),R=I+(U^(N|~w))+V[5]+4237533241&4294967295,I=N+(R<<21&4294967295|R>>>11),R=w+(N^(I|~U))+V[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=U+(I^(w|~N))+V[3]+2399980690&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~I))+V[10]+4293915773&4294967295,N=U+(R<<15&4294967295|R>>>17),R=I+(U^(N|~w))+V[1]+2240044497&4294967295,I=N+(R<<21&4294967295|R>>>11),R=w+(N^(I|~U))+V[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=U+(I^(w|~N))+V[15]+4264355552&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~I))+V[6]+2734768916&4294967295,N=U+(R<<15&4294967295|R>>>17),R=I+(U^(N|~w))+V[13]+1309151649&4294967295,I=N+(R<<21&4294967295|R>>>11),R=w+(N^(I|~U))+V[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=U+(I^(w|~N))+V[11]+3174756917&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~I))+V[2]+718787259&4294967295,N=U+(R<<15&4294967295|R>>>17),R=I+(U^(N|~w))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+U&4294967295}a.prototype.v=function(C,w){w===void 0&&(w=C.length);const I=w-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<w;){if(N==0)for(;U<=I;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<w;)if(V[N++]=C.charCodeAt(U++),N==this.blockSize){l(this,V),N=0;break}}else for(;U<w;)if(V[N++]=C[U++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=w},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[w++]=this.g[I]>>>V&255;return C};function c(C,w){var I=y;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function d(C,w){this.h=w;const I=[];let V=!0;for(let N=C.length-1;N>=0;N--){const U=C[N]|0;V&&U==w||(I[N]=U,V=!1)}this.g=I}var y={};function g(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return Z(_(-C));const w=[];let I=1;for(let V=0;C>=I;V++)w[V]=C/I|0,I*=4294967296;return new d(w,0)}function S(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return Z(S(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(w,8));let V=A;for(let U=0;U<C.length;U+=8){var N=Math.min(8,C.length-U);const R=parseInt(C.substring(U,U+N),w);N<8?(N=_(Math.pow(w,N)),V=V.j(N).add(_(R))):(V=V.j(I),V=V.add(_(R)))}return V}var A=g(0),M=g(1),F=g(16777216);s=d.prototype,s.m=function(){if(re(this))return-Z(this).m();let C=0,w=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*w,w*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(ie(this))return"0";if(re(this))return"-"+Z(this).toString(C);const w=_(Math.pow(C,6));var I=this;let V="";for(;;){const N=tt(I,w).g;I=pe(I,N.j(w));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,ie(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function ie(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function re(C){return C.h==-1}s.l=function(C){return C=pe(this,C),re(C)?-1:ie(C)?0:1};function Z(C){const w=C.g.length,I=[];for(let V=0;V<w;V++)I[V]=~C.g[V];return new d(I,~C.h).add(M)}s.abs=function(){return re(this)?Z(this):this},s.add=function(C){const w=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let N=0;N<=w;N++){let U=V+(this.i(N)&65535)+(C.i(N)&65535),R=(U>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=R>>>16,U&=65535,R&=65535,I[N]=R<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function pe(C,w){return C.add(Z(w))}s.j=function(C){if(ie(this)||ie(C))return A;if(re(this))return re(C)?Z(this).j(Z(C)):Z(Z(this).j(C));if(re(C))return Z(this.j(Z(C)));if(this.l(F)<0&&C.l(F)<0)return _(this.m()*C.m());const w=this.g.length+C.g.length,I=[];for(var V=0;V<2*w;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const U=this.i(V)>>>16,R=this.i(V)&65535,at=C.i(N)>>>16,Rt=C.i(N)&65535;I[2*V+2*N]+=R*Rt,ge(I,2*V+2*N),I[2*V+2*N+1]+=U*Rt,ge(I,2*V+2*N+1),I[2*V+2*N+1]+=R*at,ge(I,2*V+2*N+1),I[2*V+2*N+2]+=U*at,ge(I,2*V+2*N+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new d(I,0)};function ge(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function ve(C,w){this.g=C,this.h=w}function tt(C,w){if(ie(w))throw Error("division by zero");if(ie(C))return new ve(A,A);if(re(C))return w=tt(Z(C),w),new ve(Z(w.g),Z(w.h));if(re(w))return w=tt(C,Z(w)),new ve(Z(w.g),w.h);if(C.g.length>30){if(re(C)||re(w))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=w;V.l(C)<=0;)I=dt(I),V=dt(V);var N=Ve(I,1),U=Ve(V,1);for(V=Ve(V,2),I=Ve(I,2);!ie(V);){var R=U.add(V);R.l(C)<=0&&(N=N.add(I),U=R),V=Ve(V,1),I=Ve(I,1)}return w=pe(C,N.j(w)),new ve(N,w)}for(N=A;C.l(w)>=0;){for(I=Math.max(1,Math.floor(C.m()/w.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(I),R=U.j(w);re(R)||R.l(C)>0;)I-=V,U=_(I),R=U.j(w);ie(U)&&(U=M),N=N.add(U),C=pe(C,R)}return new ve(N,C)}s.B=function(C){return tt(this,C).h},s.and=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function dt(C){const w=C.g.length+1,I=[];for(let V=0;V<w;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function Ve(C,w){const I=w>>5;w%=32;const V=C.g.length-I,N=[];for(let U=0;U<V;U++)N[U]=w>0?C.i(U+I)>>>w|C.i(U+I+1)<<32-w:C.i(U+I);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,A1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,_r=d}).apply(typeof R0<"u"?R0:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var w1,Nl,R1,Yc,hm,x1,I1,C1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break e;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=g,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var ne=Array(arguments.length-2),De=2;De<arguments.length;De++)ne[De-2]=arguments[De];return m.prototype[L].apply(b,ne)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function ie(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let ne=0;ne<B;ne++)u[v+ne]=L[ne]}else u.push(L)}}class re{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function pe(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ge{constructor(){this.h=this.g=null}add(m,v){const b=ve.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ve=new re(()=>new tt,u=>u.reset());class tt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,Ve=!1,C=new ge,w=()=>{const u=Promise.resolve(void 0);dt=()=>{u.then(I)}};function I(){for(var u;u=pe();){try{u.h.call(u.g)}catch(v){Z(v)}var m=ve;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ve=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function at(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(at,N),at.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Rt="closure_listenable_"+(Math.random()*1e6|0),H=0;function te(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++H,this.da=this.fa=!1}function ce(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ze(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Ye(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let B=0;B<Q.length;B++)v=Q[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function oe(u){this.src=u,this.g={},this.h=0}oe.prototype.add=function(u,m,v,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ne=Ie(u,m,b,L);return ne>-1?(m=u[ne],v||(m.fa=!1)):(m=new te(m,this.src,B,!!b,L),m.fa=v,u.push(m)),m};function Te(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(ce(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ie(u,m,v,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),vt={};function mt(u,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)mt(u,m[B],v,b,L);return null}return v=Xe(v),u&&u[Rt]?u.J(m,v,y(b)?!!b.capture:!1,L):xn(u,m,v,!1,b,L)}function xn(u,m,v,b,L,B){if(!m)throw Error("Invalid event type");const ne=y(L)?!!L.capture:!!L;let De=ae(u);if(De||(u[Ue]=De=new oe(u)),v=De.add(m,v,b,ne,B),v.proxy)return v;if(b=Wi(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(L=ne),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(ee(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Wi(){function u(v){return m.call(u.src,u.listener,v)}const m=W;return u}function Si(u,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Si(u,m[B],v,b,L);else b=y(b)?!!b.capture:!!b,v=Xe(v),u&&u[Rt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Ie(m,v,b,L),v>-1&&(ce(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ae(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ie(m,v,b,L)),(v=u>-1?m[u]:null)&&es(v))}function es(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Rt])Te(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(ee(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=ae(m))?(Te(v,u),v.h==0&&(v.src=null,m[Ue]=null)):ce(u)}}}function ee(u){return u in vt?vt[u]:vt[u]="on"+u}function W(u,m){if(u.da)u=!0;else{m=new at(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&es(u),u=v.call(b,m)}return u}function ae(u){return u=u[Ue],u instanceof oe?u:null}var be="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xe(u){return typeof u=="function"?u:(u[be]||(u[be]=function(m){return u.handleEvent(m)}),u[be])}function Ae(){V.call(this),this.i=new oe(this),this.M=this,this.G=null}A(Ae,V),Ae.prototype[Rt]=!0,Ae.prototype.removeEventListener=function(u,m,v,b){Si(this,u,m,v,b)};function ke(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(b,u),se(m,L)}L=!0;let B,ne;if(v)for(ne=v.length-1;ne>=0;ne--)B=m.g=v[ne],L=Re(B,b,!0,m)&&L;if(B=m.g=u,L=Re(B,b,!0,m)&&L,L=Re(B,b,!1,m)&&L,v)for(ne=0;ne<v.length;ne++)B=m.g=v[ne],L=Re(B,b,!1,m)&&L}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ce(v[b]);delete u.g[m],u.h--}}this.G=null},Ae.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},Ae.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Re(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const ne=m[B];if(ne&&!ne.da&&ne.capture==v){const De=ne.listener,Ot=ne.ha||ne.src;ne.fa&&Te(u.i,ne),L=De.call(Ot,b)!==!1&&L}}return L&&!b.defaultPrevented}function Le(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function St(u){u.g=Le(()=>{u.g=null,u.i&&(u.i=!1,St(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Se extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:St(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ot(u){V.call(this),this.h=u,this.g={}}A(ot,V);var J=[];function he(u){ze(u.g,function(m,v){this.g.hasOwnProperty(v)&&es(m)},u),u.g={}}ot.prototype.N=function(){ot.Z.N.call(this),he(this)},ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Et=d.JSON.stringify,Nt=d.JSON.parse,xt=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function zn(){}function In(){}var Cn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function en(){N.call(this,"d")}A(en,N);function Bn(){N.call(this,"c")}A(Bn,N);var Dt={},hu=null;function da(){return hu=hu||new Ae}Dt.Ia="serverreachability";function fu(u){N.call(this,Dt.Ia,u)}A(fu,N);function Ai(u){const m=da();ke(m,new fu(m))}Dt.STAT_EVENT="statevent";function Cr(u,m){N.call(this,Dt.STAT_EVENT,u),this.stat=m}A(Cr,N);function Ut(u){const m=da();ke(m,new Cr(m,u))}Dt.Ja="timingevent";function wi(u,m){N.call(this,Dt.Ja,u),this.size=m}A(wi,N);function Ri(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function oi(){this.g=!0}oi.prototype.ua=function(){this.g=!1};function zh(u,m,v,b,L,B){u.info(function(){if(u.g)if(B){var ne="",De=B.split("&");for(let We=0;We<De.length;We++){var Ot=De[We].split("=");if(Ot.length>1){const Tt=Ot[0];Ot=Ot[1];const Fn=Tt.split("_");ne=Fn.length>=2&&Fn[1]=="type"?ne+(Tt+"="+Ot+"&"):ne+(Tt+"=redacted&")}}}else ne=null;else ne=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+ne})}function du(u,m,v,b,L,B,ne){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+ne})}function xi(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Bh(u,v)+(b?" "+b:"")})}function Nr(u,m){u.info(function(){return"TIMEOUT: "+m})}oi.prototype.info=function(){};function Bh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ne=1;ne<b.length;ne++)b[ne]=""}}}}return Et(B)}catch{return m}}var Dr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Io={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Co;function Or(){}A(Or,zn),Or.prototype.g=function(){return new XMLHttpRequest},Co=new Or;function ts(u){return encodeURIComponent(String(u))}function mu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function li(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new ot(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ui}function ui(){this.i=null,this.g="",this.h=!1}var Lt={},$t={};function Ii(u,m,v){u.M=1,u.A=Mr(Pt(m)),u.u=v,u.R=!0,ma(u,null)}function ma(u,m){u.F=Date.now(),Ci(u),u.B=Pt(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),_a(v.i,"t",b),u.C=0,v=u.j.L,u.h=new ui,u.g=Cu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Se(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(J[0]=L.toString()),L=J);for(let B=0;B<L.length;B++){const ne=mt(v,L[B],b||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Ai(),zh(u.i,u.v,u.B,u.l,u.S,u.u)}li.prototype.ba=function(u){u=u.target;const m=this.O;m&&fi(u)==3?m.j():this.Y(u)},li.prototype.Y=function(u){try{if(u==this.g)e:{const De=fi(this.g),Ot=this.g.ya(),We=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||De!=4||Ot==7||(Ot==8||We<=0?Ai(3):Ai(2)),Ni(this);var m=this.g.ca();this.X=m;var v=qh(this);if(this.o=m==200,du(this.i,this.v,this.B,this.l,this.S,De,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var B=b;break t}}B=null}if(u=B)xi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Di(this,u);else{this.o=!1,this.m=3,Ut(12),Nn(this),qn(this);break e}}if(this.R){u=!0;let Tt;for(;!this.K&&this.C<v.length;)if(Tt=pu(this,v),Tt==$t){De==4&&(this.m=4,Ut(14),u=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Lt){this.m=4,Ut(15),xi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else xi(this.i,this.l,Tt,null),Di(this,Tt);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||v.length!=0||this.h.h||(this.m=1,Ut(16),u=!1),this.o=this.o&&u,!u)xi(this.i,this.l,v,"[Invalid Chunked Response]"),Nn(this),qn(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Go(ne),ne.P=!0,Ut(11))}}else xi(this.i,this.l,v,null),Di(this,v);De==4&&Nn(this),this.o&&!this.K&&(De==4?wu(this.j,this):(this.o=!1,Ci(this)))}else is(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),Nn(this),qn(this)}}}catch{}};function qh(u){if(!gu(u))return u.g.la();const m=tn(u.g);if(m==="")return"";let v="";const b=m.length,L=fi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Nn(u),qn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function gu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function pu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?$t:(v=Number(m.substring(v,b)),isNaN(v)?Lt:(b+=1,b+v>m.length?$t:(m=m.slice(b,b+v),u.C=b+v,m)))}li.prototype.cancel=function(){this.K=!0,Nn(this)};function Ci(u){u.T=Date.now()+u.H,ga(u,u.H)}function ga(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ri(_(u.aa,u),m)}function Ni(u){u.D&&(d.clearTimeout(u.D),u.D=null)}li.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Nr(this.i,this.B),this.M!=2&&(Ai(),Ut(17)),Nn(this),this.m=2,qn(this)):ga(this,this.T-u)};function qn(u){u.j.I==0||u.K||wu(u.j,u)}function Nn(u){Ni(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,he(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Di(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Mi(v.h,u))){if(!u.L&&Mi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Sa(v),js(v);else break e;zr(v),Ut(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ri(_(v.Va,v),6e3));Oi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Pi(v,11)}else if((u.L||v.g==u)&&Sa(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let We=L[m];const Tt=We[0];if(!(Tt<=v.K))if(v.K=Tt,We=We[1],v.I==2)if(We[0]=="c"){v.M=We[1],v.ba=We[2];const Fn=We[3];Fn!=null&&(v.ka=Fn,v.j.info("VER="+v.ka));const zi=We[4];zi!=null&&(v.za=zi,v.j.info("SVER="+v.za));const di=We[5];di!=null&&typeof di=="number"&&di>0&&(b=1.5*di,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const mi=u.g;if(mi){const Br=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var B=b.h;B.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Oo(B,B.h),B.h=null))}if(b.G){const Aa=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(b.wa=Aa,it(b.J,b.G,Aa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var ne=u;if(b.na=Iu(b,b.L?b.ba:null,b.W),ne.L){Mo(b.h,ne);var De=ne,Ot=b.O;Ot&&(De.H=Ot),De.D&&(Ni(De),Ci(De)),b.g=ne}else Su(b);v.i.length>0&&ji(v)}else We[0]!="stop"&&We[0]!="close"||Pi(v,7);else v.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Pi(v,7):qo(v):We[0]!="noop"&&v.l&&v.l.qa(We),v.A=0)}}Ai(4)}catch{}}var jt=class{constructor(u,m){this.g=u,this.map=m}};function No(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Do(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Oi(u){return u.h?1:u.g?u.g.size:0}function Mi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Oo(u,m){u.g?u.g.add(m):u.h=m}function Mo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}No.prototype.cancel=function(){if(this.i=Vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Vo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,B=null;b>=0?(L=u[v].substring(0,b),B=u[v].substring(b+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Dn?(this.l=u.l,Jt(this,u.j),this.o=u.o,this.g=u.g,Ds(this,u.u),this.h=u.h,ko(this,Tu(u.i)),this.m=u.m):u&&(m=String(u).match(yu))?(this.l=!1,Jt(this,m[1]||"",!0),this.o=Vi(m[2]||""),this.g=Vi(m[3]||"",!0),Ds(this,m[4]),this.h=Vi(m[5]||"",!0),ko(this,m[6]||"",!0),this.m=Vi(m[7]||"")):(this.l=!1,this.i=new Ms(null,this.l))}Dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Vr(m,ya,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Vr(m,ya,!0),"@"),u.push(ts(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Vr(v,v.charAt(0)=="/"?Uo:_u,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Vr(v,vu)),u.join("")},Dn.prototype.resolve=function(u){const m=Pt(this);let v=!!u.j;v?Jt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Ds(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let ne=0;ne<L.length;){const De=L[ne++];De=="."?b&&ne==L.length&&B.push(""):De==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&ne==L.length&&B.push("")):(B.push(De),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?ko(m,Tu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Pt(u){return new Dn(u)}function Jt(u,m,v){u.j=v?Vi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ds(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function ko(u,m,v){m instanceof Ms?(u.i=m,va(u.i,u.l)):(v||(m=Vr(m,Os)),u.i=new Ms(m,u.l))}function it(u,m,v){u.i.set(m,v)}function Mr(u){return it(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Vi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Vr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,_n),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function _n(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ya=/[#\/\?@]/g,_u=/[#\?:]/g,Uo=/[#\?]/g,Os=/[#\?@]/g,vu=/#/g;function Ms(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&pa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ms.prototype,s.add=function(u,m){vn(this),this.i=null,u=Vs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Eu(u,m){vn(u),m=Vs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Lo(u,m){return vn(u),m=Vs(u,m),u.g.has(m)}s.forEach=function(u,m){vn(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function jo(u,m){vn(u);let v=[];if(typeof m=="string")Lo(u,m)&&(v=v.concat(u.g.get(Vs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return vn(this),this.i=null,u=Vs(this,u),Lo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=jo(this,u),u.length>0?String(u[0]):m):m};function _a(u,m,v){Eu(u,m),v.length>0&&(u.i=null,u.g.set(Vs(u,m),F(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=ts(v);v=jo(this,v);for(let B=0;B<v.length;B++){let ne=L;v[B]!==""&&(ne+="="+ts(v[B])),u.push(ne)}}return this.i=u.join("&")};function Tu(u){const m=new Ms;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Vs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function va(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(Eu(this,b),_a(this,L,v))},u)),u.j=m}function ci(u,m){const v=new oi;if(d.Image){const b=new Image;b.onload=S(Hn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=S(Hn,v,"TestLoadImage: error",!1,m,b),b.onabort=S(Hn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=S(Hn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Po(u,m){const v=new oi,b=new AbortController,L=setTimeout(()=>{b.abort(),Hn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?Hn(v,"TestPingServer: ok",!0,m):Hn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Hn(v,"TestPingServer: error",!1,m)})}function Hn(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function ks(){this.g=new xt}function ki(u){this.i=u.Sb||null,this.h=u.ab||!1}A(ki,zn),ki.prototype.g=function(){return new kr(this.i,this.h)};function kr(u,m){Ae.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(kr,Ae),s=kr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,hi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Us(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Us(this):hi(this),this.readyState==3&&Ea(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Us(this))},s.Na=function(u){this.g&&(this.response=u,Us(this))},s.ga=function(){this.g&&Us(this)};function Us(u){u.readyState=4,u.l=null,u.j=null,u.B=null,hi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function hi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Gn(u){let m="";return ze(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Ur(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Gn(v),typeof u=="string"?v!=null&&ts(v):it(u,m,v))}function lt(u){Ae.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(lt,Ae);var Ui=/^https?$/i,zo=["POST","PUT"];s=lt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Co.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Lr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(zo,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ne]of v)this.g.setRequestHeader(B,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Lr(this,B)}};function Lr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Bo(u),ns(u)}function Bo(u){u.A||(u.A=!0,ke(u,"complete"),ke(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ke(this,"complete"),ke(this,"abort"),ns(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ns(this,!0)),lt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?jr(this):this.Xa())},s.Xa=function(){jr(this)};function jr(u){if(u.h&&typeof c<"u"){if(u.v&&fi(u)==4)setTimeout(u.Ca.bind(u),0);else if(ke(u,"readystatechange"),fi(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let ne=String(u.D).match(yu)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),b=!Ui.test(ne?ne.toLowerCase():"")}v=b}if(v)ke(u,"complete"),ke(u,"success");else{u.o=6;try{var L=fi(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Bo(u)}}finally{ns(u)}}}}function ns(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ke(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function fi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Nt(m)}};function tn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function is(u){const m={};u=(u.g&&fi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=mu(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ye(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ls(u){this.za=0,this.i=[],this.j=new oi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Li("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Li("baseRetryDelayMs",5e3,u),this.Za=Li("retryDelaySeedMs",1e4,u),this.Ta=Li("forwardChannelMaxRetries",2,u),this.va=Li("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new No(u&&u.concurrentRequestLimit),this.Ba=new ks,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ls.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){Ut(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Iu(this,null,this.W),ji(this)};function qo(u){if(Ta(u),u.I==3){var m=u.V++,v=Pt(u.J);if(it(v,"SID",u.M),it(v,"RID",m),it(v,"TYPE","terminate"),Pr(u,v),m=new li(u,u.j,m),m.M=2,m.A=Mr(Pt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Cu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ci(m)}xu(u)}function js(u){u.g&&(Go(u),u.g.cancel(),u.g=null)}function Ta(u){js(u),u.v&&(d.clearTimeout(u.v),u.v=null),Sa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ji(u){if(!Do(u.h)&&!u.m){u.m=!0;var m=u.Ea;dt||w(),Ve||(dt(),Ve=!0),C.add(m,u),u.D=0}}function ba(u,m){return Oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ri(_(u.Ea,u,m),Ru(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new li(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),se(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=bu(this,L,m),v=Pt(this.J),it(v,"RID",u),it(v,"CVER",22),this.G&&it(v,"X-HTTP-Session-Id",this.G),Pr(this,v),B&&(this.R?m="headers="+ts(Gn(B))+"&"+m:this.u&&Ur(v,this.u,B)),Oo(this.h,L),this.Ra&&it(v,"TYPE","init"),this.S?(it(v,"$req",m),it(v,"SID","null"),L.U=!0,Ii(L,v,null)):Ii(L,v,m),this.I=2}}else this.I==3&&(u?Ho(this,u):this.i.length==0||Do(this.h)||Ho(this))};function Ho(u,m){var v;m?v=m.l:v=u.V++;const b=Pt(u.J);it(b,"SID",u.M),it(b,"RID",v),it(b,"AID",u.K),Pr(u,b),u.u&&u.o&&Ur(b,u.u,u.o),v=new li(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=bu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Oo(u.h,v),Ii(v,b,m)}function Pr(u,m){u.H&&ze(u.H,function(v,b){it(m,b,v)}),u.l&&ze({},function(v,b){it(m,b,v)})}function bu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let De=-1;for(;;){const Ot=["count="+v];De==-1?v>0?(De=L[0].g,Ot.push("ofs="+De)):De=0:Ot.push("ofs="+De);let We=!0;for(let Tt=0;Tt<v;Tt++){var B=L[Tt].g;const Fn=L[Tt].map;if(B-=De,B<0)De=Math.max(0,L[Tt].g-100),We=!1;else try{B="req"+B+"_"||"";try{var ne=Fn instanceof Map?Fn:Object.entries(Fn);for(const[zi,di]of ne){let mi=di;y(di)&&(mi=Et(di)),Ot.push(B+zi+"="+encodeURIComponent(mi))}}catch(zi){throw Ot.push(B+"type="+encodeURIComponent("_badmap")),zi}}catch{b&&b(Fn)}}if(We){ne=Ot.join("&");break e}}ne=void 0}return u=u.i.splice(0,v),m.G=u,ne}function Su(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;dt||w(),Ve||(dt(),Ve=!0),C.add(m,u),u.A=0}}function zr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ri(_(u.Da,u),Ru(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ri(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),js(this),Au(this))};function Go(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Au(u){u.g=new li(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Pt(u.na);it(m,"RID","rpc"),it(m,"SID",u.M),it(m,"AID",u.K),it(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&it(m,"TO",u.ia),it(m,"TYPE","xmlhttp"),Pr(u,m),u.u&&u.o&&Ur(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Mr(Pt(m)),v.u=null,v.R=!0,ma(v,u)}s.Va=function(){this.C!=null&&(this.C=null,js(this),zr(this),Ut(19))};function Sa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function wu(u,m){var v=null;if(u.g==m){Sa(u),Go(u),u.g=null;var b=2}else if(Mi(u.h,m))v=m.G,Mo(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=da(),ke(b,new wi(b,v)),ji(u)}else Su(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&ba(u,m)||b==2&&zr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Pi(u,5);break;case 4:Pi(u,10);break;case 3:Pi(u,6);break;default:Pi(u,2)}}}function Ru(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Pi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const L=!b;b=new Dn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Jt(b,"https"),Mr(b),L?ci(b.toString(),v):Po(b.toString(),v)}else Ut(2);u.I=0,u.l&&u.l.pa(m),xu(u),Ta(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function xu(u){if(u.I=0,u.ja=[],u.l){const m=Vo(u.h);(m.length!=0||u.i.length!=0)&&(ie(u.ja,m),ie(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Iu(u,m,v){var b=v instanceof Dn?Pt(v):new Dn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Ds(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Dn(null);b&&Jt(B,b),m&&(B.g=m),L&&Ds(B,L),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&it(b,v,m),it(b,"VER",u.ka),Pr(u,b),b}function Cu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new lt(new ki({ab:v})):new lt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nu(){}s=Nu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ps(){}Ps.prototype.g=function(u,m){return new gn(u,m)};function gn(u,m){Ae.call(this),this.g=new Ls(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ss(this)}A(gn,Ae),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){qo(this.g)},gn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Et(u),u=v);m.i.push(new jt(m.Ya++,u)),m.I==3&&ji(m)},gn.prototype.N=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,gn.Z.N.call(this)};function Du(u){en.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Du,en);function Ou(){Bn.call(this),this.status=1}A(Ou,Bn);function ss(u){this.g=u}A(ss,Nu),ss.prototype.ra=function(){ke(this.g,"a")},ss.prototype.qa=function(u){ke(this.g,new Du(u))},ss.prototype.pa=function(u){ke(this.g,new Ou)},ss.prototype.oa=function(){ke(this.g,"b")},Ps.prototype.createWebChannel=Ps.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,C1=function(){return new Ps},I1=function(){return da()},x1=Dt,hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Dr.NO_ERROR=0,Dr.TIMEOUT=8,Dr.HTTP_ERROR=6,Yc=Dr,Io.COMPLETE="complete",R1=Io,In.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,Nl=In,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,w1=lt}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});let fn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let Ao="12.8.0";function O2(s){Ao=s}const la=new Nm("@firebase/firestore");function eo(){return la.logLevel}function le(s,...e){if(la.logLevel<=He.DEBUG){const i=e.map(Bm);la.debug(`Firestore (${Ao}): ${s}`,...i)}}function Is(s,...e){if(la.logLevel<=He.ERROR){const i=e.map(Bm);la.error(`Firestore (${Ao}): ${s}`,...i)}}function mo(s,...e){if(la.logLevel<=He.WARN){const i=e.map(Bm);la.warn(`Firestore (${Ao}): ${s}`,...i)}}function Bm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ee(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,N1(s,a,i)}function N1(s,e,i){let a=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Is(a),new Error(a)}function nt(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||N1(e,l,a)}function Ne(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Ns{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class D1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class M2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(fn.UNAUTHENTICATED)))}shutdown(){}}class V2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class k2{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){nt(this.o===void 0,42304);let a=this.i;const l=g=>this.i!==a?(a=this.i,i(g)):Promise.resolve();let c=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new vr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},y=g=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>y(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?y(g):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new vr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(nt(typeof a.accessToken=="string",31837,{l:a}),new D1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class U2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class L2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new U2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class x0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){nt(this.o===void 0,3512);const a=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new x0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(nt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new x0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function P2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=P2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Ge(s,e){return s<e?-1:s>e?1:0}function fm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return $d(l)===$d(c)?Ge(l,c):$d(l)?1:-1}return Ge(s.length,e.length)}const z2=55296,B2=57343;function $d(s){const e=s.charCodeAt(0);return e>=z2&&e<=B2}function go(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const I0="__name__";class Fi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ee(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ee(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Fi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Fi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Fi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Ge(e.length,i.length)}static compareSegments(e,i){const a=Fi.isNumericId(e),l=Fi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Fi.extractNumericId(e).compare(Fi.extractNumericId(i)):fm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _r.fromString(e.substring(4,e.length-2))}}class At extends Fi{construct(e,i,a){return new At(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new de($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new At(i)}static emptyPath(){return new At([])}}const q2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Fi{construct(e,i,a){return new ln(e,i,a)}static isValidIdentifier(e){return q2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I0}static keyField(){return new ln([I0])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new de($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const y=e[l];if(y==="\\"){if(l+1===e.length)throw new de($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new de($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(c(),l++)}if(c(),d)throw new de($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(i)}static emptyPath(){return new ln([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(At.fromString(e))}static fromName(e){return new ye(At.fromString(e).popFirst(5))}static empty(){return new ye(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return At.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new At(e.slice()))}}function H2(s,e,i){if(!i)throw new de($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function G2(s,e,i,a){if(e===!0&&a===!0)throw new de($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function C0(s){if(!ye.isDocumentKey(s))throw new de($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function O1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Hm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ee(12329,{type:typeof s})}function Ei(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new de($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Hm(s);throw new de($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ft(s,e){const i={typeString:s};return e&&(i.value=e),i}function ru(s,e){if(!O1(s))throw new de($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new de($.INVALID_ARGUMENT,i);return!0}const N0=-62135596800,D0=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*D0);return new _t(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new de($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new de($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<N0)throw new de($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D0}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-N0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Ft("string",_t._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new _t(0,0))}static max(){return new xe(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fl=-1;function F2(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=xe.fromTimestamp(a===1e9?new _t(i+1,0):new _t(i,a));return new Tr(l,ye.empty(),e)}function K2(s){return new Tr(s.readTime,s.key,Fl)}class Tr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Tr(xe.min(),ye.empty(),Fl)}static max(){return new Tr(xe.max(),ye.empty(),Fl)}}function Q2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(s.documentKey,e.documentKey),i!==0?i:Ge(s.largestBatchId,e.largestBatchId))}const Y2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function wo(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==Y2)throw s;le("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let l=0,c=0,d=!1;e.forEach((y=>{++l,y.next((()=>{++c,d&&c===l&&i()}),(g=>a(g)))})),d=!0,c===l&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,l)=>{const c=e.length,d=new Array(c);let y=0;for(let g=0;g<c;g++){const _=g;i(e[_]).next((S=>{d[_]=S,++y,y===c&&a(d)}),(S=>l(S)))}}))}static doWhile(e,i){return new X(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function $2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ro(s){return s.name==="IndexedDbTransactionError"}class Sh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sh.ce=-1;const Gm=-1;function Ah(s){return s==null}function lh(s){return s===0&&1/s==-1/0}function J2(s){return typeof s=="number"&&Number.isInteger(s)&&!lh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const M1="";function Z2(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=O0(e)),e=W2(s.get(i),e);return O0(e)}function W2(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case M1:i+="";break;default:i+=c}}return i}function O0(s){return s+M1+""}function M0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function xr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function V1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class wt{constructor(e,i){this.comparator=e,this.root=i||on.EMPTY}insert(e,i){return new wt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??on.RED,this.left=l??on.EMPTY,this.right=c??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new on(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return on.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new on(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new V0(this.data.getIterator())}getIteratorFrom(e){return new V0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Xt(this.comparator);return i.data=e,i}}class V0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Pn([])}unionWith(e){let i=new Xt(ln.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Pn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class k1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new k1("Invalid base64 string: "+c):c}})(e);return new un(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new un(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const eR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(s){if(nt(!!s,39018),typeof s=="string"){let e=0;const i=eR.exec(s);if(nt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:kt(s.seconds),nanos:kt(s.nanos)}}function kt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Sr(s){return typeof s=="string"?un.fromBase64String(s):un.fromUint8Array(s)}const U1="server_timestamp",L1="__type__",j1="__previous_value__",P1="__local_write_time__";function Fm(s){return(s?.mapValue?.fields||{})[L1]?.stringValue===U1}function wh(s){const e=s.mapValue.fields[j1];return Fm(e)?wh(e):e}function Kl(s){const e=br(s.mapValue.fields[P1].timestampValue);return new _t(e.seconds,e.nanos)}class tR{constructor(e,i,a,l,c,d,y,g,_,S,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=S,this.apiKey=A}}const uh="(default)";class Ql{constructor(e,i){this.projectId=e,this.database=i||uh}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}function nR(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new de($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(s.options.projectId,e)}const z1="__type__",iR="__max__",Pc={mapValue:{}},B1="__vector__",ch="value";function Ar(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Fm(s)?4:rR(s)?9007199254740991:sR(s)?10:11:Ee(28295,{value:s})}function Ji(s,e){if(s===e)return!0;const i=Ar(s);if(i!==Ar(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Kl(s).isEqual(Kl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=br(l.timestampValue),y=br(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return Sr(l.bytesValue).isEqual(Sr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return kt(l.geoPointValue.latitude)===kt(c.geoPointValue.latitude)&&kt(l.geoPointValue.longitude)===kt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return kt(l.integerValue)===kt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=kt(l.doubleValue),y=kt(c.doubleValue);return d===y?lh(d)===lh(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return go(s.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},y=c.mapValue.fields||{};if(M0(d)!==M0(y))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(y[g]===void 0||!Ji(d[g],y[g])))return!1;return!0})(s,e);default:return Ee(52216,{left:s})}}function Yl(s,e){return(s.values||[]).find((i=>Ji(i,e)))!==void 0}function po(s,e){if(s===e)return 0;const i=Ar(s),a=Ar(e);if(i!==a)return Ge(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ge(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=kt(c.integerValue||c.doubleValue),g=kt(d.integerValue||d.doubleValue);return y<g?-1:y>g?1:y===g?0:isNaN(y)?isNaN(g)?0:-1:1})(s,e);case 3:return k0(s.timestampValue,e.timestampValue);case 4:return k0(Kl(s),Kl(e));case 5:return fm(s.stringValue,e.stringValue);case 6:return(function(c,d){const y=Sr(c),g=Sr(d);return y.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),g=d.split("/");for(let _=0;_<y.length&&_<g.length;_++){const S=Ge(y[_],g[_]);if(S!==0)return S}return Ge(y.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=Ge(kt(c.latitude),kt(d.latitude));return y!==0?y:Ge(kt(c.longitude),kt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return U0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},g=d.fields||{},_=y[ch]?.arrayValue,S=g[ch]?.arrayValue,A=Ge(_?.values?.length||0,S?.values?.length||0);return A!==0?A:U0(_,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Pc.mapValue&&d===Pc.mapValue)return 0;if(c===Pc.mapValue)return 1;if(d===Pc.mapValue)return-1;const y=c.fields||{},g=Object.keys(y),_=d.fields||{},S=Object.keys(_);g.sort(),S.sort();for(let A=0;A<g.length&&A<S.length;++A){const M=fm(g[A],S[A]);if(M!==0)return M;const F=po(y[g[A]],_[S[A]]);if(F!==0)return F}return Ge(g.length,S.length)})(s.mapValue,e.mapValue);default:throw Ee(23264,{he:i})}}function k0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ge(s,e);const i=br(s),a=br(e),l=Ge(i.seconds,a.seconds);return l!==0?l:Ge(i.nanos,a.nanos)}function U0(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=po(i[l],a[l]);if(c)return c}return Ge(i.length,a.length)}function yo(s){return dm(s)}function dm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=br(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Sr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ye.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=dm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${dm(i.fields[d])}`;return l+"}"})(s.mapValue):Ee(61005,{value:s})}function Xc(s){switch(Ar(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(s);return e?16+Xc(e):16;case 5:return 2*s.stringValue.length;case 6:return Sr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Xc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return xr(a.fields,((c,d)=>{l+=c.length+Xc(d)})),l})(s.mapValue);default:throw Ee(13486,{value:s})}}function mm(s){return!!s&&"integerValue"in s}function Km(s){return!!s&&"arrayValue"in s}function L0(s){return!!s&&"nullValue"in s}function j0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function $c(s){return!!s&&"mapValue"in s}function sR(s){return(s?.mapValue?.fields||{})[z1]?.stringValue===B1}function Ll(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return xr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Ll(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ll(s.arrayValue.values[i]);return e}return{...s}}function rR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===iR}class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!$c(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(i)}setAll(e){let i=ln.emptyPath(),a={},l=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const g=this.getFieldsMap(i);this.applyChanges(g,a,l),a={},l=[],i=y.popLast()}d?a[y.lastSegment()]=Ll(d):l.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());$c(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];$c(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){xr(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new Rn(Ll(this.value))}}function q1(s){const e=[];return xr(s.fields,((i,a)=>{const l=new ln([i]);if($c(a)){const c=q1(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Pn(e)}class dn{constructor(e,i,a,l,c,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new dn(e,0,xe.min(),xe.min(),xe.min(),Rn.empty(),0)}static newFoundDocument(e,i,a,l){return new dn(e,1,i,xe.min(),a,l,0)}static newNoDocument(e,i){return new dn(e,2,i,xe.min(),xe.min(),Rn.empty(),0)}static newUnknownDocument(e,i){return new dn(e,3,i,xe.min(),xe.min(),Rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hh{constructor(e,i){this.position=e,this.inclusive=i}}function P0(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=ye.comparator(ye.fromName(d.referenceValue),i.key):a=po(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function z0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ji(s.position[i],e.position[i]))return!1;return!0}class fh{constructor(e,i="asc"){this.field=e,this.dir=i}}function aR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class H1{}class Yt extends H1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new lR(e,i,a):i==="array-contains"?new hR(e,a):i==="in"?new fR(e,a):i==="not-in"?new dR(e,a):i==="array-contains-any"?new mR(e,a):new Yt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new uR(e,a):new cR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(po(i,this.value)):i!==null&&Ar(this.value)===Ar(i)&&this.matchesComparison(po(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zi extends H1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Zi(e,i)}matches(e){return G1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function G1(s){return s.op==="and"}function F1(s){return oR(s)&&G1(s)}function oR(s){for(const e of s.filters)if(e instanceof Zi)return!1;return!0}function gm(s){if(s instanceof Yt)return s.field.canonicalString()+s.op.toString()+yo(s.value);if(F1(s))return s.filters.map((e=>gm(e))).join(",");{const e=s.filters.map((i=>gm(i))).join(",");return`${s.op}(${e})`}}function K1(s,e){return s instanceof Yt?(function(a,l){return l instanceof Yt&&a.op===l.op&&a.field.isEqual(l.field)&&Ji(a.value,l.value)})(s,e):s instanceof Zi?(function(a,l){return l instanceof Zi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,y)=>c&&K1(d,l.filters[y])),!0):!1})(s,e):void Ee(19439)}function Q1(s){return s instanceof Yt?(function(i){return`${i.field.canonicalString()} ${i.op} ${yo(i.value)}`})(s):s instanceof Zi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Q1).join(" ,")+"}"})(s):"Filter"}class lR extends Yt{constructor(e,i,a){super(e,i,a),this.key=ye.fromName(a.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class uR extends Yt{constructor(e,i){super(e,"in",i),this.keys=Y1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class cR extends Yt{constructor(e,i){super(e,"not-in",i),this.keys=Y1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Y1(s,e){return(e.arrayValue?.values||[]).map((i=>ye.fromName(i.referenceValue)))}class hR extends Yt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Km(i)&&Yl(i.arrayValue,this.value)}}class fR extends Yt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Yl(this.value.arrayValue,i)}}class dR extends Yt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Yl(this.value.arrayValue,i)}}class mR extends Yt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Yl(this.value.arrayValue,a)))}}class gR{constructor(e,i=null,a=[],l=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function B0(s,e=null,i=[],a=[],l=null,c=null,d=null){return new gR(s,e,i,a,l,c,d)}function Qm(s){const e=Ne(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>gm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Ah(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>yo(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>yo(a))).join(",")),e.Te=i}return e.Te}function Ym(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!aR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!K1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!z0(s.startAt,e.startAt)&&z0(s.endAt,e.endAt)}function pm(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Rh{constructor(e,i=null,a=[],l=[],c=null,d="F",y=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function pR(s,e,i,a,l,c,d,y){return new Rh(s,e,i,a,l,c,d,y)}function xh(s){return new Rh(s)}function q0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function yR(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function _R(s){return s.collectionGroup!==null}function jl(s){const e=Ne(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Xt(ln.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new fh(c,a))})),i.has(ln.keyField().canonicalString())||e.Ie.push(new fh(ln.keyField(),a))}return e.Ie}function Yi(s){const e=Ne(s);return e.Ee||(e.Ee=vR(e,jl(s))),e.Ee}function vR(s,e){if(s.limitType==="F")return B0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new fh(l.field,c)}));const i=s.endAt?new hh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new hh(s.startAt.position,s.startAt.inclusive):null;return B0(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function ym(s,e,i){return new Rh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Ih(s,e){return Ym(Yi(s),Yi(e))&&s.limitType===e.limitType}function X1(s){return`${Qm(Yi(s))}|lt:${s.limitType}`}function to(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>Q1(l))).join(", ")}]`),Ah(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>yo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>yo(l))).join(",")),`Target(${a})`})(Yi(s))}; limitType=${s.limitType})`}function Ch(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ye.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of jl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,y,g){const _=P0(d,y,g);return d.inclusive?_<=0:_<0})(a.startAt,jl(a),l)||a.endAt&&!(function(d,y,g){const _=P0(d,y,g);return d.inclusive?_>=0:_>0})(a.endAt,jl(a),l))})(s,e)}function ER(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function $1(s){return(e,i)=>{let a=!1;for(const l of jl(s)){const c=TR(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function TR(s,e,i){const a=s.field.isKeyField()?ye.comparator(e.key,i.key):(function(c,d,y){const g=d.data.field(c),_=y.data.field(c);return g!==null&&_!==null?po(g,_):Ee(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Ee(19790,{direction:s.dir})}}class ha{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){xr(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return V1(this.inner)}size(){return this.innerSize}}const bR=new wt(ye.comparator);function Cs(){return bR}const J1=new wt(ye.comparator);function Dl(...s){let e=J1;for(const i of s)e=e.insert(i.key,i);return e}function Z1(s){let e=J1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function sa(){return Pl()}function W1(){return Pl()}function Pl(){return new ha((s=>s.toString()),((s,e)=>s.isEqual(e)))}const SR=new wt(ye.comparator),AR=new Xt(ye.comparator);function Fe(...s){let e=AR;for(const i of s)e=e.add(i);return e}const wR=new Xt(Ge);function RR(){return wR}function Xm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function eE(s){return{integerValue:""+s}}function xR(s,e){return J2(e)?eE(e):Xm(s,e)}class Nh{constructor(){this._=void 0}}function IR(s,e,i){return s instanceof dh?(function(l,c){const d={fields:{[L1]:{stringValue:U1},[P1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Fm(c)&&(c=wh(c)),c&&(d.fields[j1]=c),{mapValue:d}})(i,e):s instanceof _o?nE(s,e):s instanceof Xl?iE(s,e):(function(l,c){const d=tE(l,c),y=H0(d)+H0(l.Ae);return mm(d)&&mm(l.Ae)?eE(y):Xm(l.serializer,y)})(s,e)}function CR(s,e,i){return s instanceof _o?nE(s,e):s instanceof Xl?iE(s,e):i}function tE(s,e){return s instanceof mh?(function(a){return mm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class dh extends Nh{}class _o extends Nh{constructor(e){super(),this.elements=e}}function nE(s,e){const i=sE(e);for(const a of s.elements)i.some((l=>Ji(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Xl extends Nh{constructor(e){super(),this.elements=e}}function iE(s,e){let i=sE(e);for(const a of s.elements)i=i.filter((l=>!Ji(l,a)));return{arrayValue:{values:i}}}class mh extends Nh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function H0(s){return kt(s.integerValue||s.doubleValue)}function sE(s){return Km(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class NR{constructor(e,i){this.field=e,this.transform=i}}function DR(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof _o&&l instanceof _o||a instanceof Xl&&l instanceof Xl?go(a.elements,l.elements,Ji):a instanceof mh&&l instanceof mh?Ji(a.Ae,l.Ae):a instanceof dh&&l instanceof dh})(s.transform,e.transform)}class OR{constructor(e,i){this.version=e,this.transformResults=i}}class Ti{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Dh{}function rE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new $m(s.key,Ti.none()):new au(s.key,s.data,Ti.none());{const i=s.data,a=Rn.empty();let l=new Xt(ln.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Ir(s.key,a,new Pn(l.toArray()),Ti.none())}}function MR(s,e,i){s instanceof au?(function(l,c,d){const y=l.value.clone(),g=F0(l.fieldTransforms,c,d.transformResults);y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof Ir?(function(l,c,d){if(!Jc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const y=F0(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(aE(l)),g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function zl(s,e,i,a){return s instanceof au?(function(c,d,y,g){if(!Jc(c.precondition,d))return y;const _=c.value.clone(),S=K0(c.fieldTransforms,g,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof Ir?(function(c,d,y,g){if(!Jc(c.precondition,d))return y;const _=K0(c.fieldTransforms,g,d),S=d.data;return S.setAll(aE(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,a):(function(c,d,y){return Jc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function VR(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=tE(a.transform,l||null);c!=null&&(i===null&&(i=Rn.empty()),i.set(a.field,c))}return i||null}function G0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&go(a,l,((c,d)=>DR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class au extends Dh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ir extends Dh{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function aE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function F0(s,e,i){const a=new Map;nt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,y=e.data.field(c.field);a.set(c.field,CR(d,y,i[l]))}return a}function K0(s,e,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,IR(c,d,e))}return a}class $m extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kR extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UR{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&MR(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=zl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=zl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=W1();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(l.key)?null:y;const g=rE(d,y);g!==null&&a.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(xe.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,((i,a)=>G0(i,a)))&&go(this.baseMutations,e.baseMutations,((i,a)=>G0(i,a)))}}class Jm{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){nt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return SR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Jm(e,i,a,l)}}class LR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class jR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Gt,Qe;function PR(s){switch(s){case $.OK:return Ee(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Ee(15467,{code:s})}}function oE(s){if(s===void 0)return Is("GRPC error has no .code"),$.UNKNOWN;switch(s){case Gt.OK:return $.OK;case Gt.CANCELLED:return $.CANCELLED;case Gt.UNKNOWN:return $.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return $.INTERNAL;case Gt.UNAVAILABLE:return $.UNAVAILABLE;case Gt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Gt.NOT_FOUND:return $.NOT_FOUND;case Gt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Gt.ABORTED:return $.ABORTED;case Gt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Gt.DATA_LOSS:return $.DATA_LOSS;default:return Ee(39323,{code:s})}}(Qe=Gt||(Gt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function zR(){return new TextEncoder}const BR=new _r([4294967295,4294967295],0);function Q0(s){const e=zR().encode(s),i=new A1;return i.update(e),new Uint8Array(i.digest())}function Y0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new _r([i,a],0),new _r([l,c],0)]}class Zm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ol(`Invalid padding: ${i}`);if(a<0)throw new Ol(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=_r.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(_r.fromNumber(a)));return l.compare(BR)===1&&(l=new _r([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Q0(e),[a,l]=Y0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Zm(c,l,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=Q0(e),[a,l]=Y0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Oh(xe.min(),l,new wt(Ge),Cs(),Fe())}}class ou{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new ou(a,i,Fe(),Fe(),Fe())}}class Zc{constructor(e,i,a,l){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=l}}class lE{constructor(e,i){this.targetId=e,this.Ce=i}}class uE{constructor(e,i,a=un.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class X0{constructor(){this.ve=0,this.Fe=$0(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),i=Fe(),a=Fe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Ee(38017,{changeType:c})}})),new ou(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=$0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class qR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Cs(),this.He=zc(),this.Je=zc(),this.Ze=new wt(Ge)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(pm(c))if(a===0){const d=new ye(c.path);this.et(i,d,dn.newNoDocument(d,xe.min()))}else nt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),g=y?this.ct(y,e,d):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,y;try{d=Sr(a).toUint8Array()}catch(g){if(g instanceof k1)return mo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{y=new Zm(d,l,c)}catch(g){return mo(g instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&pm(y.target)){const g=new ye(y.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,dn.newNoDocument(g,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Fe();this.Je.forEach(((c,d)=>{let y=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Oh(e,i,this.Ze,this.je,a);return this.je=Cs(),this.He=zc(),this.Je=zc(),this.Ze=new wt(Ge),l}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new X0,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Xt(Ge),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Xt(Ge),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new X0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function zc(){return new wt(ye.comparator)}function $0(){return new wt(ye.comparator)}const HR={asc:"ASCENDING",desc:"DESCENDING"},GR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FR={and:"AND",or:"OR"};class KR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function _m(s,e){return s.useProto3Json||Ah(e)?e:{value:e}}function gh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function QR(s,e){return gh(s,e.toTimestamp())}function Xi(s){return nt(!!s,49232),xe.fromTimestamp((function(i){const a=br(i);return new _t(a.seconds,a.nanos)})(s))}function Wm(s,e){return vm(s,e).canonicalString()}function vm(s,e){const i=(function(l){return new At(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function hE(s){const e=At.fromString(s);return nt(pE(e),10190,{key:e.toString()}),e}function Em(s,e){return Wm(s.databaseId,e.path)}function Jd(s,e){const i=hE(e);if(i.get(1)!==s.databaseId.projectId)throw new de($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new de($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ye(dE(i))}function fE(s,e){return Wm(s.databaseId,e)}function YR(s){const e=hE(s);return e.length===4?At.emptyPath():dE(e)}function Tm(s){return new At(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function dE(s){return nt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function J0(s,e,i){return{name:Em(s,e),fields:i.value.mapValue.fields}}function XR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ee(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(nt(S===void 0||typeof S=="string",58123),un.fromBase64String(S||"")):(nt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),un.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const S=_.code===void 0?$.UNKNOWN:oE(_.code);return new de(S,_.message||"")})(d);i=new uE(a,l,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Jd(s,a.document.name),c=Xi(a.document.updateTime),d=a.document.createTime?Xi(a.document.createTime):xe.min(),y=new Rn({mapValue:{fields:a.document.fields}}),g=dn.newFoundDocument(l,c,d,y),_=a.targetIds||[],S=a.removedTargetIds||[];i=new Zc(_,S,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Jd(s,a.document),c=a.readTime?Xi(a.readTime):xe.min(),d=dn.newNoDocument(l,c),y=a.removedTargetIds||[];i=new Zc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Jd(s,a.document),c=a.removedTargetIds||[];i=new Zc([],c,l,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new jR(l,c),y=a.targetId;i=new lE(y,d)}}return i}function $R(s,e){let i;if(e instanceof au)i={update:J0(s,e.key,e.value)};else if(e instanceof $m)i={delete:Em(s,e.key)};else if(e instanceof Ir)i={update:J0(s,e.key,e.data),updateMask:rx(e.fieldMask)};else{if(!(e instanceof kR))return Ee(16599,{dt:e.type});i={verify:Em(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof dh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof _o)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Xl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof mh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Ee(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:QR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(s,e.precondition)),i}function JR(s,e){return s&&s.length>0?(nt(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Xi(l.updateTime):Xi(c);return d.isEqual(xe.min())&&(d=Xi(c)),new OR(d,l.transformResults||[])})(i,e)))):[]}function ZR(s,e){return{documents:[fE(s,e.path)]}}function WR(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=fE(s,l);const c=(function(_){if(_.length!==0)return gE(Zi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(M){return{field:no(M.field),direction:nx(M.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=_m(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function ex(s){let e=YR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){nt(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(A){const M=mE(A);return M instanceof Zi&&F1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(ie){return new fh(io(ie.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ie.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(A){let M;return M=typeof A=="object"?A.value:A,Ah(M)?null:M})(i.limit));let g=null;i.startAt&&(g=(function(A){const M=!!A.before,F=A.values||[];return new hh(F,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const M=!A.before,F=A.values||[];return new hh(F,M)})(i.endAt)),pR(e,l,d,c,y,"F",g,_)}function tx(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function mE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=io(i.unaryFilter.field);return Yt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=io(i.unaryFilter.field);return Yt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=io(i.unaryFilter.field);return Yt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=io(i.unaryFilter.field);return Yt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Yt.create(io(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Zi.create(i.compositeFilter.filters.map((a=>mE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(i.compositeFilter.op))})(s):Ee(30097,{filter:s})}function nx(s){return HR[s]}function ix(s){return GR[s]}function sx(s){return FR[s]}function no(s){return{fieldPath:s.canonicalString()}}function io(s){return ln.fromServerFormat(s.fieldPath)}function gE(s){return s instanceof Yt?(function(i){if(i.op==="=="){if(j0(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NAN"}};if(L0(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(j0(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NAN"}};if(L0(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(i.field),op:ix(i.op),value:i.value}}})(s):s instanceof Zi?(function(i){const a=i.getFilters().map((l=>gE(l)));return a.length===1?a[0]:{compositeFilter:{op:sx(i.op),filters:a}}})(s):Ee(54877,{filter:s})}function rx(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function pE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function yE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class mr{constructor(e,i,a,l,c=xe.min(),d=xe.min(),y=un.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=g}withSequenceNumber(e){return new mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ax{constructor(e){this.yt=e}}function ox(s){const e=ex({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ym(e,e.limit,"L"):e}class lx{constructor(){this.Sn=new ux}addToCollectionParentIndex(e,i){return this.Sn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Tr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Tr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class ux{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Xt(At.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Xt(At.comparator)).toArray()}}const Z0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_E=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(_E,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class vo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new vo(0)}static ar(){return new vo(-1)}}const W0="LruGarbageCollector",cx=1048576;function ev([s,e],[i,a]){const l=Ge(s,i);return l===0?Ge(e,a):l}class hx{constructor(e){this.Pr=e,this.buffer=new Xt(ev),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();ev(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class fx{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(W0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ro(i)?le(W0,"Ignoring IndexedDB error during garbage collection: ",i):await wo(i)}await this.Ar(3e5)}))}}class dx{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(Sh.ce);const a=new hx(i);return this.Vr.forEachTarget(e,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Z0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,l,c,d,y,g,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(a=A,y=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(_=Date.now(),eo()<=He.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${c} targets in `+(g-y)+`ms
	Removed ${A} documents in `+(_-g)+`ms
Total Duration: ${_-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function mx(s,e){return new dx(s,e)}class gx{constructor(){this.changes=new ha((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class px{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class yx{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&zl(a.mutation,l,Pn.empty(),_t.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Fe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Fe()){const l=sa();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Dl();return c.forEach(((y,g)=>{d=d.insert(y,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=sa();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Fe())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,l){let c=Cs();const d=Pl(),y=(function(){return Pl()})();return i.forEach(((g,_)=>{const S=a.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof Ir)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),zl(S.mutation,_,S.mutation.getFieldMask(),_t.now())):d.set(_.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>y.set(_,new px(S,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=Pl();let l=new wt(((d,y)=>d-y)),c=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let S=a.get(g)||Pn.empty();S=y.applyToLocalView(_,S),a.set(g,S);const A=(l.get(y.batchId)||Fe()).add(g);l=l.insert(y.batchId,A)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const g=y.getNext(),_=g.key,S=g.value,A=W1();S.forEach((M=>{if(!c.has(M)){const F=rE(i.get(M),a.get(M));F!==null&&A.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return yR(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):_R(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):X.resolve(sa());let y=Fl,g=c;return d.next((_=>X.forEach(_,((S,A)=>(y<A.largestBatchId&&(y=A.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(e,S).next((M=>{g=g.insert(S,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,g,_,Fe()))).next((S=>({batchId:y,changes:Z1(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((a=>{let l=Dl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Dl();return this.indexManager.getCollectionParents(e,c).next((y=>X.forEach(y,(g=>{const _=(function(A,M){return new Rh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next((S=>{S.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((g,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,dn.newInvalidDocument(S)))}));let y=Dl();return d.forEach(((g,_)=>{const S=c.get(g);S!==void 0&&zl(S.mutation,_,Pn.empty(),_t.now()),Ch(i,_)&&(y=y.insert(g,_))})),y}))}}class _x{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Xi(l.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:ox(l.bundledQuery),readTime:Xi(l.readTime)}})(i)),X.resolve()}}class vx{constructor(){this.overlays=new wt(ye.comparator),this.Lr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=sa();return X.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.bt(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const l=sa(),c=i.length+1,d=new ye(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const g=y.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>a&&l.set(g.getKey(),g)}return X.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new wt(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=c.get(_.largestBatchId);S===null&&(S=sa(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const y=sa(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,S)=>y.set(_,S))),!(y.size()>=l)););return X.resolve(y)}bt(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new LR(i,a));let c=this.Lr.get(i);c===void 0&&(c=Fe(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class Ex{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class eg{constructor(){this.kr=new Xt(Wt.Kr),this.qr=new Xt(Wt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Wt(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Wt(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new ye(new At([])),a=new Wt(i,e),l=new Wt(i,e+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ye(new At([])),a=new Wt(i,e),l=new Wt(i,e+1);let c=Fe();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Wt(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Wt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ye.comparator(e.key,i.key)||Ge(e.Hr,i.Hr)}static Ur(e,i){return Ge(e.Hr,i.Hr)||ye.comparator(e.key,i.key)}}class Tx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Xt(Wt.Kr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new UR(c,i,a,l);this.mutationQueue.push(d);for(const y of l)this.Jr=this.Jr.add(new Wt(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Gm:this.Yn-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Wt(i,0),l=new Wt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const y=this.Zr(d.Hr);c.push(y)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Xt(Ge);return i.forEach((l=>{const c=new Wt(l,0),d=new Wt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(y=>{a=a.add(y.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;ye.isDocumentKey(c)||(c=c.child(""));const d=new Wt(new ye(c),0);let y=new Xt(Ge);return this.Jr.forEachWhile((g=>{const _=g.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(y=y.add(g.Hr)),!0)}),d),X.resolve(this.Yr(y))}Yr(e){const i=[];return e.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){nt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new Wt(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Wt(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class bx{constructor(e){this.ti=e,this.docs=(function(){return new wt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():dn.newInvalidDocument(i))}getEntries(e,i){let a=Cs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():dn.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=Cs();const d=i.path,y=new ye(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(y);for(;g.hasNext();){const{key:_,value:{document:S}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Q2(K2(S),a)<=0||(l.has(S.key)||Ch(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,l){Ee(9500)}ni(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new Sx(this)}getSize(e){return X.resolve(this.size)}}class Sx extends gx{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class Ax{constructor(e){this.persistence=e,this.ri=new ha((i=>Qm(i)),Ym),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.ii=0,this.si=new eg,this.targetCount=0,this.oi=vo._r()}forEachTarget(e,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new vo(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.lr(i),X.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this.si.containsKey(i))}}class vE{constructor(e,i){this._i={},this.overlays={},this.ai=new Sh(0),this.ui=!1,this.ui=!0,this.ci=new Ex,this.referenceDelegate=e(this),this.li=new Ax(this),this.indexManager=new lx,this.remoteDocumentCache=(function(l){return new bx(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new ax(i),this.Pi=new _x(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new vx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new Tx(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){le("MemoryPersistence","Starting transaction:",e);const l=new wx(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class wx extends X2{constructor(e){super(),this.currentSequenceNumber=e}}class tg{constructor(e){this.persistence=e,this.Ri=new eg,this.Ai=null}static Vi(e){return new tg(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=ye.fromPath(a);return this.mi(e,l).next((c=>{c||i.removeEntry(l,xe.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class ph{constructor(e,i){this.persistence=e,this.fi=new ha((a=>Z2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=mx(this,i)}static Vi(e,i){return new ph(e,i)}Ti(){}Ii(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return X.forEach(this.fi,((a,l)=>this.wr(e,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((y=>{y||(a++,c.removeEntry(d,xe.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Xc(e.data.value)),i}wr(e,i,a){return X.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ng{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=l}static Es(e,i){let a=Fe(),l=Fe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new ng(e,i.fromCache,a,l)}}class Rx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class xx{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return cS()?8:$2(mn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Rx;return this.ys(e,i,d).next((y=>{if(c.result=y,this.As)return this.ws(e,i,d,y.size)}))})).next((()=>c.result))}ws(e,i,a,l){return a.documentReadCount<this.Vs?(eo()<=He.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",to(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(eo()<=He.DEBUG&&le("QueryEngine","Query:",to(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(eo()<=He.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",to(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(i))):X.resolve())}gs(e,i){if(q0(i))return X.resolve(null);let a=Yi(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=ym(i,null,"F"),a=Yi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Fe(...c);return this.fs.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((g=>{const _=this.bs(i,y);return this.Ss(i,_,d,g.readTime)?this.gs(e,ym(i,null,"F")):this.Ds(e,_,i,g)}))))})))))}ps(e,i,a,l){return q0(i)||l.isEqual(xe.min())?X.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(eo()<=He.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),to(i)),this.Ds(e,d,i,F2(l,Fl)).next((y=>y)))}))}bs(e,i){let a=new Xt($1(e));return i.forEach(((l,c)=>{Ch(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,a){return eo()<=He.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",to(i)),this.fs.getDocumentsMatchingQuery(e,i,Tr.min(),a)}Ds(e,i,a,l){return this.fs.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ig="LocalStore",Ix=3e8;class Cx{constructor(e,i,a,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new wt(Ge),this.Fs=new ha((c=>Qm(c)),Ym),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yx(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function Nx(s,e,i,a){return new Cx(s,e,i,a)}async function EE(s,e){const i=Ne(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let g=Fe();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)g=g.add(S.key)}for(const _ of c){y.push(_.batchId);for(const S of _.mutations)g=g.add(S.key)}return i.localDocuments.getDocuments(a,g).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function Dx(s,e){const i=Ne(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,g,_,S){const A=_.batch,M=A.keys();let F=X.resolve();return M.forEach((ie=>{F=F.next((()=>S.getEntry(g,ie))).next((re=>{const Z=_.docVersions.get(ie);nt(Z!==null,48541),re.version.compareTo(Z)<0&&(A.applyToRemoteDocument(re,_),re.isValidDocument()&&(re.setReadTime(_.commitVersion),S.addEntry(re)))}))})),F.next((()=>y.mutationQueue.removeMutationBatch(g,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let g=Fe();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(g=g.add(y.batch.mutations[_].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function TE(s){const e=Ne(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function Ox(s,e){const i=Ne(s),a=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const y=[];e.targetChanges.forEach(((S,A)=>{const M=l.get(A);if(!M)return;y.push(i.li.removeMatchingKeys(c,S.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,A))));let F=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?F=F.withResumeToken(un.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):S.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(S.resumeToken,a)),l=l.insert(A,F),(function(re,Z,pe){return re.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=Ix?!0:pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0})(M,F,S)&&y.push(i.li.updateTargetData(c,F))}));let g=Cs(),_=Fe();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),y.push(Mx(c,d,e.documentUpdates).next((S=>{g=S.Bs,_=S.Ls}))),!a.isEqual(xe.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(S)}return X.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(i.vs=l,c)))}function Mx(s,e,i){let a=Fe(),l=Fe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Cs();return i.forEach(((y,g)=>{const _=c.get(y);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(y)),g.isNoDocument()&&g.version.isEqual(xe.min())?(e.removeEntry(y,g.readTime),d=d.insert(y,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),d=d.insert(y,g)):le(ig,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",g.version)})),{Bs:d,Ls:l}}))}function Vx(s,e){const i=Ne(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Gm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function kx(s,e){const i=Ne(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,e).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new mr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function bm(s,e,i){const a=Ne(s),l=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Ro(d))throw d;le(ig,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(l.target)}function tv(s,e,i){const a=Ne(s);let l=xe.min(),c=Fe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,S){const A=Ne(g),M=A.Fs.get(S);return M!==void 0?X.resolve(A.vs.get(M)):A.li.getTargetData(_,S)})(a,d,Yi(e)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,y.targetId).next((g=>{c=g}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?l:xe.min(),i?c:Fe()))).next((y=>(Ux(a,ER(e),y),{documents:y,ks:c})))))}function Ux(s,e,i){let a=s.Ms.get(e)||xe.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class nv{constructor(){this.activeTargetIds=RR()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lx{constructor(){this.vo=new nv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new nv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jx{Mo(e){}shutdown(){}}const iv="ConnectivityMonitor";class sv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(iv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(iv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Bc=null;function Sm(){return Bc===null?Bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bc++,"0x"+Bc.toString(16)}const Zd="RestConnection",Px={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class zx{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===uh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(e,i,a,l,c){const d=Sm(),y=this.Qo(e,i.toUriEncodedString());le(Zd,`Sending RPC '${e}' ${d}:`,y,a);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,l,c);const{host:_}=new URL(y),S=To(_);return this.zo(e,y,g,a,S).then((A=>(le(Zd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw mo(Zd,`RPC '${e}' ${d} failed with error: `,A,"url: ",y,"request:",a),A}))}jo(e,i,a,l,c,d){return this.Wo(e,i,a,l,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ao})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const a=Px[e];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class Bx{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const hn="WebChannelConnection",Cl=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class lo extends zx{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!lo.c_){const e=I1();Cl(e,x1.STAT_EVENT,(i=>{i.stat===hm.PROXY?le(hn,"STAT_EVENT: detected buffering proxy"):i.stat===hm.NOPROXY&&le(hn,"STAT_EVENT: detected no buffering proxy")})),lo.c_=!0}}zo(e,i,a,l,c){const d=Sm();return new Promise(((y,g)=>{const _=new w1;_.setWithCredentials(!0),_.listenOnce(R1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Yc.NO_ERROR:const A=_.getResponseJson();le(hn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),y(A);break;case Yc.TIMEOUT:le(hn,`RPC '${e}' ${d} timed out`),g(new de($.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const M=_.getStatus();if(le(hn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const ie=F?.error;if(ie&&ie.status&&ie.message){const re=(function(pe){const ge=pe.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ge)>=0?ge:$.UNKNOWN})(ie.status);g(new de(re,ie.message))}else g(new de($.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new de($.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{le(hn,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(l);le(hn,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",S,a,15)}))}T_(e,i,a){const l=Sm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const _=c.join("");le(hn,`Creating RPC '${e}' stream ${l}: ${_}`,y);const S=d.createWebChannel(_,y);this.I_(S);let A=!1,M=!1;const F=new Bx({Ho:ie=>{M?le(hn,`Not sending because RPC '${e}' stream ${l} is closed:`,ie):(A||(le(hn,`Opening RPC '${e}' stream ${l} transport.`),S.open(),A=!0),le(hn,`RPC '${e}' stream ${l} sending:`,ie),S.send(ie))},Jo:()=>S.close()});return Cl(S,Nl.EventType.OPEN,(()=>{M||(le(hn,`RPC '${e}' stream ${l} transport opened.`),F.i_())})),Cl(S,Nl.EventType.CLOSE,(()=>{M||(M=!0,le(hn,`RPC '${e}' stream ${l} transport closed`),F.o_(),this.E_(S))})),Cl(S,Nl.EventType.ERROR,(ie=>{M||(M=!0,mo(hn,`RPC '${e}' stream ${l} transport errored. Name:`,ie.name,"Message:",ie.message),F.o_(new de($.UNAVAILABLE,"The operation could not be completed")))})),Cl(S,Nl.EventType.MESSAGE,(ie=>{if(!M){const re=ie.data[0];nt(!!re,16349);const Z=re,pe=Z?.error||Z[0]?.error;if(pe){le(hn,`RPC '${e}' stream ${l} received error:`,pe);const ge=pe.status;let ve=(function(Ve){const C=Gt[Ve];if(C!==void 0)return oE(C)})(ge),tt=pe.message;ve===void 0&&(ve=$.INTERNAL,tt="Unknown error status: "+ge+" with message "+pe.message),M=!0,F.o_(new de(ve,tt)),S.close()}else le(hn,`RPC '${e}' stream ${l} received:`,re),F.__(re)}})),lo.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return C1()}}function qx(s){return new lo(s)}function Wd(){return typeof document<"u"?document:null}function Mh(s){return new KR(s,!0)}lo.c_=!1;class bE{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&le("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const rv="PersistentStream";class SE{constructor(e,i,a,l,c,d,y,g){this.Ci=e,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Is(i.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new de($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(rv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(le(rv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Hx extends SE{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=XR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return xe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?xe.min():d.readTime?Xi(d.readTime):xe.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=Tm(this.serializer),i.addTarget=(function(c,d){let y;const g=d.target;if(y=pm(g)?{documents:ZR(c,g)}:{query:WR(c,g).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=cE(c,d.resumeToken);const _=_m(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(xe.min())>0){y.readTime=gh(c,d.snapshotVersion.toTimestamp());const _=_m(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=tx(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=Tm(this.serializer),i.removeTarget=e,this.K_(i)}}class Gx extends SE{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=JR(e.writeResults,e.commitTime),a=Xi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Tm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>$R(this.serializer,a)))};this.K_(i)}}class Fx{}class Kx extends Fx{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new de($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,vm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de($.UNKNOWN,c.toString())}))}jo(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(e,vm(i,a),l,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Qx(s,e,i,a){return new Kx(s,e,i,a)}class Yx{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Is(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ua="RemoteStore";class Xx{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{fa(this)&&(le(ua,"Restarting streams for network reachability change."),await(async function(g){const _=Ne(g);_.Ea.add(4),await lu(_),_.Va.set("Unknown"),_.Ea.delete(4),await Vh(_)})(this))}))})),this.Va=new Yx(a,l)}}async function Vh(s){if(fa(s))for(const e of s.Ra)await e(!0)}async function lu(s){for(const e of s.Ra)await e(!1)}function AE(s,e){const i=Ne(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),og(i)?ag(i):xo(i).O_()&&rg(i,e))}function sg(s,e){const i=Ne(s),a=xo(i);i.Ia.delete(e),a.O_()&&wE(i,e),i.Ia.size===0&&(a.O_()?a.L_():fa(i)&&i.Va.set("Unknown"))}function rg(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}xo(s).Z_(e)}function wE(s,e){s.da.$e(e),xo(s).X_(e)}function ag(s){s.da=new qR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),xo(s).start(),s.Va.ua()}function og(s){return fa(s)&&!xo(s).x_()&&s.Ia.size>0}function fa(s){return Ne(s).Ea.size===0}function RE(s){s.da=void 0}async function $x(s){s.Va.set("Online")}async function Jx(s){s.Ia.forEach(((e,i)=>{rg(s,e)}))}async function Zx(s,e){RE(s),og(s)?(s.Va.ha(e),ag(s)):s.Va.set("Unknown")}async function Wx(s,e,i){if(s.Va.set("Online"),e instanceof uE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const y of c.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.da.removeTarget(y))})(s,e)}catch(a){le(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await yh(s,a)}else if(e instanceof Zc?s.da.Xe(e):e instanceof lE?s.da.st(e):s.da.tt(e),!i.isEqual(xe.min()))try{const a=await TE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.da.Tt(d);return y.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(g.resumeToken,d))}})),y.targetMismatches.forEach(((g,_)=>{const S=c.Ia.get(g);if(!S)return;c.Ia.set(g,S.withResumeToken(un.EMPTY_BYTE_STRING,S.snapshotVersion)),wE(c,g);const A=new mr(S.target,g,_,S.sequenceNumber);rg(c,A)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(a){le(ua,"Failed to raise snapshot:",a),await yh(s,a)}}async function yh(s,e,i){if(!Ro(e))throw e;s.Ea.add(1),await lu(s),s.Va.set("Offline"),i||(i=()=>TE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(ua,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Vh(s)}))}function xE(s,e){return e().catch((i=>yh(s,i,e)))}async function kh(s){const e=Ne(s),i=wr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gm;for(;eI(e);)try{const l=await Vx(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,tI(e,l)}catch(l){await yh(e,l)}IE(e)&&CE(e)}function eI(s){return fa(s)&&s.Ta.length<10}function tI(s,e){s.Ta.push(e);const i=wr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function IE(s){return fa(s)&&!wr(s).x_()&&s.Ta.length>0}function CE(s){wr(s).start()}async function nI(s){wr(s).ra()}async function iI(s){const e=wr(s);for(const i of s.Ta)e.ea(i.mutations)}async function sI(s,e,i){const a=s.Ta.shift(),l=Jm.from(a,e,i);await xE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await kh(s)}async function rI(s,e){e&&wr(s).Y_&&await(async function(a,l){if((function(d){return PR(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();wr(a).B_(),await xE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await kh(a)}})(s,e),IE(s)&&CE(s)}async function av(s,e){const i=Ne(s);i.asyncQueue.verifyOperationInProgress(),le(ua,"RemoteStore received new credentials");const a=fa(i);i.Ea.add(3),await lu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Vh(i)}async function aI(s,e){const i=Ne(s);e?(i.Ea.delete(2),await Vh(i)):e||(i.Ea.add(2),await lu(i),i.Va.set("Unknown"))}function xo(s){return s.ma||(s.ma=(function(i,a,l){const c=Ne(i);return c.sa(),new Hx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:$x.bind(null,s),Yo:Jx.bind(null,s),t_:Zx.bind(null,s),J_:Wx.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),og(s)?ag(s):s.Va.set("Unknown")):(await s.ma.stop(),RE(s))}))),s.ma}function wr(s){return s.fa||(s.fa=(function(i,a,l){const c=Ne(i);return c.sa(),new Gx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:nI.bind(null,s),t_:rI.bind(null,s),ta:iI.bind(null,s),na:sI.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await kh(s)):(await s.fa.stop(),s.Ta.length>0&&(le(ua,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class lg{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,y=new lg(e,i,d,l,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ug(s,e){if(Is("AsyncQueue",`${e}: ${s}`),Ro(s))return new de($.UNAVAILABLE,`${e}: ${s}`);throw s}class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ye.comparator(i.key,a.key):(i,a)=>ye.comparator(i.key,a.key),this.keyedMap=Dl(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new uo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class ov{constructor(){this.ga=new wt(ye.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Eo{constructor(e,i,a,l,c,d,y,g,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Eo(e,i,uo.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class oI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class lI{constructor(){this.queries=lv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Ne(i),c=l.queries;l.queries=lv(),c.forEach(((d,y)=>{for(const g of y.ba)g.onError(a)}))})(this,new de($.ABORTED,"Firestore shutting down"))}}function lv(){return new ha((s=>X1(s)),Ih)}async function NE(s,e){const i=Ne(s);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(a=2):(c=new oI,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=ug(d,`Initialization of query '${to(e.query)}' failed`);return void e.onError(y)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&cg(i)}async function DE(s,e){const i=Ne(s),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function uI(s,e){const i=Ne(s);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const y of d.ba)y.Fa(l)&&(a=!0);d.wa=l}}a&&cg(i)}function cI(s,e,i){const a=Ne(s),l=a.queries.get(e);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(e)}function cg(s){s.Ca.forEach((e=>{e.next()}))}var Am,uv;(uv=Am||(Am={})).Ma="default",uv.Cache="cache";class OE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new Eo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Am.Cache}}class ME{constructor(e){this.key=e}}class VE{constructor(e){this.key=e}}class hI{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Fe(),this.mutatedKeys=Fe(),this.eu=$1(e),this.tu=new uo(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new ov,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((S,A)=>{const M=l.get(S),F=Ch(this.query,A)?A:null,ie=!!M&&this.mutatedKeys.has(M.key),re=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let Z=!1;M&&F?M.data.isEqual(F.data)?ie!==re&&(a.track({type:3,doc:F}),Z=!0):this.su(M,F)||(a.track({type:2,doc:F}),Z=!0,(g&&this.eu(F,g)>0||_&&this.eu(F,_)<0)&&(y=!0)):!M&&F?(a.track({type:0,doc:F}),Z=!0):M&&!F&&(a.track({type:1,doc:M}),Z=!0,(g||_)&&(y=!0)),Z&&(F?(d=d.add(F),c=re?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,A)=>(function(F,ie){const re=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:Z})}};return re(F)-re(ie)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(a),l=l??!1;const y=i&&!l?this._u():[],g=this.Ya.size===0&&this.current&&!l?1:0,_=g!==this.Xa;return this.Xa=g,d.length!==0||_?{snapshot:new Eo(this.query,e.tu,c,d,e.mutatedKeys,g===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ov,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Fe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new VE(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new ME(a))})),i}cu(e){this.Za=e.ks,this.Ya=Fe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const hg="SyncEngine";class fI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class dI{constructor(e){this.key=e,this.hu=!1}}class mI{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ha((y=>X1(y)),Ih),this.Iu=new Map,this.Eu=new Set,this.Ru=new wt(ye.comparator),this.Au=new Map,this.Vu=new eg,this.du={},this.mu=new Map,this.fu=vo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gI(s,e,i=!0){const a=zE(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await kE(a,e,i,!0),l}async function pI(s,e){const i=zE(s);await kE(i,e,!0,!1)}async function kE(s,e,i,a){const l=await kx(s.localStore,Yi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await yI(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&AE(s.remoteStore,l),y}async function yI(s,e,i,a,l){s.pu=(A,M,F)=>(async function(re,Z,pe,ge){let ve=Z.view.ru(pe);ve.Ss&&(ve=await tv(re.localStore,Z.query,!1).then((({documents:C})=>Z.view.ru(C,ve))));const tt=ge&&ge.targetChanges.get(Z.targetId),dt=ge&&ge.targetMismatches.get(Z.targetId)!=null,Ve=Z.view.applyChanges(ve,re.isPrimaryClient,tt,dt);return hv(re,Z.targetId,Ve.au),Ve.snapshot})(s,A,M,F);const c=await tv(s.localStore,e,!0),d=new hI(e,c.ks),y=d.ru(c.documents),g=ou.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(y,s.isPrimaryClient,g);hv(s,i,_.au);const S=new fI(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function _I(s,e,i){const a=Ne(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Ih(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await bm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&sg(a.remoteStore,l.targetId),wm(a,l.targetId)})).catch(wo)):(wm(a,l.targetId),await bm(a.localStore,l.targetId,!0))}async function vI(s,e){const i=Ne(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),sg(i.remoteStore,a.targetId))}async function EI(s,e,i){const a=xI(s);try{const l=await(function(d,y){const g=Ne(d),_=_t.now(),S=y.reduce(((F,ie)=>F.add(ie.key)),Fe());let A,M;return g.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let ie=Cs(),re=Fe();return g.xs.getEntries(F,S).next((Z=>{ie=Z,ie.forEach(((pe,ge)=>{ge.isValidDocument()||(re=re.add(pe))}))})).next((()=>g.localDocuments.getOverlayedDocuments(F,ie))).next((Z=>{A=Z;const pe=[];for(const ge of y){const ve=VR(ge,A.get(ge.key).overlayedDocument);ve!=null&&pe.push(new Ir(ge.key,ve,q1(ve.value.mapValue),Ti.exists(!0)))}return g.mutationQueue.addMutationBatch(F,_,pe,y)})).next((Z=>{M=Z;const pe=Z.applyToLocalDocumentSet(A,re);return g.documentOverlayCache.saveOverlays(F,Z.batchId,pe)}))})).then((()=>({batchId:M.batchId,changes:Z1(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,y,g){let _=d.du[d.currentUser.toKey()];_||(_=new wt(Ge)),_=_.insert(y,g),d.du[d.currentUser.toKey()]=_})(a,l.batchId,i),await uu(a,l.changes),await kh(a.remoteStore)}catch(l){const c=ug(l,"Failed to persist write");i.reject(c)}}async function UE(s,e){const i=Ne(s);try{const a=await Ox(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(nt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?nt(d.hu,14607):l.removedDocuments.size>0&&(nt(d.hu,42227),d.hu=!1))})),await uu(i,a,e)}catch(a){await wo(a)}}function cv(s,e,i){const a=Ne(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const g=Ne(d);g.onlineState=y;let _=!1;g.queries.forEach(((S,A)=>{for(const M of A.ba)M.va(y)&&(_=!0)})),_&&cg(g)})(a.eventManager,e),l.length&&a.Pu.J_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function TI(s,e,i){const a=Ne(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new wt(ye.comparator);d=d.insert(c,dn.newNoDocument(c,xe.min()));const y=Fe().add(c),g=new Oh(xe.min(),new Map,new wt(Ge),d,y);await UE(a,g),a.Ru=a.Ru.remove(c),a.Au.delete(e),fg(a)}else await bm(a.localStore,e,!1).then((()=>wm(a,e,i))).catch(wo)}async function bI(s,e){const i=Ne(s),a=e.batch.batchId;try{const l=await Dx(i.localStore,e);jE(i,a,null),LE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await uu(i,l)}catch(l){await wo(l)}}async function SI(s,e,i){const a=Ne(s);try{const l=await(function(d,y){const g=Ne(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return g.mutationQueue.lookupMutationBatch(_,y).next((A=>(nt(A!==null,37113),S=A.keys(),g.mutationQueue.removeMutationBatch(_,A)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,S,y))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>g.localDocuments.getDocuments(_,S)))}))})(a.localStore,e);jE(a,e,i),LE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await uu(a,l)}catch(l){await wo(l)}}function LE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function jE(s,e,i){const a=Ne(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.du[a.currentUser.toKey()]=l}}function wm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||PE(s,a)}))}function PE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(sg(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),fg(s))}function hv(s,e,i){for(const a of i)a instanceof ME?(s.Vu.addReference(a.key,e),AI(s,a)):a instanceof VE?(le(hg,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||PE(s,a.key)):Ee(19791,{wu:a})}function AI(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(le(hg,"New document in limbo: "+i),s.Eu.add(a),fg(s))}function fg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ye(At.fromString(e)),a=s.fu.next();s.Au.set(a,new dI(i)),s.Ru=s.Ru.insert(i,a),AE(s.remoteStore,new mr(Yi(xh(i.path)),a,"TargetPurposeLimboResolution",Sh.ce))}}async function uu(s,e,i){const a=Ne(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,g)=>{d.push(a.pu(g,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(_){l.push(_);const S=ng.Es(g.targetId,_);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(g,_){const S=Ne(g);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(_,(M=>X.forEach(M.Ts,(F=>S.persistence.referenceDelegate.addReference(A,M.targetId,F))).next((()=>X.forEach(M.Is,(F=>S.persistence.referenceDelegate.removeReference(A,M.targetId,F)))))))))}catch(A){if(!Ro(A))throw A;le(ig,"Failed to update sequence numbers: "+A)}for(const A of _){const M=A.targetId;if(!A.fromCache){const F=S.vs.get(M),ie=F.snapshotVersion,re=F.withLastLimboFreeSnapshotVersion(ie);S.vs=S.vs.insert(M,re)}}})(a.localStore,c))}async function wI(s,e){const i=Ne(s);if(!i.currentUser.isEqual(e)){le(hg,"User change. New user:",e.toKey());const a=await EE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((g=>{g.reject(new de($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await uu(i,a.Ns)}}function RI(s,e){const i=Ne(s),a=i.Au.get(e);if(a&&a.hu)return Fe().add(a.key);{let l=Fe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function zE(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=UE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TI.bind(null,e),e.Pu.J_=uI.bind(null,e.eventManager),e.Pu.yu=cI.bind(null,e.eventManager),e}function xI(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SI.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Nx(this.persistence,new xx,e.initialUser,this.serializer)}Cu(e){return new vE(tg.Vi,this.serializer)}Du(e){return new Lx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class II extends _h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){nt(this.persistence.referenceDelegate instanceof ph,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new fx(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new vE((a=>ph.Vi(a,i)),this.serializer)}}class Rm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>cv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=wI.bind(null,this.syncEngine),await aI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lI})()}createDatastore(e){const i=Mh(e.databaseInfo.databaseId),a=qx(e.databaseInfo);return Qx(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,y){return new Xx(a,l,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>cv(this.syncEngine,i,0)),(function(){return sv.v()?new sv:new jx})())}createSyncEngine(e,i){return(function(l,c,d,y,g,_,S){const A=new mI(l,c,d,y,g,_);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ne(i);le(ua,"RemoteStore shutting down."),a.Ea.add(5),await lu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rm.provider={build:()=>new Rm};class BE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Rr="FirestoreClient";class CI{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=fn.UNAUTHENTICATED,this.clientId=qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{le(Rr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(le(Rr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=ug(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function em(s,e){s.asyncQueue.verifyOperationInProgress(),le(Rr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await EE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function fv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await NI(s);le(Rr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>av(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>av(e.remoteStore,l))),s._onlineComponents=e}async function NI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(Rr,"Using user provided OfflineComponentProvider");try{await em(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;mo("Error using user provided cache. Falling back to memory cache: "+i),await em(s,new _h)}}else le(Rr,"Using default OfflineComponentProvider"),await em(s,new II(void 0));return s._offlineComponents}async function qE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(Rr,"Using user provided OnlineComponentProvider"),await fv(s,s._uninitializedComponentsProvider._online)):(le(Rr,"Using default OnlineComponentProvider"),await fv(s,new Rm))),s._onlineComponents}function DI(s){return qE(s).then((e=>e.syncEngine))}async function xm(s){const e=await qE(s),i=e.eventManager;return i.onListen=gI.bind(null,e.syncEngine),i.onUnlisten=_I.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=pI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=vI.bind(null,e.syncEngine),i}function OI(s,e,i,a){const l=new BE(a),c=new OE(e,l,i);return s.asyncQueue.enqueueAndForget((async()=>NE(await xm(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>DE(await xm(s),c)))}}function MI(s,e,i={}){const a=new vr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,g,_){const S=new BE({next:M=>{S.Nu(),d.enqueueAndForget((()=>DE(c,A)));const F=M.docs.has(y);!F&&M.fromCache?_.reject(new de($.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&g&&g.source==="server"?_.reject(new de($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),A=new OE(xh(y.path),S,{includeMetadataChanges:!0,Ka:!0});return NE(c,A)})(await xm(s),s.asyncQueue,e,i,a))),a.promise}function VI(s,e){const i=new vr;return s.asyncQueue.enqueueAndForget((async()=>EI(await DI(s),e,i))),i.promise}function HE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const kI="ComponentProvider",dv=new Map;function UI(s,e,i,a,l){return new tR(s,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,HE(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const GE="firestore.googleapis.com",mv=!0;class gv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GE,this.ssl=mv}else this.host=e.host,this.ssl=e.ssl??mv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_E;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cx)throw new de($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new de($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new de($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new de($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dg{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new M2;switch(a.type){case"firstParty":return new L2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new de($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=dv.get(i);a&&(le(kI,"Removing Datastore"),dv.delete(i),a.terminate())})(this),Promise.resolve()}}function LI(s,e,i,a={}){s=Ei(s,dg);const l=To(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;l&&(Pv(`https://${y}`),zv("Firestore",!0)),c.host!==GE&&c.host!==y&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:y,ssl:l,emulatorOptions:a};if(!Er(g,d)&&(s._setSettings(g),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=fn.MOCK_USER;else{_=tS(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new de($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new fn(A)}s._authCredentials=new V2(new D1(_,S))}}class Uh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Uh(this.firestore,e,this._query)}}class Kt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $l(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(ru(i,Kt._jsonSchema))return new Kt(e,a||null,new ye(At.fromString(i.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:Ft("string",Kt._jsonSchemaVersion),referencePath:Ft("string")};class $l extends Uh{constructor(e,i,a){super(e,i,xh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new ye(e))}withConverter(e){return new $l(this.firestore,e,this._path)}}function ei(s,e,...i){if(s=yn(s),arguments.length===1&&(e=qm.newId()),H2("doc","path",e),s instanceof dg){const a=At.fromString(e,...i);return C0(a),new Kt(s,null,new ye(a))}{if(!(s instanceof Kt||s instanceof $l))throw new de($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(At.fromString(e,...i));return C0(a),new Kt(s.firestore,s instanceof $l?s.converter:null,new ye(a))}}const pv="AsyncQueue";class yv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bE(this,"async_queue_retry"),this._c=()=>{const a=Wd();a&&le(pv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Wd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Wd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new vr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ro(e))throw e;le(pv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Is("INTERNAL UNHANDLED ERROR: ",_v(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=lg.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ee(47125,{Pc:_v(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function _v(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ca extends dg{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new yv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yv(e),this._firestoreClient=void 0,await e}}}function jI(s,e){const i=typeof s=="object"?s:Gv(),a=typeof s=="string"?s:uh,l=Om(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Wb("firestore");c&&LI(l,...c)}return l}function mg(s){if(s._terminated)throw new de($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||PI(s),s._firestoreClient}function PI(s){const e=s._freezeSettings(),i=UI(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new CI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ai(un.fromBase64String(e))}catch(i){throw new de($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ai(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,ai._jsonSchema))return ai.fromBase64String(e.bytes)}}ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:Ft("string",ai._jsonSchemaVersion),bytes:Ft("string")};class gg{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new de($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Lh{constructor(e){this._methodName=e}}class $i{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new de($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new de($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$i._jsonSchemaVersion}}static fromJSON(e){if(ru(e,$i._jsonSchema))return new $i(e.latitude,e.longitude)}}$i._jsonSchemaVersion="firestore/geoPoint/1.0",$i._jsonSchema={type:Ft("string",$i._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};class bi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new bi(e.vectorValues);throw new de($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:Ft("string",bi._jsonSchemaVersion),vectorValues:Ft("object")};const zI=/^__.*__$/;class BI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Ir(e,this.data,this.fieldMask,i,this.fieldTransforms):new au(e,this.data,i,this.fieldTransforms)}}class FE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Ir(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function KE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:s})}}class jh{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new jh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return vh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(KE(this.dataSource)&&zI.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class qI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Mh(e)}createContext(e,i,a,l=!1){return new jh({dataSource:e,methodName:i,targetDoc:a,path:ln.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function QE(s){const e=s._freezeSettings(),i=Mh(s._databaseId);return new qI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function HI(s,e,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,l);yg("Data must be an object, but it was:",d,a);const y=YE(a,d);let g,_;if(c.merge)g=new Pn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const M=Jl(e,A,i);if(!d.contains(M))throw new de($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);JE(S,M)||S.push(M)}g=new Pn(S),_=d.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,_=d.fieldTransforms;return new BI(new Rn(y),g,_)}class Ph extends Lh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ph}}function GI(s,e,i){return new jh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pg extends Lh{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=GI(this,e,!0),a=this.Ac.map((c=>cu(c,i))),l=new _o(a);return new NR(e.path,l)}isEqual(e){return e instanceof pg&&Er(this.Ac,e.Ac)}}function FI(s,e,i,a){const l=s.createContext(1,e,i);yg("Data must be an object, but it was:",l,a);const c=[],d=Rn.empty();xr(a,((g,_)=>{const S=$E(e,g,i);_=yn(_);const A=l.childContextForFieldPath(S);if(_ instanceof Ph)c.push(S);else{const M=cu(_,A);M!=null&&(c.push(S),d.set(S,M))}}));const y=new Pn(c);return new FE(d,y,l.fieldTransforms)}function KI(s,e,i,a,l,c){const d=s.createContext(1,e,i),y=[Jl(e,a,i)],g=[l];if(c.length%2!=0)throw new de($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(Jl(e,c[M])),g.push(c[M+1]);const _=[],S=Rn.empty();for(let M=y.length-1;M>=0;--M)if(!JE(_,y[M])){const F=y[M];let ie=g[M];ie=yn(ie);const re=d.childContextForFieldPath(F);if(ie instanceof Ph)_.push(F);else{const Z=cu(ie,re);Z!=null&&(_.push(F),S.set(F,Z))}}const A=new Pn(_);return new FE(S,A,d.fieldTransforms)}function cu(s,e){if(XE(s=yn(s)))return yg("Unsupported field value:",e,s),YE(s,e);if(s instanceof Lh)return(function(a,l){if(!KE(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const y of a){let g=cu(y,l.childContextForArray(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=yn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return xR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=_t.fromDate(a);return{timestampValue:gh(l.serializer,c)}}if(a instanceof _t){const c=new _t(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:gh(l.serializer,c)}}if(a instanceof $i)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ai)return{bytesValue:cE(l.serializer,a._byteString)};if(a instanceof Kt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Wm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof bi)return(function(d,y){const g=d instanceof bi?d.toArray():d;return{mapValue:{fields:{[z1]:{stringValue:B1},[ch]:{arrayValue:{values:g.map((S=>{if(typeof S!="number")throw y.createError("VectorValues must only contain numeric values.");return Xm(y.serializer,S)}))}}}}}})(a,l);if(yE(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Hm(a)}`)})(s,e)}function YE(s,e){const i={};return V1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xr(s,((a,l)=>{const c=cu(l,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function XE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof _t||s instanceof $i||s instanceof ai||s instanceof Kt||s instanceof Lh||s instanceof bi||yE(s))}function yg(s,e,i){if(!XE(i)||!O1(i)){const a=Hm(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function Jl(s,e,i){if((e=yn(e))instanceof gg)return e._internalPath;if(typeof e=="string")return $E(s,e);throw vh("Field path arguments must be of type string or ",s,!1,void 0,i)}const QI=new RegExp("[~\\*/\\[\\]]");function $E(s,e,i){if(e.search(QI)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new gg(...e.split("."))._internalPath}catch{throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function vh(s,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${a}`),d&&(g+=` in document ${l}`),g+=")"),new de($.INVALID_ARGUMENT,y+s+g)}function JE(s,e){return s.some((i=>i.isEqual(e)))}class YI{convertValue(e,i="none"){switch(Ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return xr(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[ch].arrayValue?.values?.map((a=>kt(a.doubleValue)));return new bi(i)}convertGeoPoint(e){return new $i(kt(e.latitude),kt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=wh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const i=br(e);return new _t(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=At.fromString(e);nt(pE(a),9688,{name:e});const l=new Ql(a.get(1),a.get(3)),c=new ye(a.popFirst(5));return l.isEqual(i)||Is(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class ZE extends YI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,i)}}function qc(...s){return new pg("arrayUnion",s)}const vv="@firebase/firestore",Ev="4.10.0";function Tv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class WE{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Jl("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class XI extends WE{data(){return super.data()}}function $I(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new de($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function JI(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Ml{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ra extends WE{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Jl("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ra._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",ra._jsonSchema={type:Ft("string",ra._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Wc extends ra{data(e={}){return super.data(e)}}class co{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ml(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Wc(this._firestore,this._userDataWriter,a.key,a,new Ml(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new de($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const g=new Wc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Ml(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const g=new Wc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Ml(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),S=d.indexOf(y.doc.key)),{type:ZI(y.type),doc:g,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:s})}}co._jsonSchemaVersion="firestore/querySnapshot/1.0",co._jsonSchema={type:Ft("string",co._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};function bv(s){s=Ei(s,Kt);const e=Ei(s.firestore,ca),i=mg(e);return MI(i,s._key).then((a=>eT(e,s,a)))}function WI(s,e,i){s=Ei(s,Kt);const a=Ei(s.firestore,ca),l=JI(s.converter,e),c=QE(a);return _g(a,[HI(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Ti.none())])}function Es(s,e,i,...a){s=Ei(s,Kt);const l=Ei(s.firestore,ca),c=QE(l);let d;return d=typeof(e=yn(e))=="string"||e instanceof gg?KI(c,"updateDoc",s._key,e,i,a):FI(c,"updateDoc",s._key,e),_g(l,[d.toMutation(s._key,Ti.exists(!0))])}function eC(s){return _g(Ei(s.firestore,ca),[new $m(s._key,Ti.none())])}function Sv(s,...e){s=yn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Tv(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Tv(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,y;if(s instanceof Kt)d=Ei(s.firestore,ca),y=xh(s._key.path),c={next:_=>{e[a]&&e[a](eT(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=Ei(s,Uh);d=Ei(_.firestore,ca),y=_._query;const S=new ZE(d);c={next:A=>{e[a]&&e[a](new co(d,S,_,A))},error:e[a+1],complete:e[a+2]},$I(s._query)}const g=mg(d);return OI(g,y,l,c)}function _g(s,e){const i=mg(s);return VI(i,e)}function eT(s,e,i){const a=i.docs.get(e._key),l=new ZE(s);return new ra(s,l,e._key,a,new Ml(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){O2(bo),fo(new aa("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new ca(new k2(a.getProvider("auth-internal")),new j2(d,a.getProvider("app-check-internal")),nR(d,l),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),yr(vv,Ev,e),yr(vv,Ev,"esm2020")})();const tT=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const tC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const nC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const Av=s=>{const e=nC(s);return e.charAt(0).toUpperCase()+e.slice(1)};var iC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const rC=Ze.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...y},g)=>Ze.createElement("svg",{ref:g,...iC,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:tT("lucide",l),...!c&&!sC(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,S])=>Ze.createElement(_,S)),...Array.isArray(c)?c:[c]]));const gt=(s,e)=>{const i=Ze.forwardRef(({className:a,...l},c)=>Ze.createElement(rC,{ref:c,iconNode:e,className:tT(`lucide-${tC(Av(s))}`,`lucide-${s}`,a),...l}));return i.displayName=Av(s),i};const aC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],wv=gt("book-open",aC);const oC=[["path",{d:"M10 5V3",key:"1y54qe"}],["path",{d:"M14 5V3",key:"m6isi"}],["path",{d:"M15 21v-3a3 3 0 0 0-6 0v3",key:"lbp5hj"}],["path",{d:"M18 3v8",key:"2ollhf"}],["path",{d:"M18 5H6",key:"98imr9"}],["path",{d:"M22 11H2",key:"1lmjae"}],["path",{d:"M22 9v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9",key:"1rly83"}],["path",{d:"M6 3v8",key:"csox7g"}]],lC=gt("castle",oC);const uC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Rv=gt("check",uC);const cC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ho=gt("crown",cC);const hC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Bl=gt("eye-off",hC);const fC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dC=gt("eye",fC);const mC=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],gC=gt("gem",mC);const pC=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],vg=gt("gift",pC);const yC=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],_C=gt("hammer",yC);const vC=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],EC=gt("heart-pulse",vC);const TC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],nT=gt("history",TC);const bC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],SC=gt("house",bC);const AC=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],wC=gt("layers",AC);const RC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xv=gt("log-out",RC);const xC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Iv=gt("rotate-ccw",xC);const IC=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],Eg=gt("scale",IC);const CC=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],NC=gt("scroll",CC);const DC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],OC=gt("shield",DC);const MC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Cv=gt("sparkles",MC);const VC=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],Tg=gt("sword",VC);const kC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ql=gt("trash-2",kC);const UC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Nv=gt("triangle-alert",UC);const LC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Im=gt("trophy",LC);const jC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Vl=gt("user",jC);const PC=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],zC=gt("utensils",PC);const BC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],iT=gt("x",BC),qC={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:2c9029761ef876856aa637"},sT=Hv(qC),tm=N2(sT),ti=jI(sT),_i=typeof __app_id<"u"?__app_id:"emperor-game",HC="4",si={TREASURE:{id:"TREASURE",name:"The Merchant",val:5,icon:gC,color:"text-yellow-400",bg:"bg-gray-900",border:"border-yellow-500",item:"Treasure"},WEAPON:{id:"WEAPON",name:"The Warlord",val:4,icon:Tg,color:"text-red-500",bg:"bg-gray-900",border:"border-red-600",item:"Weapon"},ART:{id:"ART",name:"The Patron",val:3,icon:ho,color:"text-purple-400",bg:"bg-gray-900",border:"border-purple-500",item:"Art"},CLOTH:{id:"CLOTH",name:"The Weaver",val:3,icon:NC,color:"text-blue-400",bg:"bg-gray-900",border:"border-blue-500",item:"Cloth"},FOOD:{id:"FOOD",name:"The Glutton",val:2,icon:zC,color:"text-green-400",bg:"bg-gray-900",border:"border-green-500",item:"Food"},HOUSING:{id:"HOUSING",name:"The Architect",val:2,icon:lC,color:"text-orange-400",bg:"bg-gray-900",border:"border-orange-500",item:"Housing"},HEALTH:{id:"HEALTH",name:"The Healer",val:2,icon:EC,color:"text-pink-400",bg:"bg-gray-900",border:"border-pink-500",item:"Treatment"}},ni={SECRET:{id:"SECRET",name:"Secret Plan",icon:Bl,color:"text-blue-400",count:1,desc:"Place 1 card face down (revealed at round end).",reqCards:1},SABOTAGE:{id:"SABOTAGE",name:"Sabotage",icon:ql,color:"text-red-400",count:1,desc:"Discard 2 cards permanently.",reqCards:2},GIFT:{id:"GIFT",name:"The Offering",icon:vg,color:"text-purple-400",count:1,desc:"Offer 3 cards. Opponent picks 1, you keep 2.",reqCards:3},TRADE:{id:"TRADE",name:"The Divide",icon:Eg,color:"text-green-400",count:1,desc:"Make two piles (2+2). Opponent picks one pile.",reqCards:4}},GC=s=>{let e=s.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[s[e],s[i]]=[s[i],s[e]];return s},ur=(s,e="neutral")=>({text:s,type:e,id:Date.now().toString()+Math.random().toString(36).substr(2,9)}),Hc=({isShaking:s})=>T.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none z-0 ${s?"animate-shake bg-red-900/20":""}`,children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] from-yellow-900/20 via-gray-950 to-black"}),T.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[...Array(20)].map((e,i)=>{const a=Object.keys(si),l=si[a[i%a.length]].icon;return T.jsx("div",{className:"absolute animate-float text-white/60",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${10+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:T.jsx(l,{size:32})},i)})}),T.jsx("style",{children:`
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
      }
      .animate-float { animation: float infinite ease-in-out; }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }
      .animate-shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
    `})]}),Dv=()=>T.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[T.jsx(ho,{size:12,className:"text-yellow-500"}),T.jsx("span",{className:"text-[10px] font-black tracking-widest text-yellow-500 uppercase",children:"EMPEROR"})]}),FC=()=>T.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[T.jsx(ho,{size:22,className:"text-yellow-500"}),T.jsx("span",{className:"text-[20px] font-black tracking-widest text-yellow-500 uppercase",children:"EMPEROR"})]}),Ov=({onConfirm:s,onCancel:e,isHost:i,onReturnToLobby:a})=>T.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4 animate-in fade-in",children:T.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[T.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon Kingdom?"}),T.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:i&&a?"As Emperor (Host), you can return everyone to the Lobby or dissolve the room completely.":"Are you sure you want to leave? This will remove you from the room."}),T.jsxs("div",{className:"flex flex-col gap-3",children:[i&&a&&T.jsxs("button",{onClick:a,className:"w-full bg-blue-600 hover:bg-blue-500 text-white py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 border border-blue-400",children:[T.jsx(SC,{size:18})," Return Crew to Lobby"]}),T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsx("button",{onClick:e,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold transition-colors",children:"Stay"}),T.jsx("button",{onClick:s,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold transition-colors",children:"Leave"})]})]})]})}),ii=({typeId:s,onClick:e,selected:i,disabled:a,small:l,tiny:c,faceDown:d,isOpponent:y})=>{if(d)return T.jsx("div",{className:`
        ${c?"w-6 h-8 rounded-sm":l?"w-10 h-14 rounded":"w-16 h-24 md:w-20 md:h-32 rounded"} 
        bg-gray-800 border-2 border-gray-600 flex items-center justify-center shadow-lg transition-transform
        ${y?"":"hover:border-gray-400"}
      `,children:T.jsx("div",{className:"w-full h-full bg-[radial-gradient(ellipse_at_center,var(--tw-gradient-stops))] from-gray-700 to-gray-900 opacity-50 flex items-center justify-center",children:T.jsx("span",{className:`${c?"text-[10px]":"text-2xl"} text-gray-500 font-bold font-serif`,children:"?"})})});const g=si[s];return g?c?T.jsx("div",{className:`w-6 h-8 ${g.bg} border ${g.border} rounded-sm flex items-center justify-center shadow-sm`,children:T.jsx(g.icon,{className:`${g.color} w-3 h-3`})}):T.jsxs("button",{onClick:e,disabled:a,className:`
        relative rounded border-2 transition-all flex flex-col items-center justify-center shadow-lg
        ${l?"w-10 h-14 p-1":"w-16 h-24 md:w-24 md:h-36 p-1 md:p-2"}
        ${i?"ring-4 ring-yellow-400 -translate-y-2 z-10":"border-gray-600"}
        ${g.bg}
        ${a?"cursor-not-allowed brightness-75":"hover:scale-105 cursor-pointer hover:border-white"}
      `,children:[T.jsx("div",{className:`absolute top-0.5 left-1 md:top-1 md:left-1 text-[9px] md:text-[10px] font-bold ${g.color} leading-none`,children:g.val}),T.jsx("div",{className:`absolute bottom-0.5 right-1 md:bottom-1 md:right-1 text-[9px] md:text-[10px] font-bold ${g.color} leading-none rotate-180`,children:g.val}),T.jsx(g.icon,{className:`${g.color} ${l?"w-4 h-4":"w-6 h-6 md:w-10 md:h-10"}`}),!l&&T.jsx("span",{className:"font-bold text-[9px] md:text-xs mt-1 md:mt-2 text-gray-300 text-center leading-none truncate w-full",children:g.item})]}):null},KC=({type:s,used:e,onClick:i,active:a,disabled:l})=>{const c=ni[s];return T.jsxs("button",{onClick:i,disabled:e||l,className:`
        relative p-2 md:p-3 rounded-full border-2 transition-all flex items-center justify-center group
        ${e?"bg-gray-800 border-gray-700 opacity-40 grayscale":"bg-gray-800 border-gray-500 hover:border-white hover:bg-gray-700"}
        ${a?"ring-2 md:ring-4 ring-yellow-400 scale-110 bg-gray-700":""}
      `,title:c.desc,children:[T.jsx(c.icon,{size:16,className:`${e?"text-gray-500":c.color} w-4 h-4 md:w-5 md:h-5`}),T.jsxs("div",{className:"absolute bottom-full mb-2 hidden md:group-hover:block w-32 bg-black text-white text-[10px] p-2 rounded z-50 pointer-events-none",children:[c.desc," (",c.reqCards," cards)"]})]})},QC=({id:s,data:e,myColor:i})=>{const a=si[s],l=e.owner,c=i==="red"?e.blueItems:e.redItems,d=i==="red"?e.redItems:e.blueItems;return T.jsxs("div",{className:"flex flex-col items-center gap-1 w-full",children:[T.jsx("div",{className:"flex flex-wrap justify-center gap-0.5 min-h-4 items-end w-full content-end",children:c.map((y,g)=>T.jsx(ii,{typeId:y,tiny:!0},g))}),T.jsxs("div",{className:`
        relative w-full bg-gray-800 rounded-lg md:rounded-xl border-2 md:border-4 transition-all flex flex-col items-center justify-center z-10
        aspect-2/3 p-1
        ${l==="red"?"border-red-600 shadow-[0_0_10px_rgba(220,38,38,0.3)]":l==="blue"?"border-blue-500 shadow-[0_0_10px_rgba(59,130,246,0.3)]":"border-gray-600"}
      `,children:[T.jsx("div",{className:`absolute top-1 left-1 font-bold text-[10px] md:text-lg ${a.color}`,children:a.val}),T.jsx("div",{className:`absolute bottom-1 right-1 font-bold text-[10px] md:text-lg ${a.color} rotate-180`,children:a.val}),l&&T.jsx("div",{className:`absolute -top-2 -right-2 md:-top-3 md:-right-3 rounded-full p-1 md:p-2 border-2 bg-gray-900 z-20 shadow-lg
            ${l==="red"?"border-red-500 bg-red-900/80 text-red-200":"border-blue-500 bg-blue-900/80 text-blue-200"}`,children:T.jsx(OC,{className:"w-3 h-3 md:w-5 md:h-5",fill:"currentColor"})}),T.jsx(a.icon,{className:`${a.color} w-5 h-5 md:w-10 md:h-10 mb-1 md:mb-2`}),T.jsx("span",{className:`${a.color} font-serif font-bold text-[8px] md:text-sm text-center leading-tight truncate w-full`,children:a.name.split(" ").pop()}),T.jsx("span",{className:"text-gray-500 text-[8px] md:text-[10px] mt-0.5 uppercase tracking-wide hidden md:block",children:a.item})]}),T.jsx("div",{className:"flex flex-wrap justify-center gap-0.5 min-h-8 items-start w-full",children:d.map((y,g)=>T.jsx(ii,{typeId:y,tiny:!0},g))})]})},YC=({logs:s,onClose:e})=>T.jsx("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-155 overflow-y-auto p-2 shadow-2xl",children:T.jsxs("div",{className:"bg-gray-800 w-full max-w-md h-[70vh] rounded-xl flex flex-col border border-gray-700 shadow-2xl animate-in zoom-in-95",children:[T.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center bg-gray-900 rounded-t-xl",children:[T.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[T.jsx(nT,{size:20})," Chronicles"]}),T.jsx("button",{onClick:e,className:"p-2 bg-gray-700 rounded-full hover:bg-gray-600",children:T.jsx(iT,{size:16,className:"text-gray-400"})})]}),T.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...s].reverse().map((i,a)=>T.jsxs("div",{className:`text-sm p-3 rounded border-l-2 flex items-center gap-2 ${i.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":i.type==="blue"?"bg-blue-900/20 border-blue-500 text-blue-200":i.type==="success"?"bg-green-900/20 border-green-500 text-green-200":"bg-gray-700/30 border-gray-500 text-gray-300"}`,children:[(i.type==="danger"||i.type==="blue")&&T.jsx(Vl,{size:14,className:"shrink-0"}),i.text]},a))})]})}),nm=({onClose:s})=>T.jsx("div",{className:"fixed inset-0 bg-black/95 z-100 flex items-center justify-center p-0 md:p-4",children:T.jsxs("div",{className:"bg-gray-900 md:rounded-2xl w-full max-w-4xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border-none md:border border-yellow-700 shadow-2xl flex flex-col",children:[T.jsxs("div",{className:"p-4 md:p-6 border-b border-gray-800 flex justify-between items-center bg-gray-950",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-2xl font-serif text-yellow-500 uppercase tracking-widest",children:"Imperial Decree"}),T.jsx("span",{className:"text-gray-500 text-xs",children:"Rules of Engagement"})]}),T.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-800 rounded-full text-gray-400",children:T.jsx(iT,{size:24})})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 text-gray-300 scrollbar-thin scrollbar-thumb-gray-700",children:[T.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-xl border border-gray-700",children:[T.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-3",children:[T.jsx(Im,{className:"text-yellow-500"})," The Goal"]}),T.jsxs("p",{children:["Conquer the Seven Kingdoms by having the most items in a kingdom at the end of a round.",T.jsx("br",{}),T.jsx("br",{}),T.jsx("strong",{className:"text-white",children:"Victory Conditions:"}),T.jsxs("ul",{className:"list-disc ml-5 mt-2 space-y-1",children:[T.jsxs("li",{children:["Control ",T.jsx("span",{className:"text-yellow-400",children:"4 Kingdoms"})]}),T.jsxs("li",{children:["OR amass"," ",T.jsx("span",{className:"text-yellow-400",children:"11 Victory Points"})," (Sum of Kingdom Values)"]})]})]})]}),T.jsxs("div",{children:[T.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-3",children:[T.jsx(Tg,{className:"text-red-500"})," Action Tokens"]}),T.jsx("p",{className:"mb-4 text-sm text-gray-400",children:"You must use each token exactly once per round."}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg flex items-start gap-3",children:[T.jsx(Bl,{className:"text-blue-400 shrink-0"}),T.jsxs("div",{children:[T.jsx("strong",{className:"text-white block",children:"Secret Plan (1 Card)"}),T.jsx("span",{className:"text-sm",children:"Place 1 card face down. It is revealed and added to your kingdoms at the end of the round."})]})]}),T.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg flex items-start gap-3",children:[T.jsx(ql,{className:"text-red-400 shrink-0"}),T.jsxs("div",{children:[T.jsx("strong",{className:"text-white block",children:"Sabotage (2 Cards)"}),T.jsx("span",{className:"text-sm",children:"Discard 2 cards permanently from the game. Use this to deny items to your opponent."})]})]}),T.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg flex items-start gap-3",children:[T.jsx(vg,{className:"text-purple-400 shrink-0"}),T.jsxs("div",{children:[T.jsx("strong",{className:"text-white block",children:"The Offering (3 Cards)"}),T.jsx("span",{className:"text-sm",children:"Select 3 cards. Your opponent picks 1 to keep. You keep the other 2."})]})]}),T.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg flex items-start gap-3",children:[T.jsx(Eg,{className:"text-green-400 shrink-0"}),T.jsxs("div",{children:[T.jsx("strong",{className:"text-white block",children:"The Divide (4 Cards)"}),T.jsx("span",{className:"text-sm",children:"Split 4 cards into two piles (2+2). Your opponent chooses one pile to keep. You get the other."})]})]})]})]})]}),T.jsx("div",{className:"p-4 bg-gray-950 border-t border-gray-800 text-center",children:T.jsx("button",{onClick:s,className:"bg-yellow-700 hover:bg-yellow-600 text-white px-8 py-3 rounded-lg font-bold",children:"Close Guide"})})]})});function XC(){const[s,e]=Ze.useState(null),[i,a]=Ze.useState("menu"),[l,c]=Ze.useState(""),[d,y]=Ze.useState(""),[g,_]=Ze.useState(null),[S,A]=Ze.useState(!1),[M,F]=Ze.useState(""),[ie,re]=Ze.useState(!1),[Z,pe]=Ze.useState(null),[ge,ve]=Ze.useState([]),[tt,dt]=Ze.useState(null),[Ve,C]=Ze.useState([]),[w,I]=Ze.useState(!1),[V,N]=Ze.useState(!1),[U,R]=Ze.useState(!1),[at,Rt]=Ze.useState(!1),[H,te]=Ze.useState(!1),[ce,ze]=Ze.useState(()=>localStorage.getItem("gameHub_playerName")||"");Ze.useEffect(()=>{ce&&localStorage.setItem("gameHub_playerName",ce)},[ce]),Ze.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await pw(tm,__initial_auth_token):await hw(tm))();const W=vw(tm,e);return()=>W()},[]),Ze.useEffect(()=>{if(s&&i==="menu"){const ee=localStorage.getItem("emperor_room_id"),W=localStorage.getItem("emperor_player_name");ee&&W&&(A(!0),ze(W),c(ee))}},[s,i]),Ze.useEffect(()=>{if(!l||!s)return;const ee=Sv(ei(ti,"artifacts",_i,"public","data","rooms",l),W=>{if(W.exists()){const ae=W.data();if(!ae.players.some(be=>be.id===s.uid)){c(""),a("menu"),F("You were removed from the room."),localStorage.removeItem("emperor_room_id"),A(!1);return}_(ae),ae.status==="playing"||ae.status==="round_end"||ae.status==="finished"?a("game"):a("lobby"),A(!1)}else c(""),a("menu"),F("The Kingdom has fallen (Room Closed)."),localStorage.removeItem("emperor_room_id"),A(!1)});return()=>ee()},[l,s]),Ze.useEffect(()=>{if(g&&(g.status==="round_end"||g.status==="finished")&&g.hostId===s?.uid&&Object.keys(g.readyForNextRound||{}).length===2){const W=g.status==="finished";Ie(!W)}},[g,s]);const Ye=Ze.useRef("");if(Ze.useEffect(()=>{g&&(Ye.current!=="round_end"&&Ye.current!=="finished"&&(g.status==="round_end"||g.status==="finished")&&(N(!0),I(!1)),Ye.current=g.status)},[g?.status]),Ze.useEffect(()=>{const ee=Sv(ei(ti,"game_hub_settings","config"),W=>{W.exists()&&(W.data()[HC]?.maintenance?re(!0):re(!1))});return()=>ee()},[]),ie)return T.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[T.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[T.jsx(_C,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),T.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),T.jsx("p",{className:"text-gray-400",children:"The Emperor's court is currently closed for renovations."})]}),T.jsx("div",{className:"h-8"}),T.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:T.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:T.jsx("div",{className:"text-center pb-12 animate-pulse",children:T.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[T.jsx(Cv,{size:16})," Visit Gamehub...Try our other releases..."," ",T.jsx(Cv,{size:16})]})})})})]});const O=async()=>{if(!ce)return F("Name required");A(!0);const ee=Math.random().toString(36).substring(2,7).toUpperCase(),W={};Object.values(si).forEach(ae=>{const{icon:be,...Xe}=ae;W[ae.id]={...Xe,owner:null,redItems:[],blueItems:[]}}),await WI(ei(ti,"artifacts",_i,"public","data","rooms",ee),{roomId:ee,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:ce,color:"red",hand:[],tokens:{SECRET:!1,SABOTAGE:!1,GIFT:!1,TRADE:!1},faceDownCards:[],sabotagedCards:[],ready:!1}],kings:W,deck:[],round:1,turnPlayerId:null,phase:"lobby",pendingInteraction:null,logs:[],winnerId:null,roundReveal:null,readyForNextRound:{},winReason:null}),localStorage.setItem("emperor_room_id",ee),localStorage.setItem("emperor_player_name",ce),c(ee),y(ee),a("lobby"),A(!1)},Q=async()=>{if(!d||!ce)return F("Room ID and Name required");A(!0);const ee=ei(ti,"artifacts",_i,"public","data","rooms",d),W=await bv(ee);if(!W.exists()){F("Room not found"),A(!1);return}const ae=W.data();if(ae.players.length>=2&&!ae.players.some(be=>be.id===s.uid)){F("Room full"),A(!1);return}if(!ae.players.some(be=>be.id===s.uid)){const be=[...ae.players,{id:s.uid,name:ce,color:"blue",hand:[],tokens:{SECRET:!1,SABOTAGE:!1,GIFT:!1,TRADE:!1},faceDownCards:[],sabotagedCards:[],ready:!1}];await Es(ee,{players:be})}localStorage.setItem("emperor_room_id",d),localStorage.setItem("emperor_player_name",ce),c(d),A(!1)},se=async()=>{if(!(!l||!s)){try{const ee=ei(ti,"artifacts",_i,"public","data","rooms",l),W=await bv(ee);if(W.exists()){const ae=W.data();if(ae.hostId===s.uid)await eC(ee);else{const be=ae.players.filter(Xe=>Xe.id!==s.uid);await Es(ee,{players:be})}}}catch(ee){console.error("Error leaving room:",ee)}localStorage.removeItem("emperor_room_id"),c(""),a("menu"),_(null),te(!1)}},oe=async ee=>{if(!g||g.hostId!==s.uid)return;const W=g.players.filter(ae=>ae.id!==ee);await Es(ei(ti,"artifacts",_i,"public","data","rooms",l),{players:W})},Te=async()=>{if(!g||g.hostId!==s.uid)return;const ee=g.players.map(ae=>({...ae,hand:[],tokens:{SECRET:!1,SABOTAGE:!1,GIFT:!1,TRADE:!1},faceDownCards:[],sabotagedCards:[],ready:!1})),W={...g.kings};Object.keys(W).forEach(ae=>{W[ae].redItems=[],W[ae].blueItems=[],W[ae].owner=null}),await Es(ei(ti,"artifacts",_i,"public","data","rooms",l),{status:"lobby",phase:"lobby",players:ee,kings:W,deck:[],round:1,turnPlayerId:null,pendingInteraction:null,logs:[],winnerId:null,roundReveal:null,readyForNextRound:{},winReason:null}),te(!1)},Ie=async(ee=!1)=>{if(g.hostId!==s.uid)return;let W=[];Object.values(si).forEach(Re=>{for(let Le=0;Le<Re.val;Le++)W.push(Re.id)}),W=GC(W),W.pop();const ae=[],be=[];for(let Re=0;Re<7;Re++)W.length&&ae.push(W.pop());for(let Re=0;Re<6;Re++)W.length&&be.push(W.pop());const Xe={...g.kings};Object.keys(Xe).forEach(Re=>{Xe[Re].redItems=[],Xe[Re].blueItems=[],ee||(Xe[Re].owner=null)});const Ae=g.players.map(Re=>({...Re,hand:Re.color==="red"?ae:be,tokens:{SECRET:!1,SABOTAGE:!1,GIFT:!1,TRADE:!1},faceDownCards:[],sabotagedCards:[],ready:!1})),ke={status:"playing",kings:Xe,deck:W,players:Ae,round:ee?g.round+1:1,turnPlayerId:g.players[0].id,phase:"turn",pendingInteraction:null,winnerId:null,winReason:null,roundReveal:null,readyForNextRound:{}};ee?ke.logs=qc(ur(` Round ${g.round+1} Begins! Red starts with 7 cards.`,"info")):ke.logs=[ur(" New Game Started! Round 1 Begins. Red starts with 7 cards.","info")],await Es(ei(ti,"artifacts",_i,"public","data","rooms",l),ke),N(!1),I(!1)},Ue=async()=>{if(!g)return;const ee=g.readyForNextRound?.[s.uid];await Es(ei(ti,"artifacts",_i,"public","data","rooms",l),{[`readyForNextRound.${s.uid}`]:!ee})},vt=async(ee,W,ae,be,Xe="turn",Ae=null)=>{if(ee.every(Le=>Object.values(Le.tokens).every(St=>St===!0))&&!Ae){await es(ee,W);return}let Re=g.players.find(Le=>Le.id!==s.uid).id;if(Ae)Re=Ae.targetId;else if(ae.length>0){const Le=ae.pop(),St=ee.findIndex(Se=>Se.id===Re);ee[St].hand.push(Le)}await Es(ei(ti,"artifacts",_i,"public","data","rooms",l),{players:ee,kings:W||g.kings,deck:ae||g.deck,turnPlayerId:Re,phase:Xe,pendingInteraction:Ae,logs:qc(ur(be,"neutral"))}),pe(null),ve([]),C([]),dt(null)},mt=(ee,W)=>{if(ge.includes(W))ve(ge.filter(ae=>ae!==W));else if(Z){const ae=ni[Z].reqCards;ge.length<ae&&ve([...ge,W])}},xn=(ee,W,ae)=>{const be=ee[W];ae==="red"?be.redItems.push(W):be.blueItems.push(W)},Wi=async()=>{if(!Z||!s)return;const ee=g.players.find(Se=>Se.id===s.uid),W=ni[Z].reqCards;if(ge.length!==W){alert(`Select exactly ${W} cards.`);return}let ae=JSON.parse(JSON.stringify(g.players)),be=ae.findIndex(Se=>Se.id===s.uid),Xe=ae.findIndex(Se=>Se.id!==s.uid),Ae=JSON.parse(JSON.stringify(g.kings)),ke=[...g.deck];const Re=[...ee.hand].sort((Se,ot)=>si[ot].val-si[Se].val),Le=ge.map(Se=>Re[Se]),St=Se=>{Se.forEach(ot=>{const J=ae[be].hand.indexOf(ot);J>-1&&ae[be].hand.splice(J,1)})};if(ae[be].tokens[Z]=!0,Z==="SECRET")St(Le),ae[be].faceDownCards.push(Le[0]),await vt(ae,Ae,ke,`${ee.name} placed a Secret Plan.`);else if(Z==="SABOTAGE")St(Le),ae[be].sabotagedCards||(ae[be].sabotagedCards=[]),ae[be].sabotagedCards.push(...Le),await vt(ae,Ae,ke,`${ee.name} Sabotaged (Discarded 2 cards).`);else if(Z==="GIFT"){St(Le);const Se={type:"GIFT",initiatorId:s.uid,targetId:ae[Xe].id,cards:Le};await vt(ae,Ae,ke,`${ee.name} offers a Gift (Choose 1 of 3).`,"interaction",Se)}else if(Z==="TRADE"){if(tt!=="TRADE_SPLIT"){dt("TRADE_SPLIT");return}const Se=Ve;if(Se.length!==2){alert("Piles must be 2 and 2.");return}const ot=Se.map(Nt=>Re[Nt]),he=ge.filter(Nt=>!Se.includes(Nt)).map(Nt=>Re[Nt]);St(Le);const Et={type:"TRADE",initiatorId:s.uid,targetId:ae[Xe].id,pile1:ot,pile2:he};await vt(ae,Ae,ke,`${ee.name} proposes a Trade (Pick a pile).`,"interaction",Et)}},Si=async ee=>{if(!g.pendingInteraction)return;const{type:W,initiatorId:ae,targetId:be,cards:Xe,pile1:Ae,pile2:ke}=g.pendingInteraction;if(s.uid!==be)return;let Re=JSON.parse(JSON.stringify(g.players)),Le=JSON.parse(JSON.stringify(g.kings)),St=[...g.deck];const Se=Re.find(xt=>xt.id===be),ot=Re.find(xt=>xt.id===ae);let J="";if(W==="GIFT"){const xt=Xe[ee],zn=Xe.filter((In,Cn)=>Cn!==ee);xn(Le,xt,Se.color),zn.forEach(In=>xn(Le,In,ot.color)),J=`${Se.name} chose ${si[xt].item}. ${ot.name} kept the rest.`}else if(W==="TRADE"){const xt=ee===0?Ae:ke,zn=ee===0?ke:Ae;xt.forEach(In=>xn(Le,In,Se.color)),zn.forEach(In=>xn(Le,In,ot.color)),J=`${Se.name} picked a pile of ${xt.length} items.`}const he=ae;let Et=Re.find(xt=>xt.id!==he).id;if(Re.every(xt=>Object.values(xt.tokens).every(zn=>zn===!0)))await es(Re,Le);else{if(St.length>0){const xt=St.pop(),zn=Re.findIndex(In=>In.id===Et);Re[zn].hand.push(xt)}await Es(ei(ti,"artifacts",_i,"public","data","rooms",l),{players:Re,kings:Le,deck:St,pendingInteraction:null,phase:"turn",turnPlayerId:Et,logs:qc(ur(J,"success"))})}},es=async(ee,W)=>{let ae=[];ae.push(ur(" Round End! Revealing Secret Plans...","neutral"));const be={};ee.forEach(J=>{be[J.id]=[...J.faceDownCards],J.faceDownCards.forEach(he=>{xn(W,he,J.color)}),J.faceDownCards=[]});let Xe=0,Ae=0,ke=0,Re=0;const Le=ee.find(J=>J.color==="red"),St=ee.find(J=>J.color==="blue");Object.keys(W).forEach(J=>{const he=W[J],Et=he.redItems.length,Nt=he.blueItems.length;Et>Nt?(he.owner!=="red"&&ae.push(ur(`${Le.name} conquered ${he.name}!`,"danger")),he.owner="red"):Nt>Et&&(he.owner!=="blue"&&ae.push(ur(`${St.name} conquered ${he.name}!`,"blue")),he.owner="blue"),he.owner==="red"&&(Xe++,ke+=he.val),he.owner==="blue"&&(Ae++,Re+=he.val)});let Se=null,ot=null;Xe>=4||ke>=11?(Se=Le.id,ot=Xe>=4?"controlled 4 Kingdoms":"scored 11 Victory Points"):(Ae>=4||Re>=11)&&(Se=St.id,ot=Ae>=4?"controlled 4 Kingdoms":"scored 11 Victory Points"),Se&&ae.push(ur(" Game Over!","success")),await Es(ei(ti,"artifacts",_i,"public","data","rooms",l),{status:Se?"finished":"round_end",winnerId:Se,winReason:ot,kings:W,players:ee,roundReveal:be,pendingInteraction:null,phase:"resolution",readyForNextRound:{},logs:qc(...ae)})};if(i==="menu")return T.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[T.jsx(Hc,{}),U&&T.jsx(nm,{onClose:()=>R(!1)}),T.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[T.jsx(ho,{size:64,className:"text-yellow-500 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(234,179,8,0.5)]"}),T.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-linear-to-b from-yellow-300 to-yellow-600 font-serif tracking-widest drop-shadow-md",children:"EMPEROR"}),T.jsx("p",{className:"text-gray-400 tracking-[0.3em] uppercase mt-2",children:"Rule the Seven Kingdoms"})]}),T.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-gray-700 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[M&&T.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:M}),T.jsx("input",{className:"w-full bg-black/50 border border-gray-600 p-3 rounded mb-4 text-white placeholder-gray-500 focus:border-yellow-500 outline-none transition-colors",placeholder:"Your Name, My Liege",value:ce,onChange:ee=>ze(ee.target.value)}),T.jsxs("button",{onClick:O,disabled:S,className:"w-full bg-linear-to-r from-yellow-700 to-yellow-600 hover:from-yellow-600 hover:to-yellow-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-yellow-500/30 shadow-[0_0_15px_rgba(234,179,8,0.2)] transition-all",children:[T.jsx(ho,{size:20})," Establish Kingdom"]}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[T.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-gray-600 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-yellow-500 outline-none",placeholder:"ROOM CODE",value:d,onChange:ee=>y(ee.target.value.toUpperCase())}),T.jsx("button",{onClick:Q,disabled:S,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-3 rounded font-bold transition-colors",children:"Join"})]}),T.jsxs("button",{onClick:()=>R(!0),className:"w-full text-sm text-gray-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[T.jsx(wv,{size:16})," Imperial Decree"]})]}),T.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Hanamikoji. A tribute game.",T.jsx("br",{}),"Developed by ",T.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",T.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-yellow-500 underline hover:text-yellow-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&g){const ee=g.hostId===s.uid;return T.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative",children:[T.jsx(Hc,{}),T.jsx(FC,{}),U&&T.jsx(nm,{onClose:()=>R(!1)}),H&&T.jsx(Ov,{onConfirm:se,onCancel:()=>te(!1),isHost:ee}),T.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-800/90 p-8 rounded-2xl border border-gray-700 shadow-2xl mb-4",children:[T.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[T.jsxs("h2",{className:"text-2xl font-serif text-yellow-500",children:["Throne Room: ",l]}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[T.jsx(Vl,{size:16})," ",g.players.length,"/2"]}),T.jsx("button",{onClick:()=>te(!0),className:"p-2 bg-red-900/50 hover:bg-red-900 rounded text-red-300",title:"Leave Room",children:T.jsx(xv,{size:16})})]})]}),T.jsxs("div",{className:"space-y-3 mb-8",children:[g.players.map(W=>T.jsxs("div",{className:"flex items-center justify-between bg-gray-900 p-4 rounded border border-gray-700",children:[T.jsxs("span",{className:`font-bold ${W.color==="red"?"text-red-500":"text-blue-500"} flex items-center gap-2`,children:[W.id===g.hostId&&T.jsx(ho,{size:14,className:"text-yellow-500"})," ",W.name]}),T.jsxs("div",{className:"flex items-center gap-2",children:[W.id===s.uid&&T.jsx("span",{className:"text-xs bg-gray-700 px-2 py-1 rounded",children:"You"}),ee&&W.id!==s.uid&&T.jsx("button",{onClick:()=>oe(W.id),className:"p-2 hover:bg-red-900/50 rounded text-red-400",title:"Kick Player",children:T.jsx(ql,{size:16})})]})]},W.id)),g.players.length<2&&T.jsx("div",{className:"text-center text-gray-500 animate-pulse italic",children:"Waiting for challenger..."})]}),T.jsx("div",{className:"flex flex-col gap-3",children:g.hostId===s.uid?T.jsx("button",{onClick:()=>Ie(!1),disabled:g.players.length<2,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all ${g.players.length<2?"bg-gray-700 cursor-not-allowed text-gray-500":"bg-green-700 hover:bg-green-600 text-white shadow-green-900/30"}`,children:"Begin Campaign"}):T.jsx("div",{className:"text-center text-yellow-500/80 font-serif mb-2",children:"Waiting for Host to start..."})})]}),T.jsx(Dv,{})]})}if(i==="game"&&g){const ee=g.players.find(J=>J.id===s.uid),W=g.players.find(J=>J.id!==s.uid),ae=g.hostId===s.uid;if(!W)return T.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 text-center",children:[T.jsx(Hc,{}),T.jsxs("div",{className:"bg-gray-800 p-8 rounded-xl border border-red-700 shadow-2xl relative z-10 max-w-md",children:[T.jsx(Nv,{size:64,className:"text-red-500 mb-4 mx-auto"}),T.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Opponent has fled the battlefield!"}),T.jsx("p",{className:"text-gray-400 mb-6",children:"The empire is yours by default, though it is a hollow victory."}),T.jsx("button",{onClick:()=>{c(""),_(null),a("menu"),localStorage.removeItem("emperor_room_id")},className:"bg-yellow-600 hover:bg-yellow-500 text-black px-6 py-3 rounded font-bold w-full",children:"Return to Menu"})]})]});const be=g.turnPlayerId===s.uid&&g.phase==="turn",Xe=g.phase==="interaction"&&g.pendingInteraction?.targetId===s.uid&&g.status==="playing",Ae=g.status==="round_end"||g.status==="finished",ke=[...ee.hand].sort((J,he)=>si[he].val-si[J].val),Re=J=>{Ve.includes(J)?C(Ve.filter(he=>he!==J)):Ve.length<2&&C([...Ve,J])},Le=g.readyForNextRound?.[s.uid],St=g.readyForNextRound?.[W.id],Se=Xe||be&&!Ae;let ot="";if(Xe)g.pendingInteraction.type==="GIFT"&&(ot="Gift Received: Pick 1 Card from top right"),g.pendingInteraction.type==="TRADE"&&(ot="Trade Offered: Pick 1 Pile from top right");else if(be&&!Ae)if(Z){const J=ni[Z];Z==="TRADE"&&tt==="TRADE_SPLIT"?ot="Split your cards into two piles":ot=`${J.name}: Select ${J.reqCards} card${J.reqCards>1?"s":""}`}else ot="Your Turn: Select an Action Token";return T.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col overflow-hidden relative font-sans select-none",children:[T.jsx(Hc,{}),U&&T.jsx(nm,{onClose:()=>R(!1)}),at&&T.jsx(YC,{logs:g.logs,onClose:()=>Rt(!1)}),H&&T.jsx(Ov,{onConfirm:se,onCancel:()=>te(!1),isHost:ae,onReturnToLobby:Te}),T.jsxs("div",{className:"h-14 bg-gray-900/80 border-b border-gray-800 flex items-center justify-between px-4 z-20 backdrop-blur-md",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"font-serif text-yellow-500 font-bold tracking-wider hidden md:block",children:"EMPEROR"}),T.jsxs("div",{className:"text-xs text-gray-400 bg-gray-800 px-2 py-1 rounded",children:["Round ",g.round]})]}),T.jsxs("div",{className:"flex gap-2",children:[Ae&&(g.winnerId?T.jsxs("button",{onClick:()=>I(!0),className:"px-4 py-1.5 bg-yellow-600 hover:bg-yellow-500 rounded text-sm font-bold animate-pulse shadow-lg shadow-yellow-900/50 flex items-center gap-2",children:[T.jsx(Im,{size:16})," Show Results"]}):T.jsxs("button",{onClick:Ue,className:`px-4 py-1.5 rounded text-sm font-bold flex items-center gap-2 transition-all ${Le?"bg-green-700 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[Le?T.jsx(Rv,{size:16}):T.jsx(Iv,{size:16}),Le?St?"Starting...":"Waiting...":"Next Round"]})),T.jsx("button",{onClick:()=>Rt(!at),className:`p-2 rounded-full ${at?"bg-yellow-900 text-yellow-400":"text-gray-400 hover:bg-gray-800"}`,children:T.jsx(nT,{size:18})}),T.jsx("button",{onClick:()=>R(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400",children:T.jsx(wv,{size:18})}),T.jsx("button",{onClick:()=>te(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",children:T.jsx(xv,{size:18})})]})]}),T.jsxs("div",{className:"flex-1 flex flex-col justify-between p-2 md:p-4 relative z-10 max-w-6xl mx-auto w-full h-full",children:[T.jsxs("div",{className:"flex flex-row justify-between items-start mb-2 shrink-0 gap-2 h-24 md:h-auto",children:[T.jsxs("div",{className:"flex flex-col gap-1 w-[45%] md:w-[40%]",children:[T.jsxs("div",{className:`flex items-center gap-2 font-bold ${W.color==="red"?"text-red-500":"text-blue-500"} text-sm md:text-base truncate`,children:[T.jsx(Vl,{size:16})," ",W.name,g.turnPlayerId===W.id&&!Xe&&!Ae&&T.jsx("span",{className:"text-[10px] md:text-xs bg-yellow-500 text-black px-1 rounded animate-pulse ml-2",children:"Thinking..."}),g.phase==="interaction"&&g.pendingInteraction.targetId===W.id&&T.jsx("span",{className:"text-[10px] md:text-xs bg-orange-500 text-white px-1 rounded animate-bounce ml-2",children:"Deciding..."})]}),T.jsx("div",{className:"flex gap-1 overflow-hidden",children:W.hand.map((J,he)=>T.jsx("div",{className:"w-4 h-6 md:w-5 md:h-8 bg-gray-800 border border-gray-600 rounded"},he))}),T.jsx("div",{className:"flex gap-1 mt-1 opacity-70",children:Object.keys(ni).map(J=>{const he=ni[J].icon,Et=W.tokens[J];return T.jsx("div",{className:`p-1 rounded-full border ${Et?"border-gray-700 bg-gray-800":"border-gray-600 bg-gray-900"}`,children:T.jsx(he,{size:10,className:Et?"text-gray-600":ni[J].color})},J)})}),T.jsxs("div",{className:"flex gap-2 mt-1 items-center overflow-x-auto no-scrollbar",children:[W.faceDownCards.length>0&&T.jsxs("div",{className:"flex gap-1 items-center bg-black/20 p-1 rounded border-l border-gray-700 pl-2",children:[T.jsx("span",{className:"text-[9px] text-gray-500 uppercase mr-1 whitespace-nowrap",children:T.jsx(Bl,{size:10})}),W.faceDownCards.map((J,he)=>T.jsx(ii,{tiny:!0,faceDown:!0},`secret-${he}`))]}),W.sabotagedCards&&W.sabotagedCards.length>0&&T.jsxs("div",{className:"flex gap-1 items-center bg-black/20 p-1 rounded border-l border-gray-700 pl-2",children:[T.jsx("span",{className:"text-[9px] text-gray-500 uppercase mr-1 whitespace-nowrap",children:T.jsx(ql,{size:10})}),W.sabotagedCards.map((J,he)=>T.jsx(ii,{typeId:J,tiny:!0},`discard-${he}`))]})]})]}),T.jsx("div",{className:"flex-1 flex justify-end h-full",children:Xe?T.jsxs("div",{className:"bg-gray-800/90 border border-orange-500 rounded-lg p-2 shadow-lg flex flex-col items-center justify-center w-full max-w-sm animate-in slide-in-from-right-4 fade-in h-full overflow-y-auto no-scrollbar",children:[g.pendingInteraction.type==="GIFT"&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"text-[10px] md:text-xs font-bold text-white flex items-center gap-1 mb-1",children:[T.jsx(vg,{size:12})," Gift! Keep 1:"]}),T.jsx("div",{className:"flex justify-center gap-2",children:g.pendingInteraction.cards.map((J,he)=>T.jsx("div",{className:"hover:scale-105 transition-transform cursor-pointer",onClick:()=>Si(he),children:T.jsx(ii,{typeId:J,small:!0})},he))})]}),g.pendingInteraction.type==="TRADE"&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"text-[10px] md:text-xs font-bold text-white flex items-center gap-1 mb-1",children:[T.jsx(Eg,{size:12})," Trade! Pick Pile:"]}),T.jsxs("div",{className:"flex justify-center gap-2 items-center",children:[T.jsx("button",{onClick:()=>Si(0),className:"bg-gray-700 p-1 rounded border border-gray-600 hover:border-yellow-400 flex gap-1 items-center",children:g.pendingInteraction.pile1.map((J,he)=>T.jsx(ii,{typeId:J,tiny:!0},he))}),T.jsx("span",{className:"text-gray-500 text-[10px]",children:"OR"}),T.jsx("button",{onClick:()=>Si(1),className:"bg-gray-700 p-1 rounded border border-gray-600 hover:border-yellow-400 flex gap-1 items-center",children:g.pendingInteraction.pile2.map((J,he)=>T.jsx(ii,{typeId:J,tiny:!0},he))})]})]})]}):T.jsx("div",{className:"w-full h-full"})})]}),T.jsx("div",{className:"flex justify-center mb-2 shrink-0",children:T.jsxs("div",{className:"bg-gray-800 border border-gray-600 px-4 py-1 rounded-full text-xs font-mono text-gray-400 shadow-lg flex items-center gap-2",children:[T.jsx(wC,{size:14})," Deck: ",g.deck.length]})}),T.jsx("div",{className:"flex-1 flex flex-col justify-center min-h-0",children:T.jsx("div",{className:`
                w-full justify-items-center gap-1 md:gap-3
                grid grid-cols-7 md:grid-cols-7
            `,children:Object.keys(si).map((J,he)=>T.jsx("div",{className:`w-full ${he>=4?"md:col-auto":""}`,children:T.jsx(QC,{id:J,data:g.kings[J],myColor:ee.color})},J))})}),T.jsx("div",{className:"h-8 flex items-center justify-center my-2 shrink-0 relative",children:!Xe&&T.jsx("div",{className:"w-full max-w-md text-center text-sm text-gray-400 bg-gray-900/50 p-1 rounded backdrop-blur-sm flex justify-center items-center gap-2",children:g.logs.slice(-1).map((J,he)=>T.jsxs("span",{className:`flex items-center gap-2 ${J.type==="danger"?"text-red-400":J.type==="blue"?"text-blue-400":J.type==="success"?"text-green-400":"text-gray-300"}`,children:[(J.type==="danger"||J.type==="blue")&&T.jsx(Vl,{size:14}),J.text]},he))})}),Se&&T.jsx("div",{className:"flex justify-center mb-1 animate-bounce",children:T.jsxs("div",{className:"bg-yellow-500 text-black text-xs font-bold px-3 py-1 rounded-full shadow-lg border border-yellow-300 flex items-center gap-2",children:[T.jsx(Nv,{size:12})," ",ot]})}),T.jsxs("div",{className:`bg-gray-900/90 p-3 md:p-4 rounded-t-xl md:rounded-xl border-t-2 border-gray-700 transition-all shrink-0 ${be?"shadow-[0_0_20px_rgba(234,179,8,0.1)] border-yellow-600/50":"grayscale opacity-80"}`,children:[T.jsxs("div",{className:"flex justify-between items-center mb-2 -mt-1",children:[T.jsxs("div",{className:`flex items-center gap-2 font-bold ${ee.color==="red"?"text-red-500":"text-blue-500"} text-sm md:text-base`,children:[T.jsx(Vl,{size:16})," ",ee.name]}),be&&!Ae&&T.jsx("span",{className:"bg-green-600 text-white text-[10px] md:text-xs font-bold px-3 py-0.5 rounded-full shadow-lg animate-bounce border border-green-400 tracking-wider",children:"YOUR TURN"})]}),tt==="TRADE_SPLIT"?T.jsxs("div",{className:"flex flex-col items-center gap-4",children:[T.jsx("div",{className:"flex gap-4 p-4 bg-black/40 rounded-xl",children:ge.map((J,he)=>{const Et=ke[J],Nt=Ve.includes(J);return T.jsxs("div",{className:"flex flex-col items-center gap-2",children:[T.jsx(ii,{typeId:Et,onClick:()=>Re(J),selected:Nt}),T.jsx("div",{className:`text-xs font-bold px-2 py-1 rounded ${Nt?"bg-blue-600":"bg-red-600"}`,children:Nt?"Pile 1":"Pile 2"})]},he)})}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx("button",{onClick:()=>{dt(null),ve([]),pe(null)},className:"px-6 py-2 bg-gray-700 rounded hover:bg-gray-600",children:"Cancel"}),T.jsx("button",{onClick:Wi,disabled:Ve.length!==2,className:"px-6 py-2 bg-yellow-600 rounded font-bold hover:bg-yellow-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirm Trade Split"})]})]}):T.jsx("div",{className:"flex flex-col gap-2",children:T.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[T.jsx("div",{className:"flex-1 flex justify-center px-2 w-full",children:T.jsx("div",{className:"flex items-end -space-x-5 md:-space-x-10 hover:-space-x-3 transition-all duration-300 py-4",children:ke.map((J,he)=>T.jsx("div",{className:`
                            shrink-0 relative transition-all duration-200
                            ${ge.includes(he)?"z-20 -translate-y-4":"hover:z-10 hover:-translate-y-2"}
                          `,children:T.jsx(ii,{typeId:J,onClick:()=>be&&mt(J,he),selected:ge.includes(he),disabled:!be})},he))})}),T.jsxs("div",{className:"flex gap-2 items-center shrink-0 min-w-[80px] overflow-x-auto no-scrollbar",children:[ee.faceDownCards.length>0&&T.jsxs("div",{className:"flex gap-1 items-center bg-black/20 p-1 rounded border-l border-gray-700 pl-2 shrink-0",children:[T.jsx("span",{className:"text-[9px] text-gray-500 uppercase mr-1 whitespace-nowrap",children:T.jsx(Bl,{size:10})}),ee.faceDownCards.map((J,he)=>T.jsx("div",{className:"opacity-80 hover:opacity-100 transition-opacity shrink-0",children:T.jsx(ii,{typeId:J,tiny:!0},he)},`my-secret-${he}`))]}),ee.sabotagedCards&&ee.sabotagedCards.length>0&&T.jsxs("div",{className:"flex gap-1 items-center bg-black/20 p-1 rounded border-l border-gray-700 pl-2 shrink-0",children:[T.jsx(ql,{size:10,className:"text-gray-500"}),ee.sabotagedCards.map((J,he)=>T.jsx(ii,{typeId:J,tiny:!0},`my-discard-${he}`))]})]}),T.jsxs("div",{className:"flex flex-col gap-2 min-w-[200px] shrink-0 w-full md:w-auto",children:[T.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.keys(ni).map(J=>T.jsx(KC,{type:J,used:ee.tokens[J],active:Z===J,disabled:!be,onClick:()=>{be&&!ee.tokens[J]&&(pe(J),ve([]))}},J))}),Z&&be&&T.jsxs("div",{className:"bg-black/40 p-2 rounded text-xs text-center animate-in slide-in-from-right-4 fade-in",children:[T.jsx("div",{className:"text-yellow-500 font-bold mb-1",children:ni[Z].name}),T.jsx("div",{className:"text-gray-400 mb-2",children:ni[Z].desc}),T.jsxs("button",{onClick:Wi,disabled:ge.length!==ni[Z].reqCards,className:"w-full bg-yellow-700 hover:bg-yellow-600 disabled:bg-gray-700 disabled:text-gray-500 text-white py-2 rounded font-bold transition-colors",children:["Execute (",ge.length,"/",ni[Z].reqCards,")"]})]})]})]})})]})]}),Ae&&V&&g.roundReveal&&T.jsx("div",{className:"fixed inset-0 bg-black/95 z-50 flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-gray-900 border border-purple-500 rounded-2xl p-8 max-w-2xl w-full text-center shadow-2xl animate-in zoom-in-90",children:[T.jsxs("h2",{className:"text-2xl font-serif text-purple-400 mb-6 flex items-center justify-center gap-2",children:[T.jsx(Bl,{})," Secret Plans Revealed!"]}),T.jsx("div",{className:"flex flex-col md:flex-row justify-around gap-8 mb-8",children:Object.keys(g.roundReveal).map(J=>{const he=g.players.find(Nt=>Nt.id===J)?.name,Et=g.roundReveal[J];return T.jsxs("div",{className:"flex flex-col items-center gap-2",children:[T.jsxs("div",{className:"font-bold text-gray-300 mb-2",children:[he," revealed:"]}),T.jsx("div",{className:"flex gap-2",children:Et.length>0?Et.map((Nt,xt)=>T.jsx(ii,{typeId:Nt,small:!0},xt)):T.jsx("div",{className:"text-gray-600 italic",children:"No plans"})})]},J)})}),T.jsxs("button",{onClick:()=>N(!1),className:"px-8 py-3 bg-purple-700 hover:bg-purple-600 text-white rounded-lg font-bold flex items-center justify-center gap-2 mx-auto",children:[T.jsx(dC,{size:20})," Inspect Battlefield"]})]})}),Ae&&w&&T.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4 animate-in fade-in",children:T.jsxs("div",{className:`bg-gray-900 border rounded-2xl p-8 max-w-lg w-full text-center shadow-[0_0_50px_rgba(0,0,0,0.5)] ${g.winnerId?"border-yellow-500 shadow-yellow-500/20":"border-gray-600"}`,children:[g.winnerId?T.jsxs(T.Fragment,{children:[T.jsx(Im,{size:64,className:"text-yellow-500 mx-auto mb-4 animate-bounce"}),T.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Kingdoms United!"}),T.jsxs("p",{className:"text-xl text-gray-300 mb-2",children:[g.players.find(J=>J.id===g.winnerId).name," ","is the new Emperor!"]}),T.jsx("p",{className:"text-sm text-yellow-500/80 mb-8 uppercase tracking-widest border-t border-b border-yellow-900/50 py-2",children:g.winReason})]}):T.jsxs(T.Fragment,{children:[T.jsx(Tg,{size:64,className:"text-red-500 mx-auto mb-4"}),T.jsxs("h2",{className:"text-3xl font-bold text-white mb-2",children:["Round ",g.round," Complete"]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4 my-6 text-left bg-black/30 p-4 rounded",children:[T.jsxs("div",{className:"text-red-500 font-bold text-center",children:[T.jsx("div",{className:"text-2xl",children:Object.values(g.kings).filter(J=>J.owner==="red").length}),T.jsx("div",{className:"text-xs uppercase text-gray-500",children:"Red Kingdoms"})]}),T.jsxs("div",{className:"text-blue-500 font-bold text-center",children:[T.jsx("div",{className:"text-2xl",children:Object.values(g.kings).filter(J=>J.owner==="blue").length}),T.jsx("div",{className:"text-xs uppercase text-gray-500",children:"Blue Kingdoms"})]})]})]}),T.jsx("div",{className:"flex flex-col gap-3",children:g.winnerId?T.jsxs(T.Fragment,{children:[T.jsxs("button",{onClick:Ue,className:`w-full py-3 rounded-lg font-bold transition-all flex items-center justify-center gap-2 ${Le?"bg-green-700 hover:bg-green-600 text-white":"bg-gray-700 hover:bg-gray-600 text-white"}`,children:[Le?T.jsx(Rv,{size:20}):T.jsx(Iv,{size:20}),Le?St?"Starting New Game...":"Waiting for Opponent":"Ready for Rematch"]}),T.jsx("button",{onClick:()=>te(!0),className:"w-full bg-transparent border border-red-900 text-red-400 hover:bg-red-900/20 px-8 py-3 rounded-lg font-bold",children:"Exit Room"})]}):T.jsx("button",{onClick:()=>I(!1),className:"w-full bg-gray-700 hover:bg-gray-600 text-white px-8 py-3 rounded-lg font-bold",children:"Close & Prepare"})})]})}),T.jsx("div",{className:"bg-gray-950 pb-1 pt-1 z-50",children:T.jsx(Dv,{})})]})}return null}Gb.createRoot(document.getElementById("root")).render(T.jsx(Ze.StrictMode,{children:T.jsx(XC,{})}));
