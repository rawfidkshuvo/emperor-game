(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var kd={exports:{}},Rl={};var B_;function Mb(){if(B_)return Rl;B_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Rl.Fragment=e,Rl.jsx=i,Rl.jsxs=i,Rl}var q_;function Vb(){return q_||(q_=1,kd.exports=Mb()),kd.exports}var T=Vb(),Ud={exports:{}},Ce={};var H_;function kb(){if(H_)return Ce;H_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,$={};function pe(O,K,se){this.props=O,this.context=K,this.refs=$,this.updater=se||te}pe.prototype.isReactComponent={},pe.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},pe.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function me(){}me.prototype=pe.prototype;function ye(O,K,se){this.props=O,this.context=K,this.refs=$,this.updater=se||te}var $e=ye.prototype=new me;$e.constructor=ye,re($e,pe.prototype),$e.isPureReactComponent=!0;var it=Array.isArray;function Me(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function x(O,K,se){var oe=se.ref;return{$$typeof:r,type:O,key:K,ref:oe!==void 0?oe:null,props:se}}function V(O,K){return x(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(se){return K[se]})}var R=/\/+/g;function ot(O,K){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):K.toString(36)}function Rt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Me,Me):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,K,se,oe,Te){var Ie=typeof O;(Ie==="undefined"||Ie==="boolean")&&(O=null);var Ue=!1;if(O===null)Ue=!0;else switch(Ie){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(O.$$typeof){case r:case e:Ue=!0;break;case S:return Ue=O._init,G(Ue(O._payload),K,se,oe,Te)}}if(Ue)return Te=Te(O),Ue=oe===""?"."+ot(O,0):oe,it(Te)?(se="",Ue!=null&&(se=Ue.replace(R,"$&/")+"/"),G(Te,K,se,"",function(xn){return xn})):Te!=null&&(N(Te)&&(Te=V(Te,se+(Te.key==null||O&&O.key===Te.key?"":(""+Te.key).replace(R,"$&/")+"/")+Ue)),K.push(Te)),1;Ue=0;var vt=oe===""?".":oe+":";if(it(O))for(var mt=0;mt<O.length;mt++)oe=O[mt],Ie=vt+ot(oe,mt),Ue+=G(oe,K,se,Ie,Te);else if(mt=H(O),typeof mt=="function")for(O=mt.call(O),mt=0;!(oe=O.next()).done;)oe=oe.value,Ie=vt+ot(oe,mt++),Ue+=G(oe,K,se,Ie,Te);else if(Ie==="object"){if(typeof O.then=="function")return G(Rt(O),K,se,oe,Te);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ne(O,K,se){if(O==null)return O;var oe=[],Te=0;return G(O,oe,"","",function(Ie){return K.call(se,Ie,Te++)}),oe}function ce(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(se){(O._status===0||O._status===-1)&&(O._status=1,O._result=se)},function(se){(O._status===0||O._status===-1)&&(O._status=2,O._result=se)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var ze=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ye={map:ne,forEach:function(O,K,se){ne(O,function(){K.apply(this,arguments)},se)},count:function(O){var K=0;return ne(O,function(){K++}),K},toArray:function(O){return ne(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ce.Activity=A,Ce.Children=Ye,Ce.Component=pe,Ce.Fragment=i,Ce.Profiler=l,Ce.PureComponent=ye,Ce.StrictMode=a,Ce.Suspense=g,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Ce.cache=function(O){return function(){return O.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(O,K,se){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var oe=re({},O.props),Te=O.key;if(K!=null)for(Ie in K.key!==void 0&&(Te=""+K.key),K)!w.call(K,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&K.ref===void 0||(oe[Ie]=K[Ie]);var Ie=arguments.length-2;if(Ie===1)oe.children=se;else if(1<Ie){for(var Ue=Array(Ie),vt=0;vt<Ie;vt++)Ue[vt]=arguments[vt+2];oe.children=Ue}return x(O.type,Te,oe)},Ce.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ce.createElement=function(O,K,se){var oe,Te={},Ie=null;if(K!=null)for(oe in K.key!==void 0&&(Ie=""+K.key),K)w.call(K,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Te[oe]=K[oe]);var Ue=arguments.length-2;if(Ue===1)Te.children=se;else if(1<Ue){for(var vt=Array(Ue),mt=0;mt<Ue;mt++)vt[mt]=arguments[mt+2];Te.children=vt}if(O&&O.defaultProps)for(oe in Ue=O.defaultProps,Ue)Te[oe]===void 0&&(Te[oe]=Ue[oe]);return x(O,Ie,Te)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(O){return{$$typeof:y,render:O}},Ce.isValidElement=N,Ce.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:ce}},Ce.memo=function(O,K){return{$$typeof:_,type:O,compare:K===void 0?null:K}},Ce.startTransition=function(O){var K=C.T,se={};C.T=se;try{var oe=O(),Te=C.S;Te!==null&&Te(se,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Me,ze)}catch(Ie){ze(Ie)}finally{K!==null&&se.types!==null&&(K.types=se.types),C.T=K}},Ce.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ce.use=function(O){return C.H.use(O)},Ce.useActionState=function(O,K,se){return C.H.useActionState(O,K,se)},Ce.useCallback=function(O,K){return C.H.useCallback(O,K)},Ce.useContext=function(O){return C.H.useContext(O)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(O,K){return C.H.useDeferredValue(O,K)},Ce.useEffect=function(O,K){return C.H.useEffect(O,K)},Ce.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Ce.useId=function(){return C.H.useId()},Ce.useImperativeHandle=function(O,K,se){return C.H.useImperativeHandle(O,K,se)},Ce.useInsertionEffect=function(O,K){return C.H.useInsertionEffect(O,K)},Ce.useLayoutEffect=function(O,K){return C.H.useLayoutEffect(O,K)},Ce.useMemo=function(O,K){return C.H.useMemo(O,K)},Ce.useOptimistic=function(O,K){return C.H.useOptimistic(O,K)},Ce.useReducer=function(O,K,se){return C.H.useReducer(O,K,se)},Ce.useRef=function(O){return C.H.useRef(O)},Ce.useState=function(O){return C.H.useState(O)},Ce.useSyncExternalStore=function(O,K,se){return C.H.useSyncExternalStore(O,K,se)},Ce.useTransition=function(){return C.H.useTransition()},Ce.version="19.2.0",Ce}var G_;function Im(){return G_||(G_=1,Ud.exports=kb()),Ud.exports}var We=Im(),jd={exports:{}},xl={},Ld={exports:{}},Pd={};var F_;function Ub(){return F_||(F_=1,(function(r){function e(G,ne){var ce=G.length;G.push(ne);e:for(;0<ce;){var ze=ce-1>>>1,Ye=G[ze];if(0<l(Ye,ne))G[ze]=ne,G[ce]=Ye,ce=ze;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ne=G[0],ce=G.pop();if(ce!==ne){G[0]=ce;e:for(var ze=0,Ye=G.length,O=Ye>>>1;ze<O;){var K=2*(ze+1)-1,se=G[K],oe=K+1,Te=G[oe];if(0>l(se,ce))oe<Ye&&0>l(Te,se)?(G[ze]=Te,G[oe]=ce,ze=oe):(G[ze]=se,G[K]=ce,ze=K);else if(oe<Ye&&0>l(Te,ce))G[ze]=Te,G[oe]=ce,ze=oe;else break e}}return ne}function l(G,ne){var ce=G.sortIndex-ne.sortIndex;return ce!==0?ce:G.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var g=[],_=[],S=1,A=null,M=3,H=!1,te=!1,re=!1,$=!1,pe=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;function $e(G){for(var ne=i(_);ne!==null;){if(ne.callback===null)a(_);else if(ne.startTime<=G)a(_),ne.sortIndex=ne.expirationTime,e(g,ne);else break;ne=i(_)}}function it(G){if(re=!1,$e(G),!te)if(i(g)!==null)te=!0,Me||(Me=!0,U());else{var ne=i(_);ne!==null&&Rt(it,ne.startTime-G)}}var Me=!1,C=-1,w=5,x=-1;function V(){return $?!0:!(r.unstable_now()-x<w)}function N(){if($=!1,Me){var G=r.unstable_now();x=G;var ne=!0;try{e:{te=!1,re&&(re=!1,me(C),C=-1),H=!0;var ce=M;try{t:{for($e(G),A=i(g);A!==null&&!(A.expirationTime>G&&V());){var ze=A.callback;if(typeof ze=="function"){A.callback=null,M=A.priorityLevel;var Ye=ze(A.expirationTime<=G);if(G=r.unstable_now(),typeof Ye=="function"){A.callback=Ye,$e(G),ne=!0;break t}A===i(g)&&a(g),$e(G)}else a(g);A=i(g)}if(A!==null)ne=!0;else{var O=i(_);O!==null&&Rt(it,O.startTime-G),ne=!1}}break e}finally{A=null,M=ce,H=!1}ne=void 0}}finally{ne?U():Me=!1}}}var U;if(typeof ye=="function")U=function(){ye(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ot=R.port2;R.port1.onmessage=N,U=function(){ot.postMessage(null)}}else U=function(){pe(N,0)};function Rt(G,ne){C=pe(function(){G(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(G){switch(M){case 1:case 2:case 3:var ne=3;break;default:ne=M}var ce=M;M=ne;try{return G()}finally{M=ce}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ce=M;M=G;try{return ne()}finally{M=ce}},r.unstable_scheduleCallback=function(G,ne,ce){var ze=r.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ze+ce:ze):ce=ze,G){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=ce+Ye,G={id:S++,callback:ne,priorityLevel:G,startTime:ce,expirationTime:Ye,sortIndex:-1},ce>ze?(G.sortIndex=ce,e(_,G),i(g)===null&&G===i(_)&&(re?(me(C),C=-1):re=!0,Rt(it,ce-ze))):(G.sortIndex=Ye,e(g,G),te||H||(te=!0,Me||(Me=!0,U()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var ne=M;return function(){var ce=M;M=ne;try{return G.apply(this,arguments)}finally{M=ce}}}})(Pd)),Pd}var Q_;function jb(){return Q_||(Q_=1,Ld.exports=Ub()),Ld.exports}var zd={exports:{}},cn={};var K_;function Lb(){if(K_)return cn;K_=1;var r=Im();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,_,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:g,containerInfo:_,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,cn.createPortal=function(g,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(g,_,null,S)},cn.flushSync=function(g){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=_,a.p=S,a.d.f()}},cn.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(g,_))},cn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},cn.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var S=_.as,A=y(S,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:H}):S==="script"&&a.d.X(g,{crossOrigin:A,integrity:M,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},cn.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);a.d.M(g,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(g)},cn.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,A=y(S,_.crossOrigin);a.d.L(g,S,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},cn.preloadModule=function(g,_){if(typeof g=="string")if(_){var S=y(_.as,_.crossOrigin);a.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(g)},cn.requestFormReset=function(g){a.d.r(g)},cn.unstable_batchedUpdates=function(g,_){return g(_)},cn.useFormState=function(g,_,S){return d.H.useFormState(g,_,S)},cn.useFormStatus=function(){return d.H.useHostTransitionStatus()},cn.version="19.2.0",cn}var Y_;function Pb(){if(Y_)return zd.exports;Y_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),zd.exports=Lb(),zd.exports}var X_;function zb(){if(X_)return xl;X_=1;var r=jb(),e=Im(),i=Pb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return g(h),t;if(f===o)return g(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,o=f;break}if(E===o){p=!0,o=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=h;break}if(E===o){p=!0,o=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),me=Symbol.for("react.consumer"),ye=Symbol.for("react.context"),$e=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ot(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case pe:return"Profiler";case $:return"StrictMode";case it:return"Suspense";case Me:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case te:return"Portal";case ye:return t.displayName||"Context";case me:return(t._context.displayName||"Context")+".Consumer";case $e:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:ot(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return ot(t(n))}catch{}}return null}var Rt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ze=[],Ye=-1;function O(t){return{current:t}}function K(t){0>Ye||(t.current=ze[Ye],ze[Ye]=null,Ye--)}function se(t,n){Ye++,ze[Ye]=t.current,t.current=n}var oe=O(null),Te=O(null),Ie=O(null),Ue=O(null);function vt(t,n){switch(se(Ie,n),se(Te,t),se(oe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?c_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=c_(n),t=h_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(oe),se(oe,t)}function mt(){K(oe),K(Te),K(Ie)}function xn(t){t.memoizedState!==null&&se(Ue,t);var n=oe.current,s=h_(n,t.type);n!==s&&(se(Te,t),se(oe,s))}function Wi(t){Te.current===t&&(K(oe),K(Te)),Ue.current===t&&(K(Ue),bl._currentValue=ce)}var Ti,es;function ee(t){if(Ti===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ti=n&&n[1]||"",es=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ti+t+es}var W=!1;function ae(t,n){if(!t||W)return"";W=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var z=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){z=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){z=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),P=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===P.length)for(o=I.length-1,h=P.length-1;1<=o&&0<=h&&I[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==P[h]){var F=`
`+I[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{W=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ee(s):""}function be(t,n){switch(t.tag){case 26:case 27:case 5:return ee(t.type);case 16:return ee("Lazy");case 13:return t.child!==n&&n!==null?ee("Suspense Fallback"):ee("Suspense");case 19:return ee("SuspenseList");case 0:case 15:return ae(t.type,!1);case 11:return ae(t.type.render,!1);case 1:return ae(t.type,!0);case 31:return ee("Activity");default:return""}}function Xe(t){try{var n="",s=null;do n+=be(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ae=Object.prototype.hasOwnProperty,ke=r.unstable_scheduleCallback,Re=r.unstable_cancelCallback,je=r.unstable_shouldYield,St=r.unstable_requestPaint,Se=r.unstable_now,lt=r.unstable_getCurrentPriorityLevel,Z=r.unstable_ImmediatePriority,he=r.unstable_UserBlockingPriority,Et=r.unstable_NormalPriority,Nt=r.unstable_LowPriority,xt=r.unstable_IdlePriority,zn=r.log,In=r.unstable_setDisableYieldValue,Cn=null,en=null;function Bn(t){if(typeof zn=="function"&&In(t),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(Cn,t)}catch{}}var Dt=Math.clz32?Math.clz32:uu,lu=Math.log,da=Math.LN2;function uu(t){return t>>>=0,t===0?32:31-(lu(t)/da|0)|0}var bi=256,Cr=262144,Ut=4194304;function Si(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ai(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Si(o):(p&=E,p!==0?h=Si(p):s||(s=E&~t,s!==0&&(h=Si(s))))):(E=o&~f,E!==0?h=Si(E):p!==0?h=Si(p):s||(s=o&~t,s!==0&&(h=Si(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function ai(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Lh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cu(){var t=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),t}function wi(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Nr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ph(t,n,s,o,h,f){var p=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,P=t.hiddenUpdates;for(s=p&~s;0<s;){var F=31-Dt(s),Y=1<<F;E[F]=0,I[F]=-1;var z=P[F];if(z!==null)for(P[F]=null,F=0;F<z.length;F++){var q=z[F];q!==null&&(q.lane&=-536870913)}s&=~Y}o!==0&&Dr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Dr(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Dt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function xo(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-Dt(s),h=1<<o;h&n|t[o]&n&&(t[o]|=n),s&=~h}}function Io(t,n){var s=n&-n;return s=(s&42)!==0?1:Or(s),(s&(t.suspendedLanes|n))!==0?0:s}function Or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ts(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function hu(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:V_(t.type))}function oi(t,n){var s=ne.p;try{return ne.p=t,n()}finally{ne.p=s}}var li=Math.random().toString(36).slice(2),jt="__reactFiber$"+li,$t="__reactProps$"+li,Ri="__reactContainer$"+li,ma="__reactEvents$"+li,zh="__reactListeners$"+li,fu="__reactHandles$"+li,du="__reactResources$"+li,xi="__reactMarker$"+li;function ga(t){delete t[jt],delete t[$t],delete t[ma],delete t[zh],delete t[fu]}function Ii(t){var n=t[jt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Ri]||s[jt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=__(t);t!==null;){if(s=t[jt])return s;t=__(t)}return n}t=s,s=t.parentNode}return null}function qn(t){if(t=t[jt]||t[Ri]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Nn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ci(t){var n=t[du];return n||(n=t[du]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Lt(t){t[xi]=!0}var Co=new Set,No={};function Ni(t,n){Di(t,n),Di(t+"Capture",n)}function Di(t,n){for(No[t]=n,t=0;t<n.length;t++)Co.add(n[t])}var Do=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},Mo={};function mu(t){return Ae.call(Mo,t)?!0:Ae.call(Oo,t)?!1:Do.test(t)?Mo[t]=!0:(Oo[t]=!0,!1)}function pa(t,n,s){if(mu(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Dn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Pt(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ds(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Vo(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function st(t){if(!t._valueTracker){var n=Ds(t)?"checked":"value";t._valueTracker=Vo(t,n,""+t[n])}}function Mr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=Ds(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function Oi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vr=/[\n"\\]/g;function _n(t){return t.replace(Vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ya(t,n,s,o,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Jt(n)):t.value!==""+Jt(n)&&(t.value=""+Jt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?ko(t,p,Jt(n)):s!=null?ko(t,p,Jt(s)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Jt(E):t.removeAttribute("name")}function gu(t,n,s,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){st(t);return}s=s!=null?""+Jt(s):"",n=n!=null?""+Jt(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),st(t)}function ko(t,n,s){n==="number"&&Oi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Os(t,n,s,o){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Jt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function pu(t,n,s){if(n!=null&&(n=""+Jt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Jt(s):""}function Ms(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Rt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Jt(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),st(t)}function vn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var yu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||yu.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function jo(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Uo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Uo(t,f,n[f])}function _a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return Vs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ui(){}var Lo=null;function Hn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ks=null,Mi=null;function kr(t){var n=qn(t);if(n&&(t=n.stateNode)){var s=t[$t]||null;e:switch(t=n.stateNode,n.type){case"input":if(ya(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+_n(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var h=o[$t]||null;if(!h)throw Error(a(90));ya(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&Mr(o)}break e;case"textarea":pu(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Os(t,!!s.multiple,n,!1)}}}var Ea=!1;function Us(t,n,s){if(Ea)return t(n,s);Ea=!0;try{var o=t(n);return o}finally{if(Ea=!1,(ks!==null||Mi!==null)&&(hc(),ks&&(n=ks,t=Mi,Mi=ks=null,kr(n),t)))for(n=0;n<t.length;n++)kr(t[n])}}function ci(t,n){var s=t.stateNode;if(s===null)return null;var o=s[$t]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ur=!1;if(Gn)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Ur=!1}var Vi=null,Po=null,jr=null;function zo(){if(jr)return jr;var t,n=Po,s=n.length,o,h="value"in Vi?Vi.value:Vi.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var p=s-t;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return jr=h.slice(t,1<o?1-o:void 0)}function Lr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ns(){return!0}function hi(){return!1}function tn(t){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ns:hi,this.isPropagationStopped=hi,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),n}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=tn(is),js=A({},is,{view:0,detail:0}),Bo=tn(js),Ls,Ta,Ui,ba=A({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ui&&(Ui&&t.type==="mousemove"?(Ls=t.screenX-Ui.screenX,Ta=t.screenY-Ui.screenY):Ta=Ls=0,Ui=t),Ls)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),qo=tn(ba),Pr=A({},ba,{dataTransfer:0}),vu=tn(Pr),Eu=A({},js,{relatedTarget:0}),zr=tn(Eu),Ho=A({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),Tu=tn(Ho),Sa=A({},is,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bu=tn(Sa),Su=A({},is,{data:0}),ji=tn(Su),Au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ru[t])?!!n[t]:!1}function Ps(){return xu}var gn=A({},js,{key:function(t){if(t.key){var n=Au[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(t){return t.type==="keypress"?Lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Iu=tn(gn),Cu=A({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ss=tn(Cu),u=A({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),m=tn(u),v=A({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=tn(v),j=A({},ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=tn(j),ie=A({},is,{newState:0,oldState:0}),De=tn(ie),Ot=[9,13,27,32],et=Gn&&"CompositionEvent"in window,Tt=null;Gn&&"documentMode"in document&&(Tt=document.documentMode);var Fn=Gn&&"TextEvent"in window&&!Tt,Li=Gn&&(!et||Tt&&8<Tt&&11>=Tt),fi=" ",di=!1;function Br(t,n){switch(t){case"keyup":return Ot.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wa=!1;function iT(t,n){switch(t){case"compositionend":return Aa(n);case"keypress":return n.which!==32?null:(di=!0,fi);case"textInput":return t=n.data,t===fi&&di?null:t;default:return null}}function sT(t,n){if(wa)return t==="compositionend"||!et&&Br(t,n)?(t=zo(),jr=Po=Vi=null,wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Li&&n.locale!=="ko"?null:n.data;default:return null}}var rT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!rT[t.type]:n==="textarea"}function bg(t,n,s,o){ks?Mi?Mi.push(o):Mi=[o]:ks=o,n=_c(n,"onChange"),0<n.length&&(s=new ki("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var Go=null,Fo=null;function aT(t){s_(t,0)}function Nu(t){var n=Nn(t);if(Mr(n))return t}function Sg(t,n){if(t==="change")return n}var Ag=!1;if(Gn){var Bh;if(Gn){var qh="oninput"in document;if(!qh){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),qh=typeof wg.oninput=="function"}Bh=qh}else Bh=!1;Ag=Bh&&(!document.documentMode||9<document.documentMode)}function Rg(){Go&&(Go.detachEvent("onpropertychange",xg),Fo=Go=null)}function xg(t){if(t.propertyName==="value"&&Nu(Fo)){var n=[];bg(n,Fo,t,Hn(t)),Us(aT,n)}}function oT(t,n,s){t==="focusin"?(Rg(),Go=n,Fo=s,Go.attachEvent("onpropertychange",xg)):t==="focusout"&&Rg()}function lT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nu(Fo)}function uT(t,n){if(t==="click")return Nu(n)}function cT(t,n){if(t==="input"||t==="change")return Nu(n)}function hT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var On=typeof Object.is=="function"?Object.is:hT;function Qo(t,n){if(On(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Ae.call(n,h)||!On(t[h],n[h]))return!1}return!0}function Ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cg(t,n){var s=Ig(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ig(s)}}function Ng(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ng(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Oi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Oi(t.document)}return n}function Hh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var fT=Gn&&"documentMode"in document&&11>=document.documentMode,Ra=null,Gh=null,Ko=null,Fh=!1;function Og(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Fh||Ra==null||Ra!==Oi(o)||(o=Ra,"selectionStart"in o&&Hh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ko&&Qo(Ko,o)||(Ko=o,o=_c(Gh,"onSelect"),0<o.length&&(n=new ki("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=Ra)))}function qr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var xa={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},Qh={},Mg={};Gn&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Hr(t){if(Qh[t])return Qh[t];if(!xa[t])return t;var n=xa[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Mg)return Qh[t]=n[s];return t}var Vg=Hr("animationend"),kg=Hr("animationiteration"),Ug=Hr("animationstart"),dT=Hr("transitionrun"),mT=Hr("transitionstart"),gT=Hr("transitioncancel"),jg=Hr("transitionend"),Lg=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function mi(t,n){Lg.set(t,n),Ni(n,[t])}var Du=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Qn=[],Ia=0,Yh=0;function Ou(){for(var t=Ia,n=Yh=Ia=0;n<t;){var s=Qn[n];Qn[n++]=null;var o=Qn[n];Qn[n++]=null;var h=Qn[n];Qn[n++]=null;var f=Qn[n];if(Qn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Pg(s,h,f)}}function Mu(t,n,s,o){Qn[Ia++]=t,Qn[Ia++]=n,Qn[Ia++]=s,Qn[Ia++]=o,Yh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Xh(t,n,s,o){return Mu(t,n,s,o),Vu(t)}function Gr(t,n){return Mu(t,null,null,n),Vu(t)}function Pg(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Dt(s),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Vu(t){if(50<gl)throw gl=0,rd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ca={};function pT(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,n,s,o){return new pT(t,n,s,o)}function $h(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rs(t,n){var s=t.alternate;return s===null?(s=Mn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function zg(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ku(t,n,s,o,h,f){var p=0;if(o=t,typeof t=="function")$h(t)&&(p=1);else if(typeof t=="string")p=Tb(t,s,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=Mn(31,s,n,h),t.elementType=x,t.lanes=f,t;case re:return Fr(s.children,h,f,n);case $:p=8,h|=24;break;case pe:return t=Mn(12,s,n,h|2),t.elementType=pe,t.lanes=f,t;case it:return t=Mn(13,s,n,h),t.elementType=it,t.lanes=f,t;case Me:return t=Mn(19,s,n,h),t.elementType=Me,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ye:p=10;break e;case me:p=9;break e;case $e:p=11;break e;case C:p=14;break e;case w:p=16,o=null;break e}p=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Mn(p,s,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Fr(t,n,s,o){return t=Mn(7,t,o,n),t.lanes=s,t}function Jh(t,n,s){return t=Mn(6,t,null,n),t.lanes=s,t}function Bg(t){var n=Mn(18,null,null,0);return n.stateNode=t,n}function Zh(t,n,s){return n=Mn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var qg=new WeakMap;function Kn(t,n){if(typeof t=="object"&&t!==null){var s=qg.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Xe(n)},qg.set(t,n),n)}return{value:t,source:n,stack:Xe(n)}}var Na=[],Da=0,Uu=null,Yo=0,Yn=[],Xn=0,zs=null,Pi=1,zi="";function as(t,n){Na[Da++]=Yo,Na[Da++]=Uu,Uu=t,Yo=n}function Hg(t,n,s){Yn[Xn++]=Pi,Yn[Xn++]=zi,Yn[Xn++]=zs,zs=t;var o=Pi;t=zi;var h=32-Dt(o)-1;o&=~(1<<h),s+=1;var f=32-Dt(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Pi=1<<32-Dt(n)+h|s<<h|o,zi=f+t}else Pi=1<<f|s<<h|o,zi=t}function Wh(t){t.return!==null&&(as(t,1),Hg(t,1,0))}function ef(t){for(;t===Uu;)Uu=Na[--Da],Na[Da]=null,Yo=Na[--Da],Na[Da]=null;for(;t===zs;)zs=Yn[--Xn],Yn[Xn]=null,zi=Yn[--Xn],Yn[Xn]=null,Pi=Yn[--Xn],Yn[Xn]=null}function Gg(t,n){Yn[Xn++]=Pi,Yn[Xn++]=zi,Yn[Xn++]=zs,Pi=n.id,zi=n.overflow,zs=t}var nn=null,pt=null,Qe=!1,Bs=null,$n=!1,tf=Error(a(519));function qs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xo(Kn(n,t)),tf}function Fg(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[jt]=t,n[$t]=o,s){case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":case"embed":Pe("load",n);break;case"video":case"audio":for(s=0;s<yl.length;s++)Pe(yl[s],n);break;case"source":Pe("error",n);break;case"img":case"image":case"link":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"input":Pe("invalid",n),gu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Pe("invalid",n);break;case"textarea":Pe("invalid",n),Ms(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||l_(n.textContent,s)?(o.popover!=null&&(Pe("beforetoggle",n),Pe("toggle",n)),o.onScroll!=null&&Pe("scroll",n),o.onScrollEnd!=null&&Pe("scrollend",n),o.onClick!=null&&(n.onclick=ui),n=!0):n=!1,n||qs(t,!0)}function Qg(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:nn=nn.return}}function Oa(t){if(t!==nn)return!1;if(!Qe)return Qg(t),Qe=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Ed(t.type,t.memoizedProps)),s=!s),s&&pt&&qs(t),Qg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=y_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=y_(t)}else n===27?(n=pt,nr(t.type)?(t=wd,wd=null,pt=t):pt=n):pt=nn?Zn(t.stateNode.nextSibling):null;return!0}function Qr(){pt=nn=null,Qe=!1}function nf(){var t=Bs;return t!==null&&(Sn===null?Sn=t:Sn.push.apply(Sn,t),Bs=null),t}function Xo(t){Bs===null?Bs=[t]:Bs.push(t)}var sf=O(null),Kr=null,os=null;function Hs(t,n,s){se(sf,n._currentValue),n._currentValue=s}function ls(t){t._currentValue=sf.current,K(sf)}function rf(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function af(t,n,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),rf(f.return,s,t),o||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),rf(p,s,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ma(t,n,s,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;On(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ue.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(bl):t=[bl])}h=h.return}t!==null&&af(n,t,s,o),n.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!On(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yr(t){Kr=t,os=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return Kg(Kr,t)}function Lu(t,n){return Kr===null&&Yr(t),Kg(t,n)}function Kg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},os===null){if(t===null)throw Error(a(308));os=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else os=os.next=n;return s}var yT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},_T=r.unstable_scheduleCallback,vT=r.unstable_NormalPriority,zt={$$typeof:ye,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new yT,data:new Map,refCount:0}}function $o(t){t.refCount--,t.refCount===0&&_T(vT,function(){t.controller.abort()})}var Jo=null,lf=0,Va=0,ka=null;function ET(t,n){if(Jo===null){var s=Jo=[];lf=0,Va=hd(),ka={status:"pending",value:void 0,then:function(o){s.push(o)}}}return lf++,n.then(Yg,Yg),n}function Yg(){if(--lf===0&&Jo!==null){ka!==null&&(ka.status="fulfilled");var t=Jo;Jo=null,Va=0,ka=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function TT(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Xg=G.S;G.S=function(t,n){Oy=Se(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&ET(t,n),Xg!==null&&Xg(t,n)};var Xr=O(null);function uf(){var t=Xr.current;return t!==null?t:dt.pooledCache}function Pu(t,n){n===null?se(Xr,Xr.current):se(Xr,n.pool)}function $g(){var t=uf();return t===null?null:{parent:zt._currentValue,pool:t}}var Ua=Error(a(460)),cf=Error(a(474)),zu=Error(a(542)),Bu={then:function(){}};function Jg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(ui,ui),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ep(t),t;default:if(typeof n.status=="string")n.then(ui,ui);else{if(t=dt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ep(t),t}throw Jr=n,Ua}}function $r(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Jr=s,Ua):s}}var Jr=null;function Wg(){if(Jr===null)throw Error(a(459));var t=Jr;return Jr=null,t}function ep(t){if(t===Ua||t===zu)throw Error(a(483))}var ja=null,Zo=0;function qu(t){var n=Zo;return Zo+=1,ja===null&&(ja=[]),Zg(ja,t,n)}function Wo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Hu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function tp(t){function n(k,D){if(t){var L=k.deletions;L===null?(k.deletions=[D],k.flags|=16):L.push(D)}}function s(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=rs(k,D),k.index=0,k.sibling=null,k}function f(k,D,L){return k.index=L,t?(L=k.alternate,L!==null?(L=L.index,L<D?(k.flags|=67108866,D):L):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,L,Q){return D===null||D.tag!==6?(D=Jh(L,k.mode,Q),D.return=k,D):(D=h(D,L),D.return=k,D)}function I(k,D,L,Q){var ge=L.type;return ge===re?F(k,D,L.props.children,Q,L.key):D!==null&&(D.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&$r(ge)===D.type)?(D=h(D,L.props),Wo(D,L),D.return=k,D):(D=ku(L.type,L.key,L.props,null,k.mode,Q),Wo(D,L),D.return=k,D)}function P(k,D,L,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Zh(L,k.mode,Q),D.return=k,D):(D=h(D,L.children||[]),D.return=k,D)}function F(k,D,L,Q,ge){return D===null||D.tag!==7?(D=Fr(L,k.mode,Q,ge),D.return=k,D):(D=h(D,L),D.return=k,D)}function Y(k,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Jh(""+D,k.mode,L),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return L=ku(D.type,D.key,D.props,null,k.mode,L),Wo(L,D),L.return=k,L;case te:return D=Zh(D,k.mode,L),D.return=k,D;case w:return D=$r(D),Y(k,D,L)}if(Rt(D)||U(D))return D=Fr(D,k.mode,L,null),D.return=k,D;if(typeof D.then=="function")return Y(k,qu(D),L);if(D.$$typeof===ye)return Y(k,Lu(k,D),L);Hu(k,D)}return null}function z(k,D,L,Q){var ge=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ge!==null?null:E(k,D,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case H:return L.key===ge?I(k,D,L,Q):null;case te:return L.key===ge?P(k,D,L,Q):null;case w:return L=$r(L),z(k,D,L,Q)}if(Rt(L)||U(L))return ge!==null?null:F(k,D,L,Q,null);if(typeof L.then=="function")return z(k,D,qu(L),Q);if(L.$$typeof===ye)return z(k,D,Lu(k,L),Q);Hu(k,L)}return null}function q(k,D,L,Q,ge){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(L)||null,E(D,k,""+Q,ge);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return k=k.get(Q.key===null?L:Q.key)||null,I(D,k,Q,ge);case te:return k=k.get(Q.key===null?L:Q.key)||null,P(D,k,Q,ge);case w:return Q=$r(Q),q(k,D,L,Q,ge)}if(Rt(Q)||U(Q))return k=k.get(L)||null,F(D,k,Q,ge,null);if(typeof Q.then=="function")return q(k,D,L,qu(Q),ge);if(Q.$$typeof===ye)return q(k,D,L,Lu(D,Q),ge);Hu(D,Q)}return null}function ue(k,D,L,Q){for(var ge=null,Je=null,fe=D,Ve=D=0,qe=null;fe!==null&&Ve<L.length;Ve++){fe.index>Ve?(qe=fe,fe=null):qe=fe.sibling;var Ze=z(k,fe,L[Ve],Q);if(Ze===null){fe===null&&(fe=qe);break}t&&fe&&Ze.alternate===null&&n(k,fe),D=f(Ze,D,Ve),Je===null?ge=Ze:Je.sibling=Ze,Je=Ze,fe=qe}if(Ve===L.length)return s(k,fe),Qe&&as(k,Ve),ge;if(fe===null){for(;Ve<L.length;Ve++)fe=Y(k,L[Ve],Q),fe!==null&&(D=f(fe,D,Ve),Je===null?ge=fe:Je.sibling=fe,Je=fe);return Qe&&as(k,Ve),ge}for(fe=o(fe);Ve<L.length;Ve++)qe=q(fe,k,Ve,L[Ve],Q),qe!==null&&(t&&qe.alternate!==null&&fe.delete(qe.key===null?Ve:qe.key),D=f(qe,D,Ve),Je===null?ge=qe:Je.sibling=qe,Je=qe);return t&&fe.forEach(function(or){return n(k,or)}),Qe&&as(k,Ve),ge}function ve(k,D,L,Q){if(L==null)throw Error(a(151));for(var ge=null,Je=null,fe=D,Ve=D=0,qe=null,Ze=L.next();fe!==null&&!Ze.done;Ve++,Ze=L.next()){fe.index>Ve?(qe=fe,fe=null):qe=fe.sibling;var or=z(k,fe,Ze.value,Q);if(or===null){fe===null&&(fe=qe);break}t&&fe&&or.alternate===null&&n(k,fe),D=f(or,D,Ve),Je===null?ge=or:Je.sibling=or,Je=or,fe=qe}if(Ze.done)return s(k,fe),Qe&&as(k,Ve),ge;if(fe===null){for(;!Ze.done;Ve++,Ze=L.next())Ze=Y(k,Ze.value,Q),Ze!==null&&(D=f(Ze,D,Ve),Je===null?ge=Ze:Je.sibling=Ze,Je=Ze);return Qe&&as(k,Ve),ge}for(fe=o(fe);!Ze.done;Ve++,Ze=L.next())Ze=q(fe,k,Ve,Ze.value,Q),Ze!==null&&(t&&Ze.alternate!==null&&fe.delete(Ze.key===null?Ve:Ze.key),D=f(Ze,D,Ve),Je===null?ge=Ze:Je.sibling=Ze,Je=Ze);return t&&fe.forEach(function(Ob){return n(k,Ob)}),Qe&&as(k,Ve),ge}function ft(k,D,L,Q){if(typeof L=="object"&&L!==null&&L.type===re&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case H:e:{for(var ge=L.key;D!==null;){if(D.key===ge){if(ge=L.type,ge===re){if(D.tag===7){s(k,D.sibling),Q=h(D,L.props.children),Q.return=k,k=Q;break e}}else if(D.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&$r(ge)===D.type){s(k,D.sibling),Q=h(D,L.props),Wo(Q,L),Q.return=k,k=Q;break e}s(k,D);break}else n(k,D);D=D.sibling}L.type===re?(Q=Fr(L.props.children,k.mode,Q,L.key),Q.return=k,k=Q):(Q=ku(L.type,L.key,L.props,null,k.mode,Q),Wo(Q,L),Q.return=k,k=Q)}return p(k);case te:e:{for(ge=L.key;D!==null;){if(D.key===ge)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){s(k,D.sibling),Q=h(D,L.children||[]),Q.return=k,k=Q;break e}else{s(k,D);break}else n(k,D);D=D.sibling}Q=Zh(L,k.mode,Q),Q.return=k,k=Q}return p(k);case w:return L=$r(L),ft(k,D,L,Q)}if(Rt(L))return ue(k,D,L,Q);if(U(L)){if(ge=U(L),typeof ge!="function")throw Error(a(150));return L=ge.call(L),ve(k,D,L,Q)}if(typeof L.then=="function")return ft(k,D,qu(L),Q);if(L.$$typeof===ye)return ft(k,D,Lu(k,L),Q);Hu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(s(k,D.sibling),Q=h(D,L),Q.return=k,k=Q):(s(k,D),Q=Jh(L,k.mode,Q),Q.return=k,k=Q),p(k)):s(k,D)}return function(k,D,L,Q){try{Zo=0;var ge=ft(k,D,L,Q);return ja=null,ge}catch(fe){if(fe===Ua||fe===zu)throw fe;var Je=Mn(29,fe,null,k.mode);return Je.lanes=Q,Je.return=k,Je}finally{}}}var Zr=tp(!0),np=tp(!1),Gs=!1;function hf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qs(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(tt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Vu(t),Pg(t,null,s),n}return Mu(t,o,n,s),Vu(t)}function el(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,xo(t,s)}}function df(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var mf=!1;function tl(){if(mf){var t=ka;if(t!==null)throw t}}function nl(t,n,s,o){mf=!1;var h=t.updateQueue;Gs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,P=I.next;I.next=null,p===null?f=P:p.next=P,p=I;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=P:E.next=P,F.lastBaseUpdate=I))}if(f!==null){var Y=h.baseState;p=0,F=P=I=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Be&z)===z:(o&z)===z){z!==0&&z===Va&&(mf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ue=t,ve=E;z=n;var ft=s;switch(ve.tag){case 1:if(ue=ve.payload,typeof ue=="function"){Y=ue.call(ft,Y,z);break e}Y=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ve.payload,z=typeof ue=="function"?ue.call(ft,Y,z):ue,z==null)break e;Y=A({},Y,z);break e;case 2:Gs=!0}}z=E.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(P=F=q,I=Y):F=F.next=q,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(I=Y),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Js|=p,t.lanes=p,t.memoizedState=Y}}function ip(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function sp(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)ip(s[t],n)}var La=O(null),Gu=O(0);function rp(t,n){t=ys,se(Gu,t),se(La,n),ys=t|n.baseLanes}function gf(){se(Gu,ys),se(La,La.current)}function pf(){ys=Gu.current,K(La),K(Gu)}var Vn=O(null),Jn=null;function Ks(t){var n=t.alternate;se(Mt,Mt.current&1),se(Vn,t),Jn===null&&(n===null||La.current!==null||n.memoizedState!==null)&&(Jn=t)}function yf(t){se(Mt,Mt.current),se(Vn,t),Jn===null&&(Jn=t)}function ap(t){t.tag===22?(se(Mt,Mt.current),se(Vn,t),Jn===null&&(Jn=t)):Ys()}function Ys(){se(Mt,Mt.current),se(Vn,Vn.current)}function kn(t){K(Vn),Jn===t&&(Jn=null),K(Mt)}var Mt=O(0);function Fu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Sd(s)||Ad(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var us=0,Oe=null,ct=null,Bt=null,Qu=!1,Pa=!1,Wr=!1,Ku=0,il=0,za=null,bT=0;function It(){throw Error(a(321))}function _f(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!On(t[s],n[s]))return!1;return!0}function vf(t,n,s,o,h,f){return us=f,Oe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Hp:Vf,Wr=!1,f=s(o,h),Wr=!1,Pa&&(f=lp(n,s,o,h)),op(t),f}function op(t){G.H=al;var n=ct!==null&&ct.next!==null;if(us=0,Bt=ct=Oe=null,Qu=!1,il=0,za=null,n)throw Error(a(300));t===null||qt||(t=t.dependencies,t!==null&&ju(t)&&(qt=!0))}function lp(t,n,s,o){Oe=t;var h=0;do{if(Pa&&(za=null),il=0,Pa=!1,25<=h)throw Error(a(301));if(h+=1,Bt=ct=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Gp,f=n(s,o)}while(Pa);return f}function ST(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?sl(n):n,t=t.useState()[0],(ct!==null?ct.memoizedState:null)!==t&&(Oe.flags|=1024),n}function Ef(){var t=Ku!==0;return Ku=0,t}function Tf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function bf(t){if(Qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Qu=!1}us=0,Bt=ct=Oe=null,Pa=!1,il=Ku=0,za=null}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Oe.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function Vt(){if(ct===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var n=Bt===null?Oe.memoizedState:Bt.next;if(n!==null)Bt=n,ct=t;else{if(t===null)throw Oe.alternate===null?Error(a(467)):Error(a(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Bt===null?Oe.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var n=il;return il+=1,za===null&&(za=[]),t=Zg(za,t,n),n=Oe,(Bt===null?n.memoizedState:Bt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Hp:Vf),t}function Xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===ye)return sn(t)}throw Error(a(438,String(t)))}function Sf(t){var n=null,s=Oe.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Oe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Yu(),Oe.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=V;return n.index++,s}function cs(t,n){return typeof n=="function"?n(t):n}function $u(t){var n=Vt();return Af(n,ct,t)}function Af(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,I=null,P=n,F=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Be&Y)===Y:(us&Y)===Y){var z=P.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Va&&(F=!0);else if((us&z)===z){P=P.next,z===Va&&(F=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=Y,p=f):I=I.next=Y,Oe.lanes|=z,Js|=z;Y=P.action,Wr&&s(f,Y),f=P.hasEagerState?P.eagerState:s(f,Y)}else z={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=z,p=f):I=I.next=z,Oe.lanes|=Y,Js|=Y;P=P.next}while(P!==null&&P!==n);if(I===null?p=f:I.next=E,!On(f,t.memoizedState)&&(qt=!0,F&&(s=ka,s!==null)))throw s;t.memoizedState=f,t.baseState=p,t.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function wf(t){var n=Vt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);On(f,n.memoizedState)||(qt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function up(t,n,s){var o=Oe,h=Vt(),f=Qe;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!On((ct||h).memoizedState,s);if(p&&(h.memoizedState=s,qt=!0),h=h.queue,If(fp.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||Bt!==null&&Bt.memoizedState.tag&1){if(o.flags|=2048,Ba(9,{destroy:void 0},hp.bind(null,o,h,s,n),null),dt===null)throw Error(a(349));f||(us&127)!==0||cp(o,n,s)}return s}function cp(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Oe.updateQueue,n===null?(n=Yu(),Oe.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function hp(t,n,s,o){n.value=s,n.getSnapshot=o,dp(n)&&mp(t)}function fp(t,n,s){return s(function(){dp(n)&&mp(t)})}function dp(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!On(t,s)}catch{return!0}}function mp(t){var n=Gr(t,2);n!==null&&An(n,t,2)}function Rf(t){var n=pn();if(typeof t=="function"){var s=t;if(t=s(),Wr){Bn(!0);try{s()}finally{Bn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:t},n}function gp(t,n,s,o){return t.baseState=s,Af(t,ct,typeof o=="function"?o:cs)}function AT(t,n,s,o,h){if(Wu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,pp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function pp(t,n){var s=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=s(h,o),I=G.S;I!==null&&I(p,E),yp(t,n,E)}catch(P){xf(t,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=s(h,o),yp(t,n,f)}catch(P){xf(t,n,P)}}function yp(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){_p(t,n,o)},function(o){return xf(t,n,o)}):_p(t,n,s)}function _p(t,n,s){n.status="fulfilled",n.value=s,vp(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,pp(t,s)))}function xf(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,vp(n),n=n.next;while(n!==o)}t.action=null}function vp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ep(t,n){return n}function Tp(t,n){if(Qe){var s=dt.formState;if(s!==null){e:{var o=Oe;if(Qe){if(pt){t:{for(var h=pt,f=$n;h.nodeType!==8;){if(!f){h=null;break t}if(h=Zn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){pt=Zn(h.nextSibling),o=h.data==="F!";break e}}qs(o)}o=!1}o&&(n=s[0])}}return s=pn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ep,lastRenderedState:n},s.queue=o,s=zp.bind(null,Oe,o),o.dispatch=s,o=Rf(!1),f=Mf.bind(null,Oe,!1,o.queue),o=pn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,s=AT.bind(null,Oe,h,f,s),h.dispatch=s,o.memoizedState=t,[n,s,!1]}function bp(t){var n=Vt();return Sp(n,ct,t)}function Sp(t,n,s){if(n=Af(t,n,Ep)[0],t=$u(cs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=sl(n)}catch(p){throw p===Ua?zu:p}else o=n;n=Vt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Oe.flags|=2048,Ba(9,{destroy:void 0},wT.bind(null,h,s),null)),[o,f,t]}function wT(t,n){t.action=n}function Ap(t){var n=Vt(),s=ct;if(s!==null)return Sp(n,s,t);Vt(),n=n.memoizedState,s=Vt();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function Ba(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Oe.updateQueue,n===null&&(n=Yu(),Oe.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function wp(){return Vt().memoizedState}function Ju(t,n,s,o){var h=pn();Oe.flags|=t,h.memoizedState=Ba(1|n,{destroy:void 0},s,o===void 0?null:o)}function Zu(t,n,s,o){var h=Vt();o=o===void 0?null:o;var f=h.memoizedState.inst;ct!==null&&o!==null&&_f(o,ct.memoizedState.deps)?h.memoizedState=Ba(n,f,s,o):(Oe.flags|=t,h.memoizedState=Ba(1|n,f,s,o))}function Rp(t,n){Ju(8390656,8,t,n)}function If(t,n){Zu(2048,8,t,n)}function RT(t){Oe.flags|=4;var n=Oe.updateQueue;if(n===null)n=Yu(),Oe.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function xp(t){var n=Vt().memoizedState;return RT({ref:n,nextImpl:t}),function(){if((tt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ip(t,n){return Zu(4,2,t,n)}function Cp(t,n){return Zu(4,4,t,n)}function Np(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Dp(t,n,s){s=s!=null?s.concat([t]):null,Zu(4,4,Np.bind(null,n,t),s)}function Cf(){}function Op(t,n){var s=Vt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&_f(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Mp(t,n){var s=Vt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&_f(n,o[1]))return o[0];if(o=t(),Wr){Bn(!0);try{t()}finally{Bn(!1)}}return s.memoizedState=[o,n],o}function Nf(t,n,s){return s===void 0||(us&1073741824)!==0&&(Be&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Vy(),Oe.lanes|=t,Js|=t,s)}function Vp(t,n,s,o){return On(s,n)?s:La.current!==null?(t=Nf(t,s,o),On(t,n)||(qt=!0),t):(us&42)===0||(us&1073741824)!==0&&(Be&261930)===0?(qt=!0,t.memoizedState=s):(t=Vy(),Oe.lanes|=t,Js|=t,n)}function kp(t,n,s,o,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,Mf(t,!1,n,s);try{var I=h(),P=G.S;if(P!==null&&P(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=TT(I,o);rl(t,n,F,Ln(t))}else rl(t,n,o,Ln(t))}catch(Y){rl(t,n,{then:function(){},status:"rejected",reason:Y},Ln())}finally{ne.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function xT(){}function Df(t,n,s,o){if(t.tag!==5)throw Error(a(476));var h=Up(t).queue;kp(t,h,n,ce,s===null?xT:function(){return jp(t),s(o)})}function Up(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:ce},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function jp(t){var n=Up(t);n.next===null&&(n=t.alternate.memoizedState),rl(t,n.next.queue,{},Ln())}function Of(){return sn(bl)}function Lp(){return Vt().memoizedState}function Pp(){return Vt().memoizedState}function IT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Ln();t=Fs(s);var o=Qs(n,t,s);o!==null&&(An(o,n,s),el(o,n,s)),n={cache:of()},t.payload=n;return}n=n.return}}function CT(t,n,s){var o=Ln();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Wu(t)?Bp(n,s):(s=Xh(t,n,s,o),s!==null&&(An(s,t,o),qp(s,n,o)))}function zp(t,n,s){var o=Ln();rl(t,n,s,o)}function rl(t,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Wu(t))Bp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,On(E,p))return Mu(t,n,h,0),dt===null&&Ou(),!1}catch{}finally{}if(s=Xh(t,n,h,o),s!==null)return An(s,t,o),qp(s,n,o),!0}return!1}function Mf(t,n,s,o){if(o={lane:2,revertLane:hd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Wu(t)){if(n)throw Error(a(479))}else n=Xh(t,s,o,2),n!==null&&An(n,t,2)}function Wu(t){var n=t.alternate;return t===Oe||n!==null&&n===Oe}function Bp(t,n){Pa=Qu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function qp(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,xo(t,s)}}var al={readContext:sn,use:Xu,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};al.useEffectEvent=It;var Hp={readContext:sn,use:Xu,useCallback:function(t,n){return pn().memoizedState=[t,n===void 0?null:n],t},useContext:sn,useEffect:Rp,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Ju(4194308,4,Np.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Ju(4194308,4,t,n)},useInsertionEffect:function(t,n){Ju(4,2,t,n)},useMemo:function(t,n){var s=pn();n=n===void 0?null:n;var o=t();if(Wr){Bn(!0);try{t()}finally{Bn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=pn();if(s!==void 0){var h=s(n);if(Wr){Bn(!0);try{s(n)}finally{Bn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=CT.bind(null,Oe,t),[o.memoizedState,t]},useRef:function(t){var n=pn();return t={current:t},n.memoizedState=t},useState:function(t){t=Rf(t);var n=t.queue,s=zp.bind(null,Oe,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Cf,useDeferredValue:function(t,n){var s=pn();return Nf(s,t,n)},useTransition:function(){var t=Rf(!1);return t=kp.bind(null,Oe,t.queue,!0,!1),pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Oe,h=pn();if(Qe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),dt===null)throw Error(a(349));(Be&127)!==0||cp(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Rp(fp.bind(null,o,f,t),[t]),o.flags|=2048,Ba(9,{destroy:void 0},hp.bind(null,o,f,s,n),null),s},useId:function(){var t=pn(),n=dt.identifierPrefix;if(Qe){var s=zi,o=Pi;s=(o&~(1<<32-Dt(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Ku++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=bT++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Of,useFormState:Tp,useActionState:Tp,useOptimistic:function(t){var n=pn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Mf.bind(null,Oe,!0,s),s.dispatch=n,[t,n]},useMemoCache:Sf,useCacheRefresh:function(){return pn().memoizedState=IT.bind(null,Oe)},useEffectEvent:function(t){var n=pn(),s={impl:t};return n.memoizedState=s,function(){if((tt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Vf={readContext:sn,use:Xu,useCallback:Op,useContext:sn,useEffect:If,useImperativeHandle:Dp,useInsertionEffect:Ip,useLayoutEffect:Cp,useMemo:Mp,useReducer:$u,useRef:wp,useState:function(){return $u(cs)},useDebugValue:Cf,useDeferredValue:function(t,n){var s=Vt();return Vp(s,ct.memoizedState,t,n)},useTransition:function(){var t=$u(cs)[0],n=Vt().memoizedState;return[typeof t=="boolean"?t:sl(t),n]},useSyncExternalStore:up,useId:Lp,useHostTransitionStatus:Of,useFormState:bp,useActionState:bp,useOptimistic:function(t,n){var s=Vt();return gp(s,ct,t,n)},useMemoCache:Sf,useCacheRefresh:Pp};Vf.useEffectEvent=xp;var Gp={readContext:sn,use:Xu,useCallback:Op,useContext:sn,useEffect:If,useImperativeHandle:Dp,useInsertionEffect:Ip,useLayoutEffect:Cp,useMemo:Mp,useReducer:wf,useRef:wp,useState:function(){return wf(cs)},useDebugValue:Cf,useDeferredValue:function(t,n){var s=Vt();return ct===null?Nf(s,t,n):Vp(s,ct.memoizedState,t,n)},useTransition:function(){var t=wf(cs)[0],n=Vt().memoizedState;return[typeof t=="boolean"?t:sl(t),n]},useSyncExternalStore:up,useId:Lp,useHostTransitionStatus:Of,useFormState:Ap,useActionState:Ap,useOptimistic:function(t,n){var s=Vt();return ct!==null?gp(s,ct,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:Pp};Gp.useEffectEvent=xp;function kf(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Uf={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=Ln(),h=Fs(o);h.payload=n,s!=null&&(h.callback=s),n=Qs(t,h,o),n!==null&&(An(n,t,o),el(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=Ln(),h=Fs(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Qs(t,h,o),n!==null&&(An(n,t,o),el(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Ln(),o=Fs(s);o.tag=2,n!=null&&(o.callback=n),n=Qs(t,o,s),n!==null&&(An(n,t,s),el(n,t,s))}};function Fp(t,n,s,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Qo(s,o)||!Qo(h,f):!0}function Qp(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&Uf.enqueueReplaceState(n,n.state,null)}function ea(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Kp(t){Du(t)}function Yp(t){console.error(t)}function Xp(t){Du(t)}function ec(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function $p(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(t,n,s){return s=Fs(s),s.tag=3,s.payload={element:null},s.callback=function(){ec(t,n)},s}function Jp(t){return t=Fs(t),t.tag=3,t}function Zp(t,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){$p(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){$p(n,s,o),typeof h!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function NT(t,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Ma(n,s,h,!0),s=Vn.current,s!==null){switch(s.tag){case 31:case 13:return Jn===null?fc():s.alternate===null&&Ct===0&&(Ct=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Bu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),ld(t,o,h)),!1;case 22:return s.flags|=65536,o===Bu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),ld(t,o,h)),!1}throw Error(a(435,s.tag))}return ld(t,o,h),fc(),!1}if(Qe)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==tf&&(t=Error(a(422),{cause:o}),Xo(Kn(t,s)))):(o!==tf&&(n=Error(a(423),{cause:o}),Xo(Kn(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Kn(o,s),h=jf(t.stateNode,o,h),df(t,h),Ct!==4&&(Ct=2)),!1;var f=Error(a(520),{cause:o});if(f=Kn(f,s),ml===null?ml=[f]:ml.push(f),Ct!==4&&(Ct=2),n===null)return!0;o=Kn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=jf(s.stateNode,o,t),df(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Zs===null||!Zs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Jp(h),Zp(h,t,s,o),df(s,h),!1}s=s.return}while(s!==null);return!1}var Lf=Error(a(461)),qt=!1;function rn(t,n,s,o){n.child=t===null?np(n,null,s,o):Zr(n,t.child,s,o)}function Wp(t,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Yr(n),o=vf(t,n,s,p,f,h),E=Ef(),t!==null&&!qt?(Tf(t,n,h),hs(t,n,h)):(Qe&&E&&Wh(n),n.flags|=1,rn(t,n,o,h),n.child)}function ey(t,n,s,o,h){if(t===null){var f=s.type;return typeof f=="function"&&!$h(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,ty(t,n,f,o,h)):(t=ku(s.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Qf(t,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Qo,s(p,o)&&t.ref===n.ref)return hs(t,n,h)}return n.flags|=1,t=rs(f,o),t.ref=n.ref,t.return=n,n.child=t}function ty(t,n,s,o,h){if(t!==null){var f=t.memoizedProps;if(Qo(f,o)&&t.ref===n.ref)if(qt=!1,n.pendingProps=o=f,Qf(t,h))(t.flags&131072)!==0&&(qt=!0);else return n.lanes=t.lanes,hs(t,n,h)}return Pf(t,n,s,o,h)}function ny(t,n,s,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return iy(t,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Pu(n,f!==null?f.cachePool:null),f!==null?rp(n,f):gf(),ap(n);else return o=n.lanes=536870912,iy(t,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Pu(n,f.cachePool),rp(n,f),Ys(),n.memoizedState=null):(t!==null&&Pu(n,null),gf(),Ys());return rn(t,n,h,s),n.child}function ol(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function iy(t,n,s,o,h){var f=uf();return f=f===null?null:{parent:zt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Pu(n,null),gf(),ap(n),t!==null&&Ma(t,n,o,!0),n.childLanes=h,null}function tc(t,n){return n=ic({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function sy(t,n,s){return Zr(n,t.child,null,s),t=tc(n,n.pendingProps),t.flags|=2,kn(n),n.memoizedState=null,t}function DT(t,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Qe){if(o.mode==="hidden")return t=tc(n,o),n.lanes=536870912,ol(null,t);if(yf(n),(t=pt)?(t=p_(t,$n),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Pi,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},s=Bg(t),s.return=n,n.child=s,nn=n,pt=null)):t=null,t===null)throw qs(n);return n.lanes=536870912,null}return tc(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(yf(n),h)if(n.flags&256)n.flags&=-257,n=sy(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(qt||Ma(t,n,s,!1),h=(s&t.childLanes)!==0,qt||h){if(o=dt,o!==null&&(p=Io(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Gr(t,p),An(o,t,p),Lf;fc(),n=sy(t,n,s)}else t=f.treeContext,pt=Zn(p.nextSibling),nn=n,Qe=!0,Bs=null,$n=!1,t!==null&&Gg(n,t),n=tc(n,o),n.flags|=4096;return n}return t=rs(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function nc(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Pf(t,n,s,o,h){return Yr(n),s=vf(t,n,s,o,void 0,h),o=Ef(),t!==null&&!qt?(Tf(t,n,h),hs(t,n,h)):(Qe&&o&&Wh(n),n.flags|=1,rn(t,n,s,h),n.child)}function ry(t,n,s,o,h,f){return Yr(n),n.updateQueue=null,s=lp(n,o,s,h),op(t),o=Ef(),t!==null&&!qt?(Tf(t,n,f),hs(t,n,f)):(Qe&&o&&Wh(n),n.flags|=1,rn(t,n,s,f),n.child)}function ay(t,n,s,o,h){if(Yr(n),n.stateNode===null){var f=Ca,p=s.contextType;typeof p=="object"&&p!==null&&(f=sn(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},hf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?sn(p):Ca,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(kf(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Uf.enqueueReplaceState(f,f.state,null),nl(n,o,f,h),tl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=ea(s,E);f.props=I;var P=f.context,F=s.contextType;p=Ca,typeof F=="object"&&F!==null&&(p=sn(F));var Y=s.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&Qp(n,f,o,p),Gs=!1;var z=n.memoizedState;f.state=z,nl(n,o,f,h),tl(),P=n.memoizedState,E||z!==P||Gs?(typeof Y=="function"&&(kf(n,s,Y,o),P=n.memoizedState),(I=Gs||Fp(n,s,I,o,z,P,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,ff(t,n),p=n.memoizedProps,F=ea(s,p),f.props=F,Y=n.pendingProps,z=f.context,P=s.contextType,I=Ca,typeof P=="object"&&P!==null&&(I=sn(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||z!==I)&&Qp(n,f,o,I),Gs=!1,z=n.memoizedState,f.state=z,nl(n,o,f,h),tl();var q=n.memoizedState;p!==Y||z!==q||Gs||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof E=="function"&&(kf(n,s,E,o),q=n.memoizedState),(F=Gs||Fp(n,s,F,o,z,q,I)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=I,o=F):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,nc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Zr(n,t.child,null,h),n.child=Zr(n,null,s,h)):rn(t,n,s,h),n.memoizedState=f.state,t=n.child):t=hs(t,n,h),t}function oy(t,n,s,o){return Qr(),n.flags|=256,rn(t,n,s,o),n.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(t){return{baseLanes:t,cachePool:$g()}}function qf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=jn),t}function ly(t,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Qe){if(h?Ks(n):Ys(),(t=pt)?(t=p_(t,$n),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Pi,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},s=Bg(t),s.return=n,n.child=s,nn=n,pt=null)):t=null,t===null)throw qs(n);return Ad(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ys(),h=n.mode,E=ic({mode:"hidden",children:E},h),o=Fr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Bf(s),o.childLanes=qf(t,p,s),n.memoizedState=zf,ol(null,o)):(Ks(n),Hf(n,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Ks(n),n.flags&=-257,n=Gf(t,n,s)):n.memoizedState!==null?(Ys(),n.child=t.child,n.flags|=128,n=null):(Ys(),E=o.fallback,h=n.mode,o=ic({mode:"visible",children:o.children},h),E=Fr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Zr(n,t.child,null,s),o=n.child,o.memoizedState=Bf(s),o.childLanes=qf(t,p,s),n.memoizedState=zf,n=ol(null,o));else if(Ks(n),Ad(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(a(419)),o.stack="",o.digest=p,Xo({value:o,source:null,stack:null}),n=Gf(t,n,s)}else if(qt||Ma(t,n,s,!1),p=(s&t.childLanes)!==0,qt||p){if(p=dt,p!==null&&(o=Io(p,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,Gr(t,o),An(p,t,o),Lf;Sd(E)||fc(),n=Gf(t,n,s)}else Sd(E)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,pt=Zn(E.nextSibling),nn=n,Qe=!0,Bs=null,$n=!1,t!==null&&Gg(n,t),n=Hf(n,o.children),n.flags|=4096);return n}return h?(Ys(),E=o.fallback,h=n.mode,I=t.child,P=I.sibling,o=rs(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,P!==null?E=rs(P,E):(E=Fr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,ol(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Bf(s):(h=E.cachePool,h!==null?(I=zt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=$g(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=qf(t,p,s),n.memoizedState=zf,ol(t.child,o)):(Ks(n),s=t.child,t=s.sibling,s=rs(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=s,n.memoizedState=null,s)}function Hf(t,n){return n=ic({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ic(t,n){return t=Mn(22,t,null,n),t.lanes=0,t}function Gf(t,n,s){return Zr(n,t.child,null,s),t=Hf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function uy(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),rf(t.return,n,s)}function Ff(t,n,s,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function cy(t,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Mt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,se(Mt,p),rn(t,n,o,s),o=Qe?Yo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uy(t,s,n);else if(t.tag===19)uy(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Fu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Ff(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Fu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Ff(n,!0,s,null,f,o);break;case"together":Ff(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function hs(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Js|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Ma(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=rs(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=rs(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Qf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function OT(t,n,s){switch(n.tag){case 3:vt(n,n.stateNode.containerInfo),Hs(n,zt,t.memoizedState.cache),Qr();break;case 27:case 5:xn(n);break;case 4:vt(n,n.stateNode.containerInfo);break;case 10:Hs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ks(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ly(t,n,s):(Ks(n),t=hs(t,n,s),t!==null?t.sibling:null);Ks(n);break;case 19:var h=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Ma(t,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return cy(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Mt,Mt.current),o)break;return null;case 22:return n.lanes=0,ny(t,n,s,n.pendingProps);case 24:Hs(n,zt,t.memoizedState.cache)}return hs(t,n,s)}function hy(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)qt=!0;else{if(!Qf(t,s)&&(n.flags&128)===0)return qt=!1,OT(t,n,s);qt=(t.flags&131072)!==0}else qt=!1,Qe&&(n.flags&1048576)!==0&&Hg(n,Yo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=$r(n.elementType),n.type=t,typeof t=="function")$h(t)?(o=ea(t,o),n.tag=1,n=ay(null,n,t,o,s)):(n.tag=0,n=Pf(null,n,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===$e){n.tag=11,n=Wp(null,n,t,o,s);break e}else if(h===C){n.tag=14,n=ey(null,n,t,o,s);break e}}throw n=ot(t)||t,Error(a(306,n,""))}}return n;case 0:return Pf(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=ea(o,n.pendingProps),ay(t,n,o,h,s);case 3:e:{if(vt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,ff(t,n),nl(n,o,null,s);var p=n.memoizedState;if(o=p.cache,Hs(n,zt,o),o!==f.cache&&af(n,[zt],s,!0),tl(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=oy(t,n,o,s);break e}else if(o!==h){h=Kn(Error(a(424)),n),Xo(h),n=oy(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=Zn(t.firstChild),nn=n,Qe=!0,Bs=null,$n=!0,s=np(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Qr(),o===h){n=hs(t,n,s);break e}rn(t,n,o,s)}n=n.child}return n;case 26:return nc(t,n),t===null?(s=b_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Qe||(s=n.type,t=n.pendingProps,o=vc(Ie.current).createElement(s),o[jt]=n,o[$t]=t,an(o,s,t),Lt(o),n.stateNode=o):n.memoizedState=b_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return xn(n),t===null&&Qe&&(o=n.stateNode=v_(n.type,n.pendingProps,Ie.current),nn=n,$n=!0,h=pt,nr(n.type)?(wd=h,pt=Zn(o.firstChild)):pt=h),rn(t,n,n.pendingProps.children,s),nc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Qe&&((h=o=pt)&&(o=lb(o,n.type,n.pendingProps,$n),o!==null?(n.stateNode=o,nn=n,pt=Zn(o.firstChild),$n=!1,h=!0):h=!1),h||qs(n)),xn(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,Ed(h,f)?o=null:p!==null&&Ed(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=vf(t,n,ST,null,null,s),bl._currentValue=h),nc(t,n),rn(t,n,o,s),n.child;case 6:return t===null&&Qe&&((t=s=pt)&&(s=ub(s,n.pendingProps,$n),s!==null?(n.stateNode=s,nn=n,pt=null,t=!0):t=!1),t||qs(n)),null;case 13:return ly(t,n,s);case 4:return vt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Zr(n,null,o,s):rn(t,n,o,s),n.child;case 11:return Wp(t,n,n.type,n.pendingProps,s);case 7:return rn(t,n,n.pendingProps,s),n.child;case 8:return rn(t,n,n.pendingProps.children,s),n.child;case 12:return rn(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Hs(n,n.type,o.value),rn(t,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Yr(n),h=sn(h),o=o(h),n.flags|=1,rn(t,n,o,s),n.child;case 14:return ey(t,n,n.type,n.pendingProps,s);case 15:return ty(t,n,n.type,n.pendingProps,s);case 19:return cy(t,n,s);case 31:return DT(t,n,s);case 22:return ny(t,n,s,n.pendingProps);case 24:return Yr(n),o=sn(zt),t===null?(h=uf(),h===null&&(h=dt,f=of(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},hf(n),Hs(n,zt,h)):((t.lanes&s)!==0&&(ff(t,n),nl(n,null,null,s),tl()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Hs(n,zt,o)):(o=f.cache,Hs(n,zt,o),o!==h.cache&&af(n,[zt],s,!0))),rn(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function fs(t){t.flags|=4}function Kf(t,n,s,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Ly())t.flags|=8192;else throw Jr=Bu,cf}else t.flags&=-16777217}function fy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!x_(n))if(Ly())t.flags|=8192;else throw Jr=Bu,cf}function sc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?cu():536870912,t.lanes|=n,Fa|=n)}function ll(t,n){if(!Qe)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function yt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function MT(t,n,s){var o=n.pendingProps;switch(ef(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return yt(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ls(zt),mt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Oa(n)?fs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nf())),yt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(fs(n),f!==null?(yt(n),fy(n,f)):(yt(n),Kf(n,h,null,o,s))):f?f!==t.memoizedState?(fs(n),yt(n),fy(n,f)):(yt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&fs(n),yt(n),Kf(n,h,t,o,s)),null;case 27:if(Wi(n),s=Ie.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&fs(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return yt(n),null}t=oe.current,Oa(n)?Fg(n):(t=v_(h,o,s),n.stateNode=t,fs(n))}return yt(n),null;case 5:if(Wi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&fs(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return yt(n),null}if(f=oe.current,Oa(n))Fg(n);else{var p=vc(Ie.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[jt]=n,f[$t]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(an(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&fs(n)}}return yt(n),Kf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&fs(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ie.current,Oa(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,h=nn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[jt]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||l_(t.nodeValue,s)),t||qs(n,!0)}else t=vc(t).createTextNode(o),t[jt]=n,n.stateNode=t}return yt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=Oa(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[jt]=n}else Qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),t=!1}else s=nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(kn(n),n):(kn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return yt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Oa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[jt]=n}else Qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),h=!1}else h=nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(kn(n),n):(kn(n),null)}return kn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),sc(n,n.updateQueue),yt(n),null);case 4:return mt(),t===null&&gd(n.stateNode.containerInfo),yt(n),null;case 10:return ls(n.type),yt(n),null;case 19:if(K(Mt),o=n.memoizedState,o===null)return yt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ll(o,!1);else{if(Ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Fu(t),f!==null){for(n.flags|=128,ll(o,!1),t=f.updateQueue,n.updateQueue=t,sc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)zg(s,t),s=s.sibling;return se(Mt,Mt.current&1|2),Qe&&as(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Se()>uc&&(n.flags|=128,h=!0,ll(o,!1),n.lanes=4194304)}else{if(!h)if(t=Fu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,sc(n,t),ll(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Qe)return yt(n),null}else 2*Se()-o.renderingStartTime>uc&&s!==536870912&&(n.flags|=128,h=!0,ll(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Se(),t.sibling=null,s=Mt.current,se(Mt,h?s&1|2:s&1),Qe&&as(n,o.treeForkCount),t):(yt(n),null);case 22:case 23:return kn(n),pf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),s=n.updateQueue,s!==null&&sc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&K(Xr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ls(zt),yt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function VT(t,n){switch(ef(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ls(zt),mt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Wi(n),null;case 31:if(n.memoizedState!==null){if(kn(n),n.alternate===null)throw Error(a(340));Qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(kn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(Mt),null;case 4:return mt(),null;case 10:return ls(n.type),null;case 22:case 23:return kn(n),pf(),t!==null&&K(Xr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ls(zt),null;case 25:return null;default:return null}}function dy(t,n){switch(ef(n),n.tag){case 3:ls(zt),mt();break;case 26:case 27:case 5:Wi(n);break;case 4:mt();break;case 31:n.memoizedState!==null&&kn(n);break;case 13:kn(n);break;case 19:K(Mt);break;case 10:ls(n.type);break;case 22:case 23:kn(n),pf(),t!==null&&K(Xr);break;case 24:ls(zt)}}function ul(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(E){at(n,n.return,E)}}function Xs(t,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=s,P=E;try{P()}catch(F){at(h,I,F)}}}o=o.next}while(o!==f)}}catch(F){at(n,n.return,F)}}function my(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{sp(n,s)}catch(o){at(t,t.return,o)}}}function gy(t,n,s){s.props=ea(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){at(t,n,o)}}function cl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){at(t,n,h)}}function Bi(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){at(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){at(t,n,h)}else s.current=null}function py(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){at(t,t.return,h)}}function Yf(t,n,s){try{var o=t.stateNode;nb(o,t.type,s,n),o[$t]=n}catch(h){at(t,t.return,h)}}function yy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&nr(t.type)||t.tag===4}function Xf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&nr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $f(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ui));else if(o!==4&&(o===27&&nr(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for($f(t,n,s),t=t.sibling;t!==null;)$f(t,n,s),t=t.sibling}function rc(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&nr(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(rc(t,n,s),t=t.sibling;t!==null;)rc(t,n,s),t=t.sibling}function _y(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);an(n,o,s),n[jt]=t,n[$t]=s}catch(f){at(t,t.return,f)}}var ds=!1,Ht=!1,Jf=!1,vy=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function kT(t,n){if(t=t.containerInfo,_d=Rc,t=Dg(t),Hh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var p=0,E=-1,I=-1,P=0,F=0,Y=t,z=null;t:for(;;){for(var q;Y!==s||h!==0&&Y.nodeType!==3||(E=p+h),Y!==f||o!==0&&Y.nodeType!==3||(I=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(q=Y.firstChild)!==null;)z=Y,Y=q;for(;;){if(Y===t)break t;if(z===s&&++P===h&&(E=p),z===f&&++F===o&&(I=p),(q=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=q}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(vd={focusedElem:t,selectionRange:s},Rc=!1,Zt=n;Zt!==null;)if(n=Zt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Zt=t;else for(;Zt!==null;){switch(n=Zt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ue=ea(s.type,h);t=o.getSnapshotBeforeUpdate(ue,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ve){at(s,s.return,ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)bd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Zt=t;break}Zt=n.return}}function Ey(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:gs(t,s),o&4&&ul(5,s);break;case 1:if(gs(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(p){at(s,s.return,p)}else{var h=ea(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){at(s,s.return,p)}}o&64&&my(s),o&512&&cl(s,s.return);break;case 3:if(gs(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{sp(t,n)}catch(p){at(s,s.return,p)}}break;case 27:n===null&&o&4&&_y(s);case 26:case 5:gs(t,s),n===null&&o&4&&py(s),o&512&&cl(s,s.return);break;case 12:gs(t,s);break;case 31:gs(t,s),o&4&&Sy(t,s);break;case 13:gs(t,s),o&4&&Ay(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=GT.bind(null,s),cb(t,s))));break;case 22:if(o=s.memoizedState!==null||ds,!o){n=n!==null&&n.memoizedState!==null||Ht,h=ds;var f=Ht;ds=o,(Ht=n)&&!f?ps(t,s,(s.subtreeFlags&8772)!==0):gs(t,s),ds=h,Ht=f}break;case 30:break;default:gs(t,s)}}function Ty(t){var n=t.alternate;n!==null&&(t.alternate=null,Ty(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ga(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var bt=null,En=!1;function ms(t,n,s){for(s=s.child;s!==null;)by(t,n,s),s=s.sibling}function by(t,n,s){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Cn,s)}catch{}switch(s.tag){case 26:Ht||Bi(s,n),ms(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ht||Bi(s,n);var o=bt,h=En;nr(s.type)&&(bt=s.stateNode,En=!1),ms(t,n,s),vl(s.stateNode),bt=o,En=h;break;case 5:Ht||Bi(s,n);case 6:if(o=bt,h=En,bt=null,ms(t,n,s),bt=o,En=h,bt!==null)if(En)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(s.stateNode)}catch(f){at(s,n,f)}else try{bt.removeChild(s.stateNode)}catch(f){at(s,n,f)}break;case 18:bt!==null&&(En?(t=bt,m_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Wa(t)):m_(bt,s.stateNode));break;case 4:o=bt,h=En,bt=s.stateNode.containerInfo,En=!0,ms(t,n,s),bt=o,En=h;break;case 0:case 11:case 14:case 15:Xs(2,s,n),Ht||Xs(4,s,n),ms(t,n,s);break;case 1:Ht||(Bi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&gy(s,n,o)),ms(t,n,s);break;case 21:ms(t,n,s);break;case 22:Ht=(o=Ht)||s.memoizedState!==null,ms(t,n,s),Ht=o;break;default:ms(t,n,s)}}function Sy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Wa(t)}catch(s){at(n,n.return,s)}}}function Ay(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wa(t)}catch(s){at(n,n.return,s)}}function UT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new vy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new vy),n;default:throw Error(a(435,t.tag))}}function ac(t,n){var s=UT(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=FT.bind(null,t,o);o.then(h,h)}})}function Tn(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(nr(E.type)){bt=E.stateNode,En=!1;break e}break;case 5:bt=E.stateNode,En=!1;break e;case 3:case 4:bt=E.stateNode.containerInfo,En=!0;break e}E=E.return}if(bt===null)throw Error(a(160));by(f,p,h),bt=null,En=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)wy(n,t),n=n.sibling}var gi=null;function wy(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(n,t),bn(t),o&4&&(Xs(3,t,t.return),ul(3,t),Xs(5,t,t.return));break;case 1:Tn(n,t),bn(t),o&512&&(Ht||s===null||Bi(s,s.return)),o&64&&ds&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=gi;if(Tn(n,t),bn(t),o&512&&(Ht||s===null||Bi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[xi]||f[jt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),an(f,o,s),f[jt]=t,Lt(f),o=f;break e;case"link":var p=w_("link","href",h).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(o),an(f,o,s),h.head.appendChild(f);break;case"meta":if(p=w_("meta","content",h).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break t}}f=h.createElement(o),an(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[jt]=t,Lt(f),o=f}t.stateNode=o}else R_(h,t.type,t.stateNode);else t.stateNode=A_(h,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?R_(h,t.type,t.stateNode):A_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Yf(t,t.memoizedProps,s.memoizedProps)}break;case 27:Tn(n,t),bn(t),o&512&&(Ht||s===null||Bi(s,s.return)),s!==null&&o&4&&Yf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Tn(n,t),bn(t),o&512&&(Ht||s===null||Bi(s,s.return)),t.flags&32){h=t.stateNode;try{vn(h,"")}catch(ue){at(t,t.return,ue)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Yf(t,h,s!==null?s.memoizedProps:h)),o&1024&&(Jf=!0);break;case 6:if(Tn(n,t),bn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(ue){at(t,t.return,ue)}}break;case 3:if(bc=null,h=gi,gi=Ec(n.containerInfo),Tn(n,t),gi=h,bn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Wa(n.containerInfo)}catch(ue){at(t,t.return,ue)}Jf&&(Jf=!1,Ry(t));break;case 4:o=gi,gi=Ec(t.stateNode.containerInfo),Tn(n,t),bn(t),gi=o;break;case 12:Tn(n,t),bn(t);break;case 31:Tn(n,t),bn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ac(t,o)));break;case 13:Tn(n,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(lc=Se()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ac(t,o)));break;case 22:h=t.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,P=ds,F=Ht;if(ds=P||h,Ht=F||I,Tn(n,t),Ht=F,ds=P,bn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||ds||Ht||ta(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var Y=I.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ue){at(I,I.return,ue)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ue){at(I,I.return,ue)}}}else if(n.tag===18){if(s===null){I=n;try{var q=I.stateNode;h?g_(q,!0):g_(I.stateNode,!1)}catch(ue){at(I,I.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,ac(t,s))));break;case 19:Tn(n,t),bn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ac(t,o)));break;case 30:break;case 21:break;default:Tn(n,t),bn(t)}}function bn(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(yy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Xf(t);rc(t,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(vn(p,""),s.flags&=-33);var E=Xf(t);rc(t,E,p);break;case 3:case 4:var I=s.stateNode.containerInfo,P=Xf(t);$f(t,P,I);break;default:throw Error(a(161))}}catch(F){at(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ry(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ry(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function gs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ey(t,n.alternate,n),n=n.sibling}function ta(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Xs(4,n,n.return),ta(n);break;case 1:Bi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&gy(n,n.return,s),ta(n);break;case 27:vl(n.stateNode);case 26:case 5:Bi(n,n.return),ta(n);break;case 22:n.memoizedState===null&&ta(n);break;case 30:ta(n);break;default:ta(n)}t=t.sibling}}function ps(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ps(h,f,s),ul(4,f);break;case 1:if(ps(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){at(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ip(I[h],E)}catch(P){at(o,o.return,P)}}s&&p&64&&my(f),cl(f,f.return);break;case 27:_y(f);case 26:case 5:ps(h,f,s),s&&o===null&&p&4&&py(f),cl(f,f.return);break;case 12:ps(h,f,s);break;case 31:ps(h,f,s),s&&p&4&&Sy(h,f);break;case 13:ps(h,f,s),s&&p&4&&Ay(h,f);break;case 22:f.memoizedState===null&&ps(h,f,s),cl(f,f.return);break;case 30:break;default:ps(h,f,s)}n=n.sibling}}function Zf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&$o(s))}function Wf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$o(t))}function pi(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xy(t,n,s,o),n=n.sibling}function xy(t,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:pi(t,n,s,o),h&2048&&ul(9,n);break;case 1:pi(t,n,s,o);break;case 3:pi(t,n,s,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$o(t)));break;case 12:if(h&2048){pi(t,n,s,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){at(n,n.return,I)}}else pi(t,n,s,o);break;case 31:pi(t,n,s,o);break;case 13:pi(t,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?pi(t,n,s,o):hl(t,n):f._visibility&2?pi(t,n,s,o):(f._visibility|=2,qa(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(p,n);break;case 24:pi(t,n,s,o),h&2048&&Wf(n.alternate,n);break;default:pi(t,n,s,o)}}function qa(t,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=s,I=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:qa(f,p,E,I,h),ul(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?qa(f,p,E,I,h):hl(f,p):(F._visibility|=2,qa(f,p,E,I,h)),h&&P&2048&&Zf(p.alternate,p);break;case 24:qa(f,p,E,I,h),h&&P&2048&&Wf(p.alternate,p);break;default:qa(f,p,E,I,h)}n=n.sibling}}function hl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,h=o.flags;switch(o.tag){case 22:hl(s,o),h&2048&&Zf(o.alternate,o);break;case 24:hl(s,o),h&2048&&Wf(o.alternate,o);break;default:hl(s,o)}n=n.sibling}}var fl=8192;function Ha(t,n,s){if(t.subtreeFlags&fl)for(t=t.child;t!==null;)Iy(t,n,s),t=t.sibling}function Iy(t,n,s){switch(t.tag){case 26:Ha(t,n,s),t.flags&fl&&t.memoizedState!==null&&bb(s,gi,t.memoizedState,t.memoizedProps);break;case 5:Ha(t,n,s);break;case 3:case 4:var o=gi;gi=Ec(t.stateNode.containerInfo),Ha(t,n,s),gi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=fl,fl=16777216,Ha(t,n,s),fl=o):Ha(t,n,s));break;default:Ha(t,n,s)}}function Cy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function dl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Zt=o,Dy(o,t)}Cy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ny(t),t=t.sibling}function Ny(t){switch(t.tag){case 0:case 11:case 15:dl(t),t.flags&2048&&Xs(9,t,t.return);break;case 3:dl(t);break;case 12:dl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,oc(t)):dl(t);break;default:dl(t)}}function oc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Zt=o,Dy(o,t)}Cy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Xs(8,n,n.return),oc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,oc(n));break;default:oc(n)}t=t.sibling}}function Dy(t,n){for(;Zt!==null;){var s=Zt;switch(s.tag){case 0:case 11:case 15:Xs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:$o(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Zt=o;else e:for(s=t;Zt!==null;){o=Zt;var h=o.sibling,f=o.return;if(Ty(o),o===s){Zt=null;break e}if(h!==null){h.return=f,Zt=h;break e}Zt=f}}}var jT={getCacheForType:function(t){var n=sn(zt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return sn(zt).controller.signal}},LT=typeof WeakMap=="function"?WeakMap:Map,tt=0,dt=null,Le=null,Be=0,rt=0,Un=null,$s=!1,Ga=!1,ed=!1,ys=0,Ct=0,Js=0,na=0,td=0,jn=0,Fa=0,ml=null,Sn=null,nd=!1,lc=0,Oy=0,uc=1/0,cc=null,Zs=null,Kt=0,Ws=null,Qa=null,_s=0,id=0,sd=null,My=null,gl=0,rd=null;function Ln(){return(tt&2)!==0&&Be!==0?Be&-Be:G.T!==null?hd():hu()}function Vy(){if(jn===0)if((Be&536870912)===0||Qe){var t=Cr;Cr<<=1,(Cr&3932160)===0&&(Cr=262144),jn=t}else jn=536870912;return t=Vn.current,t!==null&&(t.flags|=32),jn}function An(t,n,s){(t===dt&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),er(t,Be,jn,!1)),Nr(t,s),((tt&2)===0||t!==dt)&&(t===dt&&((tt&2)===0&&(na|=s),Ct===4&&er(t,Be,jn,!1)),qi(t))}function ky(t,n,s){if((tt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||ai(t,n),h=o?BT(t,n):od(t,n,!0),f=o;do{if(h===0){Ga&&!o&&er(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!PT(s)){h=od(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=ml;var I=E.current.memoizedState.isDehydrated;if(I&&(Ka(E,p).flags|=256),p=od(E,p,!1),p!==2){if(ed&&!I){E.errorRecoveryDisabledLanes|=f,na|=f,h=4;break e}f=Sn,Sn=h,f!==null&&(Sn===null?Sn=f:Sn.push.apply(Sn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ka(t,0),er(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:er(o,n,jn,!$s);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=lc+300-Se(),10<h)){if(er(o,n,jn,!$s),Ai(o,0,!0)!==0)break e;_s=n,o.timeoutHandle=f_(Uy.bind(null,o,s,Sn,cc,nd,n,jn,na,Fa,$s,f,"Throttled",-0,0),h);break e}Uy(o,s,Sn,cc,nd,n,jn,na,Fa,$s,f,null,-0,0)}}break}while(!0);qi(t)}function Uy(t,n,s,o,h,f,p,E,I,P,F,Y,z,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},Iy(n,f,Y);var ue=(f&62914560)===f?lc-Se():(f&4194048)===f?Oy-Se():0;if(ue=Sb(Y,ue),ue!==null){_s=f,t.cancelPendingCommit=ue(Gy.bind(null,t,n,f,s,o,h,p,E,I,F,Y,null,z,q)),er(t,f,p,!P);return}}Gy(t,n,f,s,o,h,p,E,I)}function PT(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!On(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function er(t,n,s,o){n&=~td,n&=~na,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-Dt(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&Dr(t,s,n)}function hc(){return(tt&6)===0?(pl(0),!1):!0}function ad(){if(Le!==null){if(rt===0)var t=Le.return;else t=Le,os=Kr=null,bf(t),ja=null,Zo=0,t=Le;for(;t!==null;)dy(t.alternate,t),t=t.return;Le=null}}function Ka(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,rb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),_s=0,ad(),dt=t,Le=s=rs(t.current,null),Be=n,rt=0,Un=null,$s=!1,Ga=ai(t,n),ed=!1,Fa=jn=td=na=Js=Ct=0,Sn=ml=null,nd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Dt(o),f=1<<h;n|=t[h],o&=~f}return ys=n,Ou(),s}function jy(t,n){Oe=null,G.H=al,n===Ua||n===zu?(n=Wg(),rt=3):n===cf?(n=Wg(),rt=4):rt=n===Lf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Un=n,Le===null&&(Ct=1,ec(t,Kn(n,t.current)))}function Ly(){var t=Vn.current;return t===null?!0:(Be&4194048)===Be?Jn===null:(Be&62914560)===Be||(Be&536870912)!==0?t===Jn:!1}function Py(){var t=G.H;return G.H=al,t===null?al:t}function zy(){var t=G.A;return G.A=jT,t}function fc(){Ct=4,$s||(Be&4194048)!==Be&&Vn.current!==null||(Ga=!0),(Js&134217727)===0&&(na&134217727)===0||dt===null||er(dt,Be,jn,!1)}function od(t,n,s){var o=tt;tt|=2;var h=Py(),f=zy();(dt!==t||Be!==n)&&(cc=null,Ka(t,n)),n=!1;var p=Ct;e:do try{if(rt!==0&&Le!==null){var E=Le,I=Un;switch(rt){case 8:ad(),p=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var P=rt;if(rt=0,Un=null,Ya(t,E,I,P),s&&Ga){p=0;break e}break;default:P=rt,rt=0,Un=null,Ya(t,E,I,P)}}zT(),p=Ct;break}catch(F){jy(t,F)}while(!0);return n&&t.shellSuspendCounter++,os=Kr=null,tt=o,G.H=h,G.A=f,Le===null&&(dt=null,Be=0,Ou()),p}function zT(){for(;Le!==null;)By(Le)}function BT(t,n){var s=tt;tt|=2;var o=Py(),h=zy();dt!==t||Be!==n?(cc=null,uc=Se()+500,Ka(t,n)):Ga=ai(t,n);e:do try{if(rt!==0&&Le!==null){n=Le;var f=Un;t:switch(rt){case 1:rt=0,Un=null,Ya(t,n,f,1);break;case 2:case 9:if(Jg(f)){rt=0,Un=null,qy(n);break}n=function(){rt!==2&&rt!==9||dt!==t||(rt=7),qi(t)},f.then(n,n);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Jg(f)?(rt=0,Un=null,qy(n)):(rt=0,Un=null,Ya(t,n,f,7));break;case 5:var p=null;switch(Le.tag){case 26:p=Le.memoizedState;case 5:case 27:var E=Le;if(p?x_(p):E.stateNode.complete){rt=0,Un=null;var I=E.sibling;if(I!==null)Le=I;else{var P=E.return;P!==null?(Le=P,dc(P)):Le=null}break t}}rt=0,Un=null,Ya(t,n,f,5);break;case 6:rt=0,Un=null,Ya(t,n,f,6);break;case 8:ad(),Ct=6;break e;default:throw Error(a(462))}}qT();break}catch(F){jy(t,F)}while(!0);return os=Kr=null,G.H=o,G.A=h,tt=s,Le!==null?0:(dt=null,Be=0,Ou(),Ct)}function qT(){for(;Le!==null&&!je();)By(Le)}function By(t){var n=hy(t.alternate,t,ys);t.memoizedProps=t.pendingProps,n===null?dc(t):Le=n}function qy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=ry(s,n,n.pendingProps,n.type,void 0,Be);break;case 11:n=ry(s,n,n.pendingProps,n.type.render,n.ref,Be);break;case 5:bf(n);default:dy(s,n),n=Le=zg(n,ys),n=hy(s,n,ys)}t.memoizedProps=t.pendingProps,n===null?dc(t):Le=n}function Ya(t,n,s,o){os=Kr=null,bf(n),ja=null,Zo=0;var h=n.return;try{if(NT(t,h,n,s,Be)){Ct=1,ec(t,Kn(s,t.current)),Le=null;return}}catch(f){if(h!==null)throw Le=h,f;Ct=1,ec(t,Kn(s,t.current)),Le=null;return}n.flags&32768?(Qe||o===1?t=!0:Ga||(Be&536870912)!==0?t=!1:($s=t=!0,(o===2||o===9||o===3||o===6)&&(o=Vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Hy(n,t)):dc(n)}function dc(t){var n=t;do{if((n.flags&32768)!==0){Hy(n,$s);return}t=n.return;var s=MT(n.alternate,n,ys);if(s!==null){Le=s;return}if(n=n.sibling,n!==null){Le=n;return}Le=n=t}while(n!==null);Ct===0&&(Ct=5)}function Hy(t,n){do{var s=VT(t.alternate,t);if(s!==null){s.flags&=32767,Le=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Le=t;return}Le=t=s}while(t!==null);Ct=6,Le=null}function Gy(t,n,s,o,h,f,p,E,I){t.cancelPendingCommit=null;do mc();while(Kt!==0);if((tt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Yh,Ph(t,s,f,p,E,I),t===dt&&(Le=dt=null,Be=0),Qa=n,Ws=t,_s=s,id=f,sd=h,My=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,QT(Et,function(){return Xy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=ne.p,ne.p=2,p=tt,tt|=4;try{kT(t,n,s)}finally{tt=p,ne.p=h,G.T=o}}Kt=1,Fy(),Qy(),Ky()}}function Fy(){if(Kt===1){Kt=0;var t=Ws,n=Qa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=ne.p;ne.p=2;var h=tt;tt|=4;try{wy(n,t);var f=vd,p=Dg(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Ng(E.ownerDocument.documentElement,E)){if(I!==null&&Hh(E)){var P=I.start,F=I.end;if(F===void 0&&(F=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var q=z.getSelection(),ue=E.textContent.length,ve=Math.min(I.start,ue),ft=I.end===void 0?ve:Math.min(I.end,ue);!q.extend&&ve>ft&&(p=ft,ft=ve,ve=p);var k=Cg(E,ve),D=Cg(E,ft);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var L=Y.createRange();L.setStart(k.node,k.offset),q.removeAllRanges(),ve>ft?(q.addRange(L),q.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),q.addRange(L))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Rc=!!_d,vd=_d=null}finally{tt=h,ne.p=o,G.T=s}}t.current=n,Kt=2}}function Qy(){if(Kt===2){Kt=0;var t=Ws,n=Qa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=ne.p;ne.p=2;var h=tt;tt|=4;try{Ey(t,n.alternate,n)}finally{tt=h,ne.p=o,G.T=s}}Kt=3}}function Ky(){if(Kt===4||Kt===3){Kt=0,St();var t=Ws,n=Qa,s=_s,o=My;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Kt=5:(Kt=0,Qa=Ws=null,Yy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Zs=null),ts(s),n=n.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Cn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=ne.p,ne.p=2,G.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,ne.p=h}}(_s&3)!==0&&mc(),qi(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===rd?gl++:(gl=0,rd=t):gl=0,pl(0)}}function Yy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,$o(n)))}function mc(){return Fy(),Qy(),Ky(),Xy()}function Xy(){if(Kt!==5)return!1;var t=Ws,n=id;id=0;var s=ts(_s),o=G.T,h=ne.p;try{ne.p=32>s?32:s,G.T=null,s=sd,sd=null;var f=Ws,p=_s;if(Kt=0,Qa=Ws=null,_s=0,(tt&6)!==0)throw Error(a(331));var E=tt;if(tt|=4,Ny(f.current),xy(f,f.current,p,s),tt=E,pl(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Cn,f)}catch{}return!0}finally{ne.p=h,G.T=o,Yy(t,n)}}function $y(t,n,s){n=Kn(s,n),n=jf(t.stateNode,n,2),t=Qs(t,n,2),t!==null&&(Nr(t,2),qi(t))}function at(t,n,s){if(t.tag===3)$y(t,t,s);else for(;n!==null;){if(n.tag===3){$y(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Zs===null||!Zs.has(o))){t=Kn(s,t),s=Jp(2),o=Qs(n,s,2),o!==null&&(Zp(s,o,n,t),Nr(o,2),qi(o));break}}n=n.return}}function ld(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new LT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(ed=!0,h.add(s),t=HT.bind(null,t,n,s),n.then(t,t))}function HT(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,dt===t&&(Be&s)===s&&(Ct===4||Ct===3&&(Be&62914560)===Be&&300>Se()-lc?(tt&2)===0&&Ka(t,0):td|=s,Fa===Be&&(Fa=0)),qi(t)}function Jy(t,n){n===0&&(n=cu()),t=Gr(t,n),t!==null&&(Nr(t,n),qi(t))}function GT(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Jy(t,s)}function FT(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Jy(t,s)}function QT(t,n){return ke(t,n)}var gc=null,Xa=null,ud=!1,pc=!1,cd=!1,tr=0;function qi(t){t!==Xa&&t.next===null&&(Xa===null?gc=Xa=t:Xa=Xa.next=t),pc=!0,ud||(ud=!0,YT())}function pl(t,n){if(!cd&&pc){cd=!0;do for(var s=!1,o=gc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Dt(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,t_(o,f))}else f=Be,f=Ai(o,o===dt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ai(o,f)||(s=!0,t_(o,f));o=o.next}while(s);cd=!1}}function KT(){Zy()}function Zy(){pc=ud=!1;var t=0;tr!==0&&sb()&&(t=tr);for(var n=Se(),s=null,o=gc;o!==null;){var h=o.next,f=Wy(o,n);f===0?(o.next=null,s===null?gc=h:s.next=h,h===null&&(Xa=s)):(s=o,(t!==0||(f&3)!==0)&&(pc=!0)),o=h}Kt!==0&&Kt!==5||pl(t),tr!==0&&(tr=0)}function Wy(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Dt(f),E=1<<p,I=h[p];I===-1?((E&s)===0||(E&o)!==0)&&(h[p]=Lh(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=dt,s=Be,s=Ai(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Re(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ai(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&Re(o),ts(s)){case 2:case 8:s=he;break;case 32:s=Et;break;case 268435456:s=xt;break;default:s=Et}return o=e_.bind(null,t),s=ke(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&Re(o),t.callbackPriority=2,t.callbackNode=null,2}function e_(t,n){if(Kt!==0&&Kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(mc()&&t.callbackNode!==s)return null;var o=Be;return o=Ai(t,t===dt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(ky(t,o,n),Wy(t,Se()),t.callbackNode!=null&&t.callbackNode===s?e_.bind(null,t):null)}function t_(t,n){if(mc())return null;ky(t,n,!0)}function YT(){ab(function(){(tt&6)!==0?ke(Z,KT):Zy()})}function hd(){if(tr===0){var t=Va;t===0&&(t=bi,bi<<=1,(bi&261888)===0&&(bi=256)),tr=t}return tr}function n_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function i_(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function XT(t,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=n_((h[$t]||null).action),p=o.submitter;p&&(n=(n=p[$t]||null)?n_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new ki("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(tr!==0){var I=p?i_(h,p):new FormData(h);Df(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?i_(h,p):new FormData(h),Df(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var fd=0;fd<Kh.length;fd++){var dd=Kh[fd],$T=dd.toLowerCase(),JT=dd[0].toUpperCase()+dd.slice(1);mi($T,"on"+JT)}mi(Vg,"onAnimationEnd"),mi(kg,"onAnimationIteration"),mi(Ug,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(dT,"onTransitionRun"),mi(mT,"onTransitionStart"),mi(gT,"onTransitionCancel"),mi(jg,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function s_(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],I=E.instance,P=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(F){Du(F)}h.currentTarget=null,f=I}else for(p=0;p<o.length;p++){if(E=o[p],I=E.instance,P=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(F){Du(F)}h.currentTarget=null,f=I}}}}function Pe(t,n){var s=n[ma];s===void 0&&(s=n[ma]=new Set);var o=t+"__bubble";s.has(o)||(r_(n,t,2,!1),s.add(o))}function md(t,n,s){var o=0;n&&(o|=4),r_(s,t,o,n)}var yc="_reactListening"+Math.random().toString(36).slice(2);function gd(t){if(!t[yc]){t[yc]=!0,Co.forEach(function(s){s!=="selectionchange"&&(ZT.has(s)||md(s,!1,t),md(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[yc]||(n[yc]=!0,md("selectionchange",!1,n))}}function r_(t,n,s,o){switch(V_(n)){case 2:var h=Rb;break;case 8:h=xb;break;default:h=Nd}s=h.bind(null,n,s,t),h=void 0,!Ur||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function pd(t,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=Ii(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){o=f=p;continue e}E=E.parentNode}}o=o.return}Us(function(){var P=f,F=Hn(s),Y=[];e:{var z=Lg.get(t);if(z!==void 0){var q=ki,ue=t;switch(t){case"keypress":if(Lr(s)===0)break e;case"keydown":case"keyup":q=Iu;break;case"focusin":ue="focus",q=zr;break;case"focusout":ue="blur",q=zr;break;case"beforeblur":case"afterblur":q=zr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Vg:case kg:case Ug:q=Tu;break;case jg:q=b;break;case"scroll":case"scrollend":q=Bo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ss;break;case"toggle":case"beforetoggle":q=De}var ve=(n&4)!==0,ft=!ve&&(t==="scroll"||t==="scrollend"),k=ve?z!==null?z+"Capture":null:z;ve=[];for(var D=P,L;D!==null;){var Q=D;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||k===null||(Q=ci(D,k),Q!=null&&ve.push(_l(D,Q,L))),ft)break;D=D.return}0<ve.length&&(z=new q(z,ue,null,s,F),Y.push({event:z,listeners:ve}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&s!==Lo&&(ue=s.relatedTarget||s.fromElement)&&(Ii(ue)||ue[Ri]))break e;if((q||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,q?(ue=s.relatedTarget||s.toElement,q=P,ue=ue?Ii(ue):null,ue!==null&&(ft=c(ue),ve=ue.tag,ue!==ft||ve!==5&&ve!==27&&ve!==6)&&(ue=null)):(q=null,ue=P),q!==ue)){if(ve=qo,Q="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ve=ss,Q="onPointerLeave",k="onPointerEnter",D="pointer"),ft=q==null?z:Nn(q),L=ue==null?z:Nn(ue),z=new ve(Q,D+"leave",q,s,F),z.target=ft,z.relatedTarget=L,Q=null,Ii(F)===P&&(ve=new ve(k,D+"enter",ue,s,F),ve.target=L,ve.relatedTarget=ft,Q=ve),ft=Q,q&&ue)t:{for(ve=WT,k=q,D=ue,L=0,Q=k;Q;Q=ve(Q))L++;Q=0;for(var ge=D;ge;ge=ve(ge))Q++;for(;0<L-Q;)k=ve(k),L--;for(;0<Q-L;)D=ve(D),Q--;for(;L--;){if(k===D||D!==null&&k===D.alternate){ve=k;break t}k=ve(k),D=ve(D)}ve=null}else ve=null;q!==null&&a_(Y,z,q,ve,!1),ue!==null&&ft!==null&&a_(Y,ft,ue,ve,!0)}}e:{if(z=P?Nn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Je=Sg;else if(Tg(z))if(Ag)Je=cT;else{Je=lT;var fe=oT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&_a(P.elementType)&&(Je=Sg):Je=uT;if(Je&&(Je=Je(t,P))){bg(Y,Je,s,F);break e}fe&&fe(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&ko(z,"number",z.value)}switch(fe=P?Nn(P):window,t){case"focusin":(Tg(fe)||fe.contentEditable==="true")&&(Ra=fe,Gh=P,Ko=null);break;case"focusout":Ko=Gh=Ra=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,Og(Y,s,F);break;case"selectionchange":if(fT)break;case"keydown":case"keyup":Og(Y,s,F)}var Ve;if(et)e:{switch(t){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else wa?Br(t,s)&&(qe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(qe="onCompositionStart");qe&&(Li&&s.locale!=="ko"&&(wa||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&wa&&(Ve=zo()):(Vi=F,Po="value"in Vi?Vi.value:Vi.textContent,wa=!0)),fe=_c(P,qe),0<fe.length&&(qe=new ji(qe,t,null,s,F),Y.push({event:qe,listeners:fe}),Ve?qe.data=Ve:(Ve=Aa(s),Ve!==null&&(qe.data=Ve)))),(Ve=Fn?iT(t,s):sT(t,s))&&(qe=_c(P,"onBeforeInput"),0<qe.length&&(fe=new ji("onBeforeInput","beforeinput",null,s,F),Y.push({event:fe,listeners:qe}),fe.data=Ve)),XT(Y,t,P,s,F)}s_(Y,n)})}function _l(t,n,s){return{instance:t,listener:n,currentTarget:s}}function _c(t,n){for(var s=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ci(t,s),h!=null&&o.unshift(_l(t,h,f)),h=ci(t,n),h!=null&&o.push(_l(t,h,f))),t.tag===3)return o;t=t.return}return[]}function WT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function a_(t,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,I=E.alternate,P=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||P===null||(I=P,h?(P=ci(s,f),P!=null&&p.unshift(_l(s,P,I))):h||(P=ci(s,f),P!=null&&p.push(_l(s,P,I)))),s=s.return}p.length!==0&&t.push({event:n,listeners:p})}var eb=/\r\n?/g,tb=/\u0000|\uFFFD/g;function o_(t){return(typeof t=="string"?t:""+t).replace(eb,`
`).replace(tb,"")}function l_(t,n){return n=o_(n),o_(t)===n}function ht(t,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||vn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&vn(t,""+o);break;case"className":Dn(t,"class",o);break;case"tabIndex":Dn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(t,s,o);break;case"style":jo(t,o,f);break;case"data":if(n!=="object"){Dn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=va(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ht(t,n,"name",h.name,h,null),ht(t,n,"formEncType",h.formEncType,h,null),ht(t,n,"formMethod",h.formMethod,h,null),ht(t,n,"formTarget",h.formTarget,h,null)):(ht(t,n,"encType",h.encType,h,null),ht(t,n,"method",h.method,h,null),ht(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=va(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=ui);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=va(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),pa(t,"popover",o);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":pa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=_u.get(s)||s,pa(t,s,o))}}function yd(t,n,s,o,h,f){switch(s){case"style":jo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?vn(t,o):(typeof o=="number"||typeof o=="bigint")&&vn(t,""+o);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[$t]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):pa(t,s,o)}}}function an(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(t,n,f,p,s,null)}}h&&ht(t,n,"srcSet",s.srcSet,s,null),o&&ht(t,n,"src",s.src,s,null);return;case"input":Pe("invalid",t);var E=f=p=h=null,I=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":p=F;break;case"checked":I=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:ht(t,n,o,F,s,null)}}gu(t,f,E,I,P,p,h,!1);return;case"select":Pe("invalid",t),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:ht(t,n,h,E,s,null)}n=f,s=p,t.multiple=!!o,n!=null?Os(t,!!o,n,!1):s!=null&&Os(t,!!o,s,!0);return;case"textarea":Pe("invalid",t),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ht(t,n,p,E,s,null)}Ms(t,o,h,f);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(o=s[I],o!=null))switch(I){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ht(t,n,I,o,s,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(o=0;o<yl.length;o++)Pe(yl[o],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(t,n,P,o,s,null)}return;default:if(_a(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&yd(t,n,F,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ht(t,n,E,o,s,null))}function nb(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,P=null,F=null;for(q in s){var Y=s[q];if(s.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=Y;default:o.hasOwnProperty(q)||ht(t,n,q,null,o,Y)}}for(var z in o){var q=o[z];if(Y=s[z],o.hasOwnProperty(z)&&(q!=null||Y!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":F=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&ht(t,n,z,q,o,Y)}}ya(t,p,E,I,P,F,f,h);return;case"select":q=p=E=z=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:o.hasOwnProperty(f)||ht(t,n,f,null,o,I)}for(h in o)if(f=o[h],I=s[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&ht(t,n,h,f,o,I)}n=E,s=p,o=q,z!=null?Os(t,!!s,z,!1):!!o!=!!s&&(n!=null?Os(t,!!s,n,!0):Os(t,!!s,s?[]:"",!1));return;case"textarea":q=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ht(t,n,E,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ht(t,n,p,h,o,f)}pu(t,z,q);return;case"option":for(var ue in s)if(z=s[ue],s.hasOwnProperty(ue)&&z!=null&&!o.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:ht(t,n,ue,null,o,z)}for(I in o)if(z=o[I],q=s[I],o.hasOwnProperty(I)&&z!==q&&(z!=null||q!=null))switch(I){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:ht(t,n,I,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in s)z=s[ve],s.hasOwnProperty(ve)&&z!=null&&!o.hasOwnProperty(ve)&&ht(t,n,ve,null,o,z);for(P in o)if(z=o[P],q=s[P],o.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:ht(t,n,P,z,o,q)}return;default:if(_a(n)){for(var ft in s)z=s[ft],s.hasOwnProperty(ft)&&z!==void 0&&!o.hasOwnProperty(ft)&&yd(t,n,ft,void 0,o,z);for(F in o)z=o[F],q=s[F],!o.hasOwnProperty(F)||z===q||z===void 0&&q===void 0||yd(t,n,F,z,o,q);return}}for(var k in s)z=s[k],s.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&ht(t,n,k,null,o,z);for(Y in o)z=o[Y],q=s[Y],!o.hasOwnProperty(Y)||z===q||z==null&&q==null||ht(t,n,Y,z,o,q)}function u_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ib(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&u_(p)){for(p=0,E=h.responseEnd,o+=1;o<s.length;o++){var I=s[o],P=I.startTime;if(P>E)break;var F=I.transferSize,Y=I.initiatorType;F&&u_(Y)&&(I=I.responseEnd,p+=F*(I<E?1:(E-P)/(I-P)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var _d=null,vd=null;function vc(t){return t.nodeType===9?t:t.ownerDocument}function c_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ed(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Td=null;function sb(){var t=window.event;return t&&t.type==="popstate"?t===Td?!1:(Td=t,!0):(Td=null,!1)}var f_=typeof setTimeout=="function"?setTimeout:void 0,rb=typeof clearTimeout=="function"?clearTimeout:void 0,d_=typeof Promise=="function"?Promise:void 0,ab=typeof queueMicrotask=="function"?queueMicrotask:typeof d_<"u"?function(t){return d_.resolve(null).then(t).catch(ob)}:f_;function ob(t){setTimeout(function(){throw t})}function nr(t){return t==="head"}function m_(t,n){var s=n,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),Wa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")vl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,vl(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[xi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&vl(t.ownerDocument.body);s=h}while(s);Wa(n)}function g_(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function bd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":bd(s),ga(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function lb(t,n,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[xi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Zn(t.nextSibling),t===null)break}return null}function ub(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Zn(t.nextSibling),t===null))return null;return t}function p_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Zn(t.nextSibling),t===null))return null;return t}function Sd(t){return t.data==="$?"||t.data==="$~"}function Ad(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function cb(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var wd=null;function y_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Zn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function __(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function v_(t,n,s){switch(n=vc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ga(t)}var Wn=new Map,E_=new Set;function Ec(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var vs=ne.d;ne.d={f:hb,r:fb,D:db,C:mb,L:gb,m:pb,X:_b,S:yb,M:vb};function hb(){var t=vs.f(),n=hc();return t||n}function fb(t){var n=qn(t);n!==null&&n.tag===5&&n.type==="form"?jp(n):vs.r(t)}var $a=typeof document>"u"?null:document;function T_(t,n,s){var o=$a;if(o&&typeof n=="string"&&n){var h=_n(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),E_.has(h)||(E_.add(h),t={rel:t,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),an(n,"link",t),Lt(n),o.head.appendChild(n)))}}function db(t){vs.D(t),T_("dns-prefetch",t,null)}function mb(t,n){vs.C(t,n),T_("preconnect",t,n)}function gb(t,n,s){vs.L(t,n,s);var o=$a;if(o&&t&&n){var h='link[rel="preload"][as="'+_n(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+_n(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+_n(s.imageSizes)+'"]')):h+='[href="'+_n(t)+'"]';var f=h;switch(n){case"style":f=Ja(t);break;case"script":f=Za(t)}Wn.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Wn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(El(f))||n==="script"&&o.querySelector(Tl(f))||(n=o.createElement("link"),an(n,"link",t),Lt(n),o.head.appendChild(n)))}}function pb(t,n){vs.m(t,n);var s=$a;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+_n(o)+'"][href="'+_n(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Za(t)}if(!Wn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Wn.set(f,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Tl(f)))return}o=s.createElement("link"),an(o,"link",t),Lt(o),s.head.appendChild(o)}}}function yb(t,n,s){vs.S(t,n,s);var o=$a;if(o&&t){var h=Ci(o).hoistableStyles,f=Ja(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(El(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Wn.get(f))&&Rd(t,s);var I=p=o.createElement("link");Lt(I),an(I,"link",t),I._p=new Promise(function(P,F){I.onload=P,I.onerror=F}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Tc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function _b(t,n){vs.X(t,n);var s=$a;if(s&&t){var o=Ci(s).hoistableScripts,h=Za(t),f=o.get(h);f||(f=s.querySelector(Tl(h)),f||(t=A({src:t,async:!0},n),(n=Wn.get(h))&&xd(t,n),f=s.createElement("script"),Lt(f),an(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function vb(t,n){vs.M(t,n);var s=$a;if(s&&t){var o=Ci(s).hoistableScripts,h=Za(t),f=o.get(h);f||(f=s.querySelector(Tl(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Wn.get(h))&&xd(t,n),f=s.createElement("script"),Lt(f),an(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function b_(t,n,s,o){var h=(h=Ie.current)?Ec(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ja(s.href),s=Ci(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ja(s.href);var f=Ci(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(El(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Wn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Wn.set(t,s),f||Eb(h,t,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Za(s),s=Ci(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ja(t){return'href="'+_n(t)+'"'}function El(t){return'link[rel="stylesheet"]['+t+"]"}function S_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Eb(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),an(n,"link",s),Lt(n),t.head.appendChild(n))}function Za(t){return'[src="'+_n(t)+'"]'}function Tl(t){return"script[async]"+t}function A_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+_n(s.href)+'"]');if(o)return n.instance=o,Lt(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Lt(o),an(o,"style",h),Tc(o,s.precedence,t),n.instance=o;case"stylesheet":h=Ja(s.href);var f=t.querySelector(El(h));if(f)return n.state.loading|=4,n.instance=f,Lt(f),f;o=S_(s),(h=Wn.get(h))&&Rd(o,h),f=(t.ownerDocument||t).createElement("link"),Lt(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),an(f,"link",o),n.state.loading|=4,Tc(f,s.precedence,t),n.instance=f;case"script":return f=Za(s.src),(h=t.querySelector(Tl(f)))?(n.instance=h,Lt(h),h):(o=s,(h=Wn.get(f))&&(o=A({},s),xd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Lt(h),an(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Tc(o,s.precedence,t));return n.instance}function Tc(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Rd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function xd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var bc=null;function w_(t,n,s){if(bc===null){var o=new Map,h=bc=new Map;h.set(s,o)}else h=bc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[xi]||f[jt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function R_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function Tb(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function x_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function bb(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ja(o.href),f=n.querySelector(El(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Sc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Lt(f);return}f=n.ownerDocument||n,o=S_(o),(h=Wn.get(h))&&Rd(o,h),f=f.createElement("link"),Lt(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),an(f,"link",o),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Sc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Id=0;function Sb(t,n){return t.stylesheets&&t.count===0&&wc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&wc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Id===0&&(Id=62500*ib());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&wc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Id?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ac=null;function wc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ac=new Map,n.forEach(Ab,t),Ac=null,Sc.call(t))}function Ab(t,n){if(!(n.state.loading&4)){var s=Ac.get(t);if(s)var o=s.get(null);else{s=new Map,Ac.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=Sc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var bl={$$typeof:ye,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function wb(t,n,s,o,h,f,p,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function I_(t,n,s,o,h,f,p,E,I,P,F,Y){return t=new wb(t,n,s,p,I,P,F,Y,E),n=1,f===!0&&(n|=24),f=Mn(3,null,null,n),t.current=f,f.stateNode=t,n=of(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},hf(f),t}function C_(t){return t?(t=Ca,t):Ca}function N_(t,n,s,o,h,f){h=C_(h),o.context===null?o.context=h:o.pendingContext=h,o=Fs(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Qs(t,o,n),s!==null&&(An(s,t,n),el(s,t,n))}function D_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Cd(t,n){D_(t,n),(t=t.alternate)&&D_(t,n)}function O_(t){if(t.tag===13||t.tag===31){var n=Gr(t,67108864);n!==null&&An(n,t,67108864),Cd(t,67108864)}}function M_(t){if(t.tag===13||t.tag===31){var n=Ln();n=Or(n);var s=Gr(t,n);s!==null&&An(s,t,n),Cd(t,n)}}var Rc=!0;function Rb(t,n,s,o){var h=G.T;G.T=null;var f=ne.p;try{ne.p=2,Nd(t,n,s,o)}finally{ne.p=f,G.T=h}}function xb(t,n,s,o){var h=G.T;G.T=null;var f=ne.p;try{ne.p=8,Nd(t,n,s,o)}finally{ne.p=f,G.T=h}}function Nd(t,n,s,o){if(Rc){var h=Dd(o);if(h===null)pd(t,n,o,xc,s),k_(t,o);else if(Cb(h,t,n,s,o))o.stopPropagation();else if(k_(t,o),n&4&&-1<Ib.indexOf(t)){for(;h!==null;){var f=qn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Si(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-Dt(p);E.entanglements[1]|=I,p&=~I}qi(f),(tt&6)===0&&(uc=Se()+500,pl(0))}}break;case 31:case 13:E=Gr(f,2),E!==null&&An(E,f,2),hc(),Cd(f,2)}if(f=Dd(o),f===null&&pd(t,n,o,xc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else pd(t,n,o,null,s)}}function Dd(t){return t=Hn(t),Od(t)}var xc=null;function Od(t){if(xc=null,t=Ii(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=y(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xc=t,null}function V_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lt()){case Z:return 2;case he:return 8;case Et:case Nt:return 32;case xt:return 268435456;default:return 32}default:return 32}}var Md=!1,ir=null,sr=null,rr=null,Sl=new Map,Al=new Map,ar=[],Ib="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k_(t,n){switch(t){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":Sl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(n.pointerId)}}function wl(t,n,s,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=qn(n),n!==null&&O_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Cb(t,n,s,o,h){switch(n){case"focusin":return ir=wl(ir,t,n,s,o,h),!0;case"dragenter":return sr=wl(sr,t,n,s,o,h),!0;case"mouseover":return rr=wl(rr,t,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return Sl.set(f,wl(Sl.get(f)||null,t,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Al.set(f,wl(Al.get(f)||null,t,n,s,o,h)),!0}return!1}function U_(t){var n=Ii(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,oi(t.priority,function(){M_(s)});return}}else if(n===31){if(n=y(s),n!==null){t.blockedOn=n,oi(t.priority,function(){M_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ic(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Dd(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Lo=o,s.target.dispatchEvent(o),Lo=null}else return n=qn(s),n!==null&&O_(n),t.blockedOn=s,!1;n.shift()}return!0}function j_(t,n,s){Ic(t)&&s.delete(n)}function Nb(){Md=!1,ir!==null&&Ic(ir)&&(ir=null),sr!==null&&Ic(sr)&&(sr=null),rr!==null&&Ic(rr)&&(rr=null),Sl.forEach(j_),Al.forEach(j_)}function Cc(t,n){t.blockedOn===n&&(t.blockedOn=null,Md||(Md=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Nb)))}var Nc=null;function L_(t){Nc!==t&&(Nc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Nc===t&&(Nc=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Od(o||s)===null)continue;break}var f=qn(s);f!==null&&(t.splice(n,3),n-=3,Df(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Wa(t){function n(I){return Cc(I,t)}ir!==null&&Cc(ir,t),sr!==null&&Cc(sr,t),rr!==null&&Cc(rr,t),Sl.forEach(n),Al.forEach(n);for(var s=0;s<ar.length;s++){var o=ar[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ar.length&&(s=ar[0],s.blockedOn===null);)U_(s),s.blockedOn===null&&ar.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[$t]||null;if(typeof f=="function")p||L_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[$t]||null)E=p.formAction;else if(Od(h)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),L_(s)}}}function P_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Vd(t){this._internalRoot=t}Dc.prototype.render=Vd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Ln();N_(s,o,t,n,null,null)},Dc.prototype.unmount=Vd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;N_(t.current,2,null,t,null,null),hc(),n[Ri]=null}};function Dc(t){this._internalRoot=t}Dc.prototype.unstable_scheduleHydration=function(t){if(t){var n=hu();t={blockedOn:null,target:t,priority:n};for(var s=0;s<ar.length&&n!==0&&n<ar[s].priority;s++);ar.splice(s,0,t),s===0&&U_(t)}};var z_=e.version;if(z_!=="19.2.0")throw Error(a(527,z_,"19.2.0"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var Db={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{Cn=Oc.inject(Db),en=Oc}catch{}}return xl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",h=Kp,f=Yp,p=Xp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=I_(t,1,!1,null,null,s,o,null,h,f,p,P_),t[Ri]=n.current,gd(t),new Vd(n)},xl.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,h="",f=Kp,p=Yp,E=Xp,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=I_(t,1,!0,n,s??null,o,h,I,f,p,E,P_),n.context=C_(null),s=n.current,o=Ln(),o=Or(o),h=Fs(o),h.callback=null,Qs(s,h,o),s=o,n.current.lanes=s,Nr(n,s),qi(n),t[Ri]=n.current,gd(t),new Dc(n)},xl.version="19.2.0",xl}var $_;function Bb(){if($_)return jd.exports;$_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),jd.exports=zb(),jd.exports}var qb=Bb();const Hb=()=>{};var J_={};const Ov=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Gb=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],y=r[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Mv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,y=d?r[l+1]:0,g=l+2<r.length,_=g?r[l+2]:0,S=c>>2,A=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,H=_&63;g||(H=64,d||(M=64)),a.push(i[S],i[A],i[M],i[H])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Ov(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Gb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],y=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||y==null||_==null||A==null)throw new Fb;const M=c<<2|y>>4;if(a.push(M),_!==64){const H=y<<4&240|_>>2;if(a.push(H),A!==64){const te=_<<6&192|A;a.push(te)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Fb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qb=function(r){const e=Ov(r);return Mv.encodeByteArray(e,!0)},Jc=function(r){return Qb(r).replace(/\./g,"")},Vv=function(r){try{return Mv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Kb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Yb=()=>Kb().__FIREBASE_DEFAULTS__,Xb=()=>{if(typeof process>"u"||typeof J_>"u")return;const r=J_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$b=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Vv(r[1]);return e&&JSON.parse(e)},yh=()=>{try{return Hb()||Yb()||Xb()||$b()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},kv=r=>yh()?.emulatorHosts?.[r],Jb=r=>{const e=kv(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Uv=()=>yh()?.config,jv=r=>yh()?.[`_${r}`];class Zb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Eo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lv(r){return(await fetch(r,{credentials:"include"})).ok}function Wb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Jc(JSON.stringify(i)),Jc(JSON.stringify(d)),""].join(".")}const Ml={};function eS(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ml))Ml[e]?r.emulator.push(e):r.prod.push(e);return r}function tS(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Z_=!1;function Pv(r,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||Ml[r]===e||Ml[r]||Z_)return;Ml[r]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=eS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function g(M,H){M.setAttribute("width","24"),M.setAttribute("id",H),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{Z_=!0,d()},M}function S(M,H){M.setAttribute("id",H),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=tS(a),H=i("text"),te=document.getElementById(H)||document.createElement("span"),re=i("learnmore"),$=document.getElementById(re)||document.createElement("a"),pe=i("preprendIcon"),me=document.getElementById(pe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ye=M.element;y(ye),S($,re);const $e=_();g(me,pe),ye.append(me,te,$,$e),document.body.appendChild(ye)}c?(te.innerText="Preview backend disconnected.",me.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(me.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,te.innerText="Preview backend running in this workspace."),te.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function iS(){const r=yh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function aS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oS(){const r=mn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function lS(){return!iS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uS(){try{return typeof indexedDB=="object"}catch{return!1}}function cS(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const hS="FirebaseError";class Ns extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=hS,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?fS(c,a):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new Ns(l,y,a)}}function fS(r,e){return r.replace(dS,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const dS=/\{\$([^}]+)}/g;function mS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Er(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=e[l];if(W_(c)&&W_(d)){if(!Er(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function W_(r){return r!==null&&typeof r=="object"}function $l(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function gS(r,e){const i=new pS(r,e);return i.subscribe.bind(i)}class pS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");yS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Bd),l.error===void 0&&(l.error=Bd),l.complete===void 0&&(l.complete=Bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yS(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Bd(){}function yn(r){return r&&r._delegate?r._delegate:r}class aa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ia="[DEFAULT]";class _S{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Zb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ES(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:vS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vS(r){return r===ia?void 0:r}function ES(r){return r.instantiationMode==="EAGER"}class TS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new _S(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var He;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(He||(He={}));const bS={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},SS=He.INFO,AS={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},wS=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=AS[e];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cm{constructor(e){this.name=e,this._logLevel=SS,this._logHandler=wS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const RS=(r,e)=>e.some(i=>r instanceof i);let e0,t0;function xS(){return e0||(e0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IS(){return t0||(t0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zv=new WeakMap,tm=new WeakMap,Bv=new WeakMap,qd=new WeakMap,Nm=new WeakMap;function CS(r){const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(gr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&zv.set(i,r)}).catch(()=>{}),Nm.set(e,r),e}function NS(r){if(tm.has(r))return;const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});tm.set(r,e)}let nm={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return tm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Bv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return gr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function DS(r){nm=r(nm)}function OS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Hd(this),e,...i);return Bv.set(a,e.sort?e.sort():[e]),gr(a)}:IS().includes(r)?function(...e){return r.apply(Hd(this),e),gr(zv.get(this))}:function(...e){return gr(r.apply(Hd(this),e))}}function MS(r){return typeof r=="function"?OS(r):(r instanceof IDBTransaction&&NS(r),RS(r,xS())?new Proxy(r,nm):r)}function gr(r){if(r instanceof IDBRequest)return CS(r);if(qd.has(r))return qd.get(r);const e=MS(r);return e!==r&&(qd.set(r,e),Nm.set(e,r)),e}const Hd=r=>Nm.get(r);function VS(r,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),y=gr(d);return a&&d.addEventListener("upgradeneeded",g=>{a(gr(d.result),g.oldVersion,g.newVersion,gr(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),y.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const kS=["get","getKey","getAll","getAllKeys","count"],US=["put","add","delete","clear"],Gd=new Map;function n0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=US.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||kS.includes(i)))return;const c=async function(d,...y){const g=this.transaction(d,l?"readwrite":"readonly");let _=g.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),l&&g.done]))[0]};return Gd.set(e,c),c}DS(r=>({...r,get:(e,i,a)=>n0(e,i)||r.get(e,i,a),has:(e,i)=>!!n0(e,i)||r.has(e,i)}));class jS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(LS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function LS(r){return r.getComponent()?.type==="VERSION"}const im="@firebase/app",i0="0.14.6";const As=new Cm("@firebase/app"),PS="@firebase/app-compat",zS="@firebase/analytics-compat",BS="@firebase/analytics",qS="@firebase/app-check-compat",HS="@firebase/app-check",GS="@firebase/auth",FS="@firebase/auth-compat",QS="@firebase/database",KS="@firebase/data-connect",YS="@firebase/database-compat",XS="@firebase/functions",$S="@firebase/functions-compat",JS="@firebase/installations",ZS="@firebase/installations-compat",WS="@firebase/messaging",eA="@firebase/messaging-compat",tA="@firebase/performance",nA="@firebase/performance-compat",iA="@firebase/remote-config",sA="@firebase/remote-config-compat",rA="@firebase/storage",aA="@firebase/storage-compat",oA="@firebase/firestore",lA="@firebase/ai",uA="@firebase/firestore-compat",cA="firebase",hA="12.6.0";const sm="[DEFAULT]",fA={[im]:"fire-core",[PS]:"fire-core-compat",[BS]:"fire-analytics",[zS]:"fire-analytics-compat",[HS]:"fire-app-check",[qS]:"fire-app-check-compat",[GS]:"fire-auth",[FS]:"fire-auth-compat",[QS]:"fire-rtdb",[KS]:"fire-data-connect",[YS]:"fire-rtdb-compat",[XS]:"fire-fn",[$S]:"fire-fn-compat",[JS]:"fire-iid",[ZS]:"fire-iid-compat",[WS]:"fire-fcm",[eA]:"fire-fcm-compat",[tA]:"fire-perf",[nA]:"fire-perf-compat",[iA]:"fire-rc",[sA]:"fire-rc-compat",[rA]:"fire-gcs",[aA]:"fire-gcs-compat",[oA]:"fire-fst",[uA]:"fire-fst-compat",[lA]:"fire-vertex","fire-js":"fire-js",[cA]:"fire-js-all"};const Zc=new Map,dA=new Map,rm=new Map;function s0(r,e){try{r.container.addComponent(e)}catch(i){As.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function ho(r){const e=r.name;if(rm.has(e))return As.debug(`There were multiple attempts to register component ${e}.`),!1;rm.set(e,r);for(const i of Zc.values())s0(i,r);for(const i of dA.values())s0(i,r);return!0}function Dm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function si(r){return r==null?!1:r.settings!==void 0}const mA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new Xl("app","Firebase",mA);class gA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}const To=hA;function qv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:sm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw pr.create("bad-app-name",{appName:String(l)});if(i||(i=Uv()),!i)throw pr.create("no-options");const c=Zc.get(l);if(c){if(Er(i,c.options)&&Er(a,c.config))return c;throw pr.create("duplicate-app",{appName:l})}const d=new TS(l);for(const g of rm.values())d.addComponent(g);const y=new gA(i,a,d);return Zc.set(l,y),y}function Hv(r=sm){const e=Zc.get(r);if(!e&&r===sm&&Uv())return qv();if(!e)throw pr.create("no-app",{appName:r});return e}function yr(r,e,i){let a=fA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),As.warn(d.join(" "));return}ho(new aa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const pA="firebase-heartbeat-database",yA=1,Bl="firebase-heartbeat-store";let Fd=null;function Gv(){return Fd||(Fd=VS(pA,yA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Bl)}catch(i){console.warn(i)}}}}).catch(r=>{throw pr.create("idb-open",{originalErrorMessage:r.message})})),Fd}async function _A(r){try{const i=(await Gv()).transaction(Bl),a=await i.objectStore(Bl).get(Fv(r));return await i.done,a}catch(e){if(e instanceof Ns)As.warn(e.message);else{const i=pr.create("idb-get",{originalErrorMessage:e?.message});As.warn(i.message)}}}async function r0(r,e){try{const a=(await Gv()).transaction(Bl,"readwrite");await a.objectStore(Bl).put(e,Fv(r)),await a.done}catch(i){if(i instanceof Ns)As.warn(i.message);else{const a=pr.create("idb-set",{originalErrorMessage:i?.message});As.warn(a.message)}}}function Fv(r){return`${r.name}!${r.options.appId}`}const vA=1024,EA=30;class TA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new SA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=a0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>EA){const l=AA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){As.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=a0(),{heartbeatsToSend:i,unsentEntries:a}=bA(this._heartbeatsCache.heartbeats),l=Jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return As.warn(e),""}}}function a0(){return new Date().toISOString().substring(0,10)}function bA(r,e=vA){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),o0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),o0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class SA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uS()?cS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await _A(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return r0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return r0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function o0(r){return Jc(JSON.stringify({version:2,heartbeats:r})).length}function AA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function wA(r){ho(new aa("platform-logger",e=>new jS(e),"PRIVATE")),ho(new aa("heartbeat",e=>new TA(e),"PRIVATE")),yr(im,i0,r),yr(im,i0,"esm2020"),yr("fire-js","")}wA("");var RA="firebase",xA="12.6.0";yr(RA,xA,"app");function Qv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IA=Qv,Kv=new Xl("auth","Firebase",Qv());const Wc=new Cm("@firebase/auth");function CA(r,...e){Wc.logLevel<=He.WARN&&Wc.warn(`Auth (${To}): ${r}`,...e)}function Bc(r,...e){Wc.logLevel<=He.ERROR&&Wc.error(`Auth (${To}): ${r}`,...e)}function ws(r,...e){throw Om(r,...e)}function Fi(r,...e){return Om(r,...e)}function Yv(r,e,i){const a={...IA(),[e]:i};return new Xl("auth","Firebase",a).create(e,{appName:r.name})}function Ss(r){return Yv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Om(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Kv.create(r,...e)}function we(r,e,...i){if(!r)throw Om(e,...i)}function Ts(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Bc(e),new Error(e)}function Rs(r,e){r||Ts(e)}function am(){return typeof self<"u"&&self.location?.href||""}function NA(){return l0()==="http:"||l0()==="https:"}function l0(){return typeof self<"u"&&self.location?.protocol||null}function DA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NA()||rS()||"connection"in navigator)?navigator.onLine:!0}function OA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Jl{constructor(e,i){this.shortDelay=e,this.longDelay=i,Rs(i>e,"Short delay should be less than long delay!"),this.isMobile=nS()||aS()}get(){return DA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mm(r,e){Rs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Xv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const MA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const VA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kA=new Jl(3e4,6e4);function Zl(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function bo(r,e,i,a,l={}){return $v(r,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const y=$l({key:r.config.apiKey,...d}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:g,...c};return sS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(_.credentials="include"),Xv.fetch()(await Jv(r,r.config.apiHost,i,y),_)})}async function $v(r,e,i){r._canInitEmulator=!1;const a={...MA,...e};try{const l=new UA(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Mc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[g,_]=y.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(r,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Mc(r,"email-already-in-use",d);if(g==="USER_DISABLED")throw Mc(r,"user-disabled",d);const S=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Yv(r,S,_);ws(r,S)}}catch(l){if(l instanceof Ns)throw l;ws(r,"network-request-failed",{message:String(l)})}}async function Vm(r,e,i,a,l={}){const c=await bo(r,e,i,a,l);return"mfaPendingCredential"in c&&ws(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Jv(r,e,i,a){const l=`${e}${i}?${a}`,c=r,d=c.config.emulator?Mm(r.config,l):`${r.config.apiScheme}://${l}`;return VA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class UA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Fi(this.auth,"network-request-failed")),kA.get())})}}function Mc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Fi(r,e,a);return l.customData._tokenResponse=i,l}async function jA(r,e){return bo(r,"POST","/v1/accounts:delete",e)}async function eh(r,e){return bo(r,"POST","/v1/accounts:lookup",e)}function Vl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LA(r,e=!1){const i=yn(r),a=await i.getIdToken(e),l=km(a);we(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Vl(Qd(l.auth_time)),issuedAtTime:Vl(Qd(l.iat)),expirationTime:Vl(Qd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Qd(r){return Number(r)*1e3}function km(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Vv(i);return l?JSON.parse(l):(Bc("Failed to decode base64 JWT payload"),null)}catch(l){return Bc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function u0(r){const e=km(r);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ql(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ns&&PA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function PA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class zA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class om{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function th(r){const e=r.auth,i=await r.getIdToken(),a=await ql(r,eh(e,{idToken:i}));we(a?.users.length,e,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Zv(l.providerUserInfo):[],d=qA(r.providerData,c),y=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!d?.length,_=y?g:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,S)}async function BA(r){const e=yn(r);await th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qA(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function Zv(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function HA(r,e){const i=await $v(r,{},async()=>{const a=$l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await Jv(r,l,"/v1/token",`key=${c}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:y,body:a};return r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(g.credentials="include"),Xv.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function GA(r,e){return bo(r,"POST","/v2/accounts:revokeToken",Zl(r,e))}class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){we(e.length!==0,"internal-error");const i=u0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await HA(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new ro;return a&&(we(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(we(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(we(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return Ts("not implemented")}}function lr(r,e){we(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class _i{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new zA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new om(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await ql(this,this.stsTokenManager.getToken(this.auth,e));return we(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return LA(this,e)}reload(){return BA(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new _i({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await th(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(Ss(this.auth));const e=await this.getIdToken();return await ql(this,jA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:H,providerData:te,stsTokenManager:re}=i;we(A&&re,e,"internal-error");const $=ro.fromJSON(this.name,re);we(typeof A=="string",e,"internal-error"),lr(a,e.name),lr(l,e.name),we(typeof M=="boolean",e,"internal-error"),we(typeof H=="boolean",e,"internal-error"),lr(c,e.name),lr(d,e.name),lr(y,e.name),lr(g,e.name),lr(_,e.name),lr(S,e.name);const pe=new _i({uid:A,auth:e,email:l,emailVerified:M,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:$,createdAt:_,lastLoginAt:S});return te&&Array.isArray(te)&&(pe.providerData=te.map(me=>({...me}))),g&&(pe._redirectEventId=g),pe}static async _fromIdTokenResponse(e,i,a=!1){const l=new ro;l.updateFromServerResponse(i);const c=new _i({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await th(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];we(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Zv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,y=new ro;y.updateFromIdToken(a);const g=new _i({uid:l.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,_),g}}const c0=new Map;function bs(r){Rs(r instanceof Function,"Expected a class definition");let e=c0.get(r);return e?(Rs(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,c0.set(r,e),e)}class Wv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Wv.type="NONE";const h0=Wv;function qc(r,e,i){return`firebase:${r}:${e}:${i}`}class ao{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=qc(this.userKey,l.apiKey,c),this.fullPersistenceKey=qc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await eh(this.auth,{idToken:e}).catch(()=>{});return i?_i._fromGetAccountInfoResponse(this.auth,i,e):null}return _i._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new ao(bs(h0),e,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||bs(h0);const d=qc(a,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const S=await _._get(d);if(S){let A;if(typeof S=="string"){const M=await eh(e,{idToken:S}).catch(()=>{});if(!M)break;A=await _i._fromGetAccountInfoResponse(e,M,S)}else A=_i._fromJSON(e,S);_!==c&&(y=A),c=_;break}}catch{}const g=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new ao(c,e,a):(c=g[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new ao(c,e,a))}}function f0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(i1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(e1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(r1(e))return"Blackberry";if(a1(e))return"Webos";if(t1(e))return"Safari";if((e.includes("chrome/")||n1(e))&&!e.includes("edge/"))return"Chrome";if(s1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function e1(r=mn()){return/firefox\//i.test(r)}function t1(r=mn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function n1(r=mn()){return/crios\//i.test(r)}function i1(r=mn()){return/iemobile/i.test(r)}function s1(r=mn()){return/android/i.test(r)}function r1(r=mn()){return/blackberry/i.test(r)}function a1(r=mn()){return/webos/i.test(r)}function Um(r=mn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function FA(r=mn()){return Um(r)&&!!window.navigator?.standalone}function QA(){return oS()&&document.documentMode===10}function o1(r=mn()){return Um(r)||s1(r)||a1(r)||r1(r)||/windows phone/i.test(r)||i1(r)}function l1(r,e=[]){let i;switch(r){case"Browser":i=f0(mn());break;case"Worker":i=`${f0(mn())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${To}/${a}`}class KA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,y)=>{try{const g=e(c);d(g)}catch(g){y(g)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function YA(r,e={}){return bo(r,"GET","/v2/passwordPolicy",Zl(r,e))}const XA=6;class $A{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??XA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class JA{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d0(this),this.idTokenSubscription=new d0(this),this.beforeStateQueue=new KA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=bs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await eh(this,{idToken:e}),a=await _i._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(si(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await th(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(Ss(this));const i=e?yn(e):null;return i&&we(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YA(this),i=new $A(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await GA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&bs(e)||this._popupRedirectResolver;we(i,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[bs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,a,l);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&CA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Wl(r){return yn(r)}class d0{constructor(e){this.auth=e,this.observer=null,this.addObserver=gS(i=>this.observer=i)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let jm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZA(r){jm=r}function WA(r){return jm.loadJS(r)}function ew(){return jm.gapiScript}function tw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function nw(r,e){const i=Dm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Er(c,e??{}))return l;ws(l,"already-initialized")}return i.initialize({options:e})}function iw(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(bs);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function sw(r,e,i){const a=Wl(r);we(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=u1(e),{host:d,port:y}=rw(e),g=y===null?"":`:${y}`,_={url:`${c}//${d}${g}/`},S=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){we(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),we(Er(_,a.config.emulator)&&Er(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,Eo(d)?(Lv(`${c}//${d}${g}`),Pv("Auth",!0)):aw()}function u1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function rw(r){const e=u1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:m0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:m0(d)}}}function m0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function aw(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class c1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ts("not implemented")}_getIdTokenResponse(e){return Ts("not implemented")}_linkToIdToken(e,i){return Ts("not implemented")}_getReauthenticationResolver(e){return Ts("not implemented")}}async function oo(r,e){return Vm(r,"POST","/v1/accounts:signInWithIdp",Zl(r,e))}const ow="http://localhost";class oa extends c1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ws("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new oa(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return oo(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,oo(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,oo(e,i)}buildRequest(){const e={requestUri:ow,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=$l(i)}return e}}class h1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eu extends h1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cr extends eu{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";cr.PROVIDER_ID="facebook.com";class hr extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return oa._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return hr.credential(i,a)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";class fr extends eu{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.GITHUB_SIGN_IN_METHOD="github.com";fr.PROVIDER_ID="github.com";class dr extends eu{constructor(){super("twitter.com")}static credential(e,i){return oa._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return dr.credential(i,a)}catch{return null}}}dr.TWITTER_SIGN_IN_METHOD="twitter.com";dr.PROVIDER_ID="twitter.com";async function lw(r,e){return Vm(r,"POST","/v1/accounts:signUp",Zl(r,e))}class xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await _i._fromIdTokenResponse(e,a,l),d=g0(a);return new xs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=g0(a);return new xs({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function g0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function uw(r){if(si(r.app))return Promise.reject(Ss(r));const e=Wl(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new xs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await lw(e,{returnSecureToken:!0}),a=await xs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class nh extends Ns{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new nh(e,i,a,l)}}function f1(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(r,c,e,a):c})}async function cw(r,e,i=!1){const a=await ql(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return xs._forOperation(r,"link",a)}async function hw(r,e,i=!1){const{auth:a}=r;if(si(a.app))return Promise.reject(Ss(a));const l="reauthenticate";try{const c=await ql(r,f1(a,l,e,r),i);we(c.idToken,a,"internal-error");const d=km(c.idToken);we(d,a,"internal-error");const{sub:y}=d;return we(r.uid===y,a,"user-mismatch"),xs._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ws(a,"user-mismatch"),c}}async function fw(r,e,i=!1){if(si(r.app))return Promise.reject(Ss(r));const a="signIn",l=await f1(r,a,e),c=await xs._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function dw(r,e){return Vm(r,"POST","/v1/accounts:signInWithCustomToken",Zl(r,e))}async function mw(r,e){if(si(r.app))return Promise.reject(Ss(r));const i=Wl(r),a=await dw(i,{token:e,returnSecureToken:!0}),l=await xs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function gw(r,e,i,a){return yn(r).onIdTokenChanged(e,i,a)}function pw(r,e,i){return yn(r).beforeAuthStateChanged(e,i)}function yw(r,e,i,a){return yn(r).onAuthStateChanged(e,i,a)}const ih="__sak";class d1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const _w=1e3,vw=10;class m1 extends d1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=o1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,g)=>{this.notifyListeners(d,g)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);QA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,vw):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},_w)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}m1.type="LOCAL";const Ew=m1;class g1 extends d1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}g1.type="SESSION";const p1=g1;function Tw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new _h(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(d).map(async _=>_(i.origin,c)),g=await Tw(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];function Lm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class bw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((y,g)=>{const _=Lm("",20);l.port1.start();const S=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(S),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Qi(){return window}function Sw(r){Qi().location.href=r}function y1(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function Aw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ww(){return navigator?.serviceWorker?.controller||null}function Rw(){return y1()?self:null}const _1="firebaseLocalStorageDb",xw=1,sh="firebaseLocalStorage",v1="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function vh(r,e){return r.transaction([sh],e?"readwrite":"readonly").objectStore(sh)}function Iw(){const r=indexedDB.deleteDatabase(_1);return new tu(r).toPromise()}function lm(){const r=indexedDB.open(_1,xw);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(sh,{keyPath:v1})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(sh)?e(a):(a.close(),await Iw(),e(await lm()))})})}async function p0(r,e,i){const a=vh(r,!0).put({[v1]:e,value:i});return new tu(a).toPromise()}async function Cw(r,e){const i=vh(r,!1).get(e),a=await new tu(i).toPromise();return a===void 0?null:a.value}function y0(r,e){const i=vh(r,!0).delete(e);return new tu(i).toPromise()}const Nw=800,Dw=3;class E1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Dw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return y1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(Rw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Aw(),!this.activeServiceWorker)return;this.sender=new bw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ww()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lm();return await p0(e,ih,"1"),await y0(e,ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>p0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>Cw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>y0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=vh(l,!1).getAll();return new tu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}E1.type="LOCAL";const Ow=E1;new Jl(3e4,6e4);function Mw(r,e){return e?bs(e):(we(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Pm extends c1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return oo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Vw(r){return fw(r.auth,new Pm(r),r.bypassAuthState)}function kw(r){const{auth:e,user:i}=r;return we(i,e,"internal-error"),hw(i,new Pm(r),r.bypassAuthState)}async function Uw(r){const{auth:e,user:i}=r;return we(i,e,"internal-error"),cw(i,new Pm(r),r.bypassAuthState)}class T1{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vw;case"linkViaPopup":case"linkViaRedirect":return Uw;case"reauthViaPopup":case"reauthViaRedirect":return kw;default:ws(this.auth,"internal-error")}}resolve(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jw=new Jl(2e3,1e4);class so extends T1{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const e=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jw.get())};e()}}so.currentPopupAction=null;const Lw="pendingRedirect",Hc=new Map;class Pw extends T1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Hc.get(this.auth._key());if(!e){try{const a=await zw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Hc.set(this.auth._key(),e)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zw(r,e){const i=Hw(e),a=qw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Bw(r,e){Hc.set(r._key(),e)}function qw(r){return bs(r._redirectPersistence)}function Hw(r){return qc(Lw,r.config.apiKey,r.name)}async function Gw(r,e,i=!1){if(si(r.app))return Promise.reject(Ss(r));const a=Wl(r),l=Mw(a,e),d=await new Pw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Fw=600*1e3;class Qw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Kw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!b1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Fi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Fw&&this.cachedEventUids.clear(),this.cachedEventUids.has(_0(e))}saveEventToCache(e){this.cachedEventUids.add(_0(e)),this.lastProcessedEventTime=Date.now()}}function _0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function b1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function Kw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b1(r);default:return!1}}async function Yw(r,e={}){return bo(r,"GET","/v1/projects",e)}const Xw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$w=/^https?/;async function Jw(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Yw(r);for(const i of e)try{if(Zw(i))return}catch{}ws(r,"unauthorized-domain")}function Zw(r){const e=am(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!$w.test(i))return!1;if(Xw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Ww=new Jl(3e4,6e4);function v0(){const r=Qi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function e2(r){return new Promise((e,i)=>{function a(){v0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v0(),i(Fi(r,"network-request-failed"))},timeout:Ww.get()})}if(Qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Qi().gapi?.load)a();else{const l=tw("iframefcb");return Qi()[l]=()=>{gapi.load?a():i(Fi(r,"network-request-failed"))},WA(`${ew()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Gc=null,e})}let Gc=null;function t2(r){return Gc=Gc||e2(r),Gc}const n2=new Jl(5e3,15e3),i2="__/auth/iframe",s2="emulator/auth/iframe",r2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o2(r){const e=r.config;we(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Mm(e,s2):`https://${r.config.authDomain}/${i2}`,a={apiKey:e.apiKey,appName:r.name,v:To},l=a2.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${$l(a).slice(1)}`}async function l2(r){const e=await t2(r),i=Qi().gapi;return we(i,r,"internal-error"),e.open({where:document.body,url:o2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Fi(r,"network-request-failed"),y=Qi().setTimeout(()=>{c(d)},n2.get());function g(){Qi().clearTimeout(y),l(a)}a.ping(g).then(g,()=>{c(d)})}))}const u2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c2=500,h2=600,f2="_blank",d2="http://localhost";class E0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function m2(r,e,i,a=c2,l=h2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const g={...u2,width:a.toString(),height:l.toString(),top:c,left:d},_=mn().toLowerCase();i&&(y=n1(_)?f2:i),e1(_)&&(e=e||d2,g.scrollbars="yes");const S=Object.entries(g).reduce((M,[H,te])=>`${M}${H}=${te},`,"");if(FA(_)&&y!=="_self")return g2(e||"",y),new E0(null);const A=window.open(e||"",y,S);we(A,r,"popup-blocked");try{A.focus()}catch{}return new E0(A)}function g2(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const p2="__/auth/handler",y2="emulator/auth/handler",_2=encodeURIComponent("fac");async function T0(r,e,i,a,l,c){we(r.config.authDomain,r,"auth-domain-config-required"),we(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:To,eventId:l};if(e instanceof h1){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",mS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,A]of Object.entries({}))d[S]=A}if(e instanceof eu){const S=e.getScopes().filter(A=>A!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const y=d;for(const S of Object.keys(y))y[S]===void 0&&delete y[S];const g=await r._getAppCheckToken(),_=g?`#${_2}=${encodeURIComponent(g)}`:"";return`${v2(r)}?${$l(y).slice(1)}${_}`}function v2({config:r}){return r.emulator?Mm(r,y2):`https://${r.authDomain}/${p2}`}const Kd="webStorageSupport";class E2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=p1,this._completeRedirectFn=Gw,this._overrideRedirectResult=Bw}async _openPopup(e,i,a,l){Rs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await T0(e,i,a,am(),l);return m2(e,c,Lm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await T0(e,i,a,am(),l);return Sw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Rs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await l2(e),a=new Qw(e);return i.register("authEvent",l=>(we(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Kd,{type:Kd},l=>{const c=l?.[0]?.[Kd];c!==void 0&&i(!!c),ws(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Jw(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return o1()||t1()||Um()}}const T2=E2;var b0="@firebase/auth",S0="1.11.1";class b2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function S2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function A2(r){ho(new aa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;we(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l1(r)},_=new JA(a,l,c,g);return iw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),ho(new aa("auth-internal",e=>{const i=Wl(e.getProvider("auth").getImmediate());return(a=>new b2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(b0,S0,S2(r)),yr(b0,S0,"esm2020")}const w2=300,R2=jv("authIdTokenMaxAge")||w2;let A0=null;const x2=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>R2)return;const l=i?.token;A0!==l&&(A0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function I2(r=Hv()){const e=Dm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=nw(r,{popupRedirectResolver:T2,persistence:[Ow,Ew,p1]}),a=jv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=x2(c.toString());pw(i,d,()=>d(i.currentUser)),gw(i,y=>d(y))}}const l=kv("auth");return l&&sw(i,`http://${l}`),i}function C2(){return document.getElementsByTagName("head")?.[0]??document}ZA({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const c=Fi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",C2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});A2("Browser");var w0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _r,S1;(function(){var r;function e(C,w){function x(){}x.prototype=w.prototype,C.F=w.prototype,C.prototype=new x,C.prototype.constructor=C,C.D=function(V,N,U){for(var R=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)R[ot-2]=arguments[ot];return w.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,w,x){x||(x=0);const V=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)V[N]=w.charCodeAt(x++)|w.charCodeAt(x++)<<8|w.charCodeAt(x++)<<16|w.charCodeAt(x++)<<24;else for(N=0;N<16;++N)V[N]=w[x++]|w[x++]<<8|w[x++]<<16|w[x++]<<24;w=C.g[0],x=C.g[1],N=C.g[2];let U=C.g[3],R;R=w+(U^x&(N^U))+V[0]+3614090360&4294967295,w=x+(R<<7&4294967295|R>>>25),R=U+(N^w&(x^N))+V[1]+3905402710&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(x^U&(w^x))+V[2]+606105819&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(w^N&(U^w))+V[3]+3250441966&4294967295,x=N+(R<<22&4294967295|R>>>10),R=w+(U^x&(N^U))+V[4]+4118548399&4294967295,w=x+(R<<7&4294967295|R>>>25),R=U+(N^w&(x^N))+V[5]+1200080426&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(x^U&(w^x))+V[6]+2821735955&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(w^N&(U^w))+V[7]+4249261313&4294967295,x=N+(R<<22&4294967295|R>>>10),R=w+(U^x&(N^U))+V[8]+1770035416&4294967295,w=x+(R<<7&4294967295|R>>>25),R=U+(N^w&(x^N))+V[9]+2336552879&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(x^U&(w^x))+V[10]+4294925233&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(w^N&(U^w))+V[11]+2304563134&4294967295,x=N+(R<<22&4294967295|R>>>10),R=w+(U^x&(N^U))+V[12]+1804603682&4294967295,w=x+(R<<7&4294967295|R>>>25),R=U+(N^w&(x^N))+V[13]+4254626195&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(x^U&(w^x))+V[14]+2792965006&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(w^N&(U^w))+V[15]+1236535329&4294967295,x=N+(R<<22&4294967295|R>>>10),R=w+(N^U&(x^N))+V[1]+4129170786&4294967295,w=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(w^x))+V[6]+3225465664&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^x&(U^w))+V[11]+643717713&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^w&(N^U))+V[0]+3921069994&4294967295,x=N+(R<<20&4294967295|R>>>12),R=w+(N^U&(x^N))+V[5]+3593408605&4294967295,w=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(w^x))+V[10]+38016083&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^x&(U^w))+V[15]+3634488961&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^w&(N^U))+V[4]+3889429448&4294967295,x=N+(R<<20&4294967295|R>>>12),R=w+(N^U&(x^N))+V[9]+568446438&4294967295,w=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(w^x))+V[14]+3275163606&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^x&(U^w))+V[3]+4107603335&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^w&(N^U))+V[8]+1163531501&4294967295,x=N+(R<<20&4294967295|R>>>12),R=w+(N^U&(x^N))+V[13]+2850285829&4294967295,w=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(w^x))+V[2]+4243563512&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^x&(U^w))+V[7]+1735328473&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^w&(N^U))+V[12]+2368359562&4294967295,x=N+(R<<20&4294967295|R>>>12),R=w+(x^N^U)+V[5]+4294588738&4294967295,w=x+(R<<4&4294967295|R>>>28),R=U+(w^x^N)+V[8]+2272392833&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^x)+V[11]+1839030562&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^w)+V[14]+4259657740&4294967295,x=N+(R<<23&4294967295|R>>>9),R=w+(x^N^U)+V[1]+2763975236&4294967295,w=x+(R<<4&4294967295|R>>>28),R=U+(w^x^N)+V[4]+1272893353&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^x)+V[7]+4139469664&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^w)+V[10]+3200236656&4294967295,x=N+(R<<23&4294967295|R>>>9),R=w+(x^N^U)+V[13]+681279174&4294967295,w=x+(R<<4&4294967295|R>>>28),R=U+(w^x^N)+V[0]+3936430074&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^x)+V[3]+3572445317&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^w)+V[6]+76029189&4294967295,x=N+(R<<23&4294967295|R>>>9),R=w+(x^N^U)+V[9]+3654602809&4294967295,w=x+(R<<4&4294967295|R>>>28),R=U+(w^x^N)+V[12]+3873151461&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^x)+V[15]+530742520&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^w)+V[2]+3299628645&4294967295,x=N+(R<<23&4294967295|R>>>9),R=w+(N^(x|~U))+V[0]+4096336452&4294967295,w=x+(R<<6&4294967295|R>>>26),R=U+(x^(w|~N))+V[7]+1126891415&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~x))+V[14]+2878612391&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~w))+V[5]+4237533241&4294967295,x=N+(R<<21&4294967295|R>>>11),R=w+(N^(x|~U))+V[12]+1700485571&4294967295,w=x+(R<<6&4294967295|R>>>26),R=U+(x^(w|~N))+V[3]+2399980690&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~x))+V[10]+4293915773&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~w))+V[1]+2240044497&4294967295,x=N+(R<<21&4294967295|R>>>11),R=w+(N^(x|~U))+V[8]+1873313359&4294967295,w=x+(R<<6&4294967295|R>>>26),R=U+(x^(w|~N))+V[15]+4264355552&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~x))+V[6]+2734768916&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~w))+V[13]+1309151649&4294967295,x=N+(R<<21&4294967295|R>>>11),R=w+(N^(x|~U))+V[4]+4149444226&4294967295,w=x+(R<<6&4294967295|R>>>26),R=U+(x^(w|~N))+V[11]+3174756917&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~x))+V[2]+718787259&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~w))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+U&4294967295}a.prototype.v=function(C,w){w===void 0&&(w=C.length);const x=w-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<w;){if(N==0)for(;U<=x;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<w;)if(V[N++]=C.charCodeAt(U++),N==this.blockSize){l(this,V),N=0;break}}else for(;U<w;)if(V[N++]=C[U++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=w},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var x=C.length-8;x<C.length;++x)C[x]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)C[w++]=this.g[x]>>>V&255;return C};function c(C,w){var x=y;return Object.prototype.hasOwnProperty.call(x,C)?x[C]:x[C]=w(C)}function d(C,w){this.h=w;const x=[];let V=!0;for(let N=C.length-1;N>=0;N--){const U=C[N]|0;V&&U==w||(x[N]=U,V=!1)}this.g=x}var y={};function g(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return $(_(-C));const w=[];let x=1;for(let V=0;C>=x;V++)w[V]=C/x|0,x*=4294967296;return new d(w,0)}function S(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return $(S(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=_(Math.pow(w,8));let V=A;for(let U=0;U<C.length;U+=8){var N=Math.min(8,C.length-U);const R=parseInt(C.substring(U,U+N),w);N<8?(N=_(Math.pow(w,N)),V=V.j(N).add(_(R))):(V=V.j(x),V=V.add(_(R)))}return V}var A=g(0),M=g(1),H=g(16777216);r=d.prototype,r.m=function(){if(re(this))return-$(this).m();let C=0,w=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);C+=(V>=0?V:4294967296+V)*w,w*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(te(this))return"0";if(re(this))return"-"+$(this).toString(C);const w=_(Math.pow(C,6));var x=this;let V="";for(;;){const N=$e(x,w).g;x=pe(x,N.j(w));let U=((x.g.length>0?x.g[0]:x.h)>>>0).toString(C);if(x=N,te(x))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function te(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function re(C){return C.h==-1}r.l=function(C){return C=pe(this,C),re(C)?-1:te(C)?0:1};function $(C){const w=C.g.length,x=[];for(let V=0;V<w;V++)x[V]=~C.g[V];return new d(x,~C.h).add(M)}r.abs=function(){return re(this)?$(this):this},r.add=function(C){const w=Math.max(this.g.length,C.g.length),x=[];let V=0;for(let N=0;N<=w;N++){let U=V+(this.i(N)&65535)+(C.i(N)&65535),R=(U>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=R>>>16,U&=65535,R&=65535,x[N]=R<<16|U}return new d(x,x[x.length-1]&-2147483648?-1:0)};function pe(C,w){return C.add($(w))}r.j=function(C){if(te(this)||te(C))return A;if(re(this))return re(C)?$(this).j($(C)):$($(this).j(C));if(re(C))return $(this.j($(C)));if(this.l(H)<0&&C.l(H)<0)return _(this.m()*C.m());const w=this.g.length+C.g.length,x=[];for(var V=0;V<2*w;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const U=this.i(V)>>>16,R=this.i(V)&65535,ot=C.i(N)>>>16,Rt=C.i(N)&65535;x[2*V+2*N]+=R*Rt,me(x,2*V+2*N),x[2*V+2*N+1]+=U*Rt,me(x,2*V+2*N+1),x[2*V+2*N+1]+=R*ot,me(x,2*V+2*N+1),x[2*V+2*N+2]+=U*ot,me(x,2*V+2*N+2)}for(C=0;C<w;C++)x[C]=x[2*C+1]<<16|x[2*C];for(C=w;C<2*w;C++)x[C]=0;return new d(x,0)};function me(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function ye(C,w){this.g=C,this.h=w}function $e(C,w){if(te(w))throw Error("division by zero");if(te(C))return new ye(A,A);if(re(C))return w=$e($(C),w),new ye($(w.g),$(w.h));if(re(w))return w=$e(C,$(w)),new ye($(w.g),w.h);if(C.g.length>30){if(re(C)||re(w))throw Error("slowDivide_ only works with positive integers.");for(var x=M,V=w;V.l(C)<=0;)x=it(x),V=it(V);var N=Me(x,1),U=Me(V,1);for(V=Me(V,2),x=Me(x,2);!te(V);){var R=U.add(V);R.l(C)<=0&&(N=N.add(x),U=R),V=Me(V,1),x=Me(x,1)}return w=pe(C,N.j(w)),new ye(N,w)}for(N=A;C.l(w)>=0;){for(x=Math.max(1,Math.floor(C.m()/w.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(x),R=U.j(w);re(R)||R.l(C)>0;)x-=V,U=_(x),R=U.j(w);te(U)&&(U=M),N=N.add(U),C=pe(C,R)}return new ye(N,C)}r.B=function(C){return $e(this,C).h},r.and=function(C){const w=Math.max(this.g.length,C.g.length),x=[];for(let V=0;V<w;V++)x[V]=this.i(V)&C.i(V);return new d(x,this.h&C.h)},r.or=function(C){const w=Math.max(this.g.length,C.g.length),x=[];for(let V=0;V<w;V++)x[V]=this.i(V)|C.i(V);return new d(x,this.h|C.h)},r.xor=function(C){const w=Math.max(this.g.length,C.g.length),x=[];for(let V=0;V<w;V++)x[V]=this.i(V)^C.i(V);return new d(x,this.h^C.h)};function it(C){const w=C.g.length+1,x=[];for(let V=0;V<w;V++)x[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(x,C.h)}function Me(C,w){const x=w>>5;w%=32;const V=C.g.length-x,N=[];for(let U=0;U<V;U++)N[U]=w>0?C.i(U+x)>>>w|C.i(U+x+1)<<32-w:C.i(U+x);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,S1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,_r=d}).apply(typeof w0<"u"?w0:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var A1,Il,w1,Fc,um,R1,x1,I1;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var j=u[b];if(!(j in v))break e;v=v[j]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=g,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,j,B){for(var ie=Array(arguments.length-2),De=2;De<arguments.length;De++)ie[De-2]=arguments[De];return m.prototype[j].apply(b,ie)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function te(u,m){for(let b=1;b<arguments.length;b++){const j=arguments[b];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=u.length||0;const B=j.length||0;u.length=v+B;for(let ie=0;ie<B;ie++)u[v+ie]=j[ie]}else u.push(j)}}class re{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function pe(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class me{constructor(){this.h=this.g=null}add(m,v){const b=ye.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ye=new re(()=>new $e,u=>u.reset());class $e{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let it,Me=!1,C=new me,w=()=>{const u=Promise.resolve(void 0);it=()=>{u.then(x)}};function x(){for(var u;u=pe();){try{u.h.call(u.g)}catch(v){$(v)}var m=ye;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Me=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ot(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ot,N),ot.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ot.Z.h.call(this)},ot.prototype.h=function(){ot.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Rt="closure_listenable_"+(Math.random()*1e6|0),G=0;function ne(u,m,v,b,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=j,this.key=++G,this.da=this.fa=!1}function ce(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ze(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Ye(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,m){let v,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(v in b)u[v]=b[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function oe(u){this.src=u,this.g={},this.h=0}oe.prototype.add=function(u,m,v,b,j){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ie=Ie(u,m,b,j);return ie>-1?(m=u[ie],v||(m.fa=!1)):(m=new ne(m,this.src,B,!!b,j),m.fa=v,u.push(m)),m};function Te(u,m){const v=m.type;if(v in u.g){var b=u.g[v],j=Array.prototype.indexOf.call(b,m,void 0),B;(B=j>=0)&&Array.prototype.splice.call(b,j,1),B&&(ce(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ie(u,m,v,b){for(let j=0;j<u.length;++j){const B=u[j];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return j}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),vt={};function mt(u,m,v,b,j){if(Array.isArray(m)){for(let B=0;B<m.length;B++)mt(u,m[B],v,b,j);return null}return v=Xe(v),u&&u[Rt]?u.J(m,v,y(b)?!!b.capture:!1,j):xn(u,m,v,!1,b,j)}function xn(u,m,v,b,j,B){if(!m)throw Error("Invalid event type");const ie=y(j)?!!j.capture:!!j;let De=ae(u);if(De||(u[Ue]=De=new oe(u)),v=De.add(m,v,b,ie,B),v.proxy)return v;if(b=Wi(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(j=ie),j===void 0&&(j=!1),u.addEventListener(m.toString(),b,j);else if(u.attachEvent)u.attachEvent(ee(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Wi(){function u(v){return m.call(u.src,u.listener,v)}const m=W;return u}function Ti(u,m,v,b,j){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ti(u,m[B],v,b,j);else b=y(b)?!!b.capture:!!b,v=Xe(v),u&&u[Rt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Ie(m,v,b,j),v>-1&&(ce(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ae(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ie(m,v,b,j)),(v=u>-1?m[u]:null)&&es(v))}function es(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Rt])Te(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(ee(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=ae(m))?(Te(v,u),v.h==0&&(v.src=null,m[Ue]=null)):ce(u)}}}function ee(u){return u in vt?vt[u]:vt[u]="on"+u}function W(u,m){if(u.da)u=!0;else{m=new ot(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&es(u),u=v.call(b,m)}return u}function ae(u){return u=u[Ue],u instanceof oe?u:null}var be="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xe(u){return typeof u=="function"?u:(u[be]||(u[be]=function(m){return u.handleEvent(m)}),u[be])}function Ae(){V.call(this),this.i=new oe(this),this.M=this,this.G=null}A(Ae,V),Ae.prototype[Rt]=!0,Ae.prototype.removeEventListener=function(u,m,v,b){Ti(this,u,m,v,b)};function ke(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var j=m;m=new N(b,u),se(m,j)}j=!0;let B,ie;if(v)for(ie=v.length-1;ie>=0;ie--)B=m.g=v[ie],j=Re(B,b,!0,m)&&j;if(B=m.g=u,j=Re(B,b,!0,m)&&j,j=Re(B,b,!1,m)&&j,v)for(ie=0;ie<v.length;ie++)B=m.g=v[ie],j=Re(B,b,!1,m)&&j}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ce(v[b]);delete u.g[m],u.h--}}this.G=null},Ae.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},Ae.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Re(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let B=0;B<m.length;++B){const ie=m[B];if(ie&&!ie.da&&ie.capture==v){const De=ie.listener,Ot=ie.ha||ie.src;ie.fa&&Te(u.i,ie),j=De.call(Ot,b)!==!1&&j}}return j&&!b.defaultPrevented}function je(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function St(u){u.g=je(()=>{u.g=null,u.i&&(u.i=!1,St(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Se extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:St(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lt(u){V.call(this),this.h=u,this.g={}}A(lt,V);var Z=[];function he(u){ze(u.g,function(m,v){this.g.hasOwnProperty(v)&&es(m)},u),u.g={}}lt.prototype.N=function(){lt.Z.N.call(this),he(this)},lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Et=d.JSON.stringify,Nt=d.JSON.parse,xt=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function zn(){}function In(){}var Cn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function en(){N.call(this,"d")}A(en,N);function Bn(){N.call(this,"c")}A(Bn,N);var Dt={},lu=null;function da(){return lu=lu||new Ae}Dt.Ia="serverreachability";function uu(u){N.call(this,Dt.Ia,u)}A(uu,N);function bi(u){const m=da();ke(m,new uu(m))}Dt.STAT_EVENT="statevent";function Cr(u,m){N.call(this,Dt.STAT_EVENT,u),this.stat=m}A(Cr,N);function Ut(u){const m=da();ke(m,new Cr(m,u))}Dt.Ja="timingevent";function Si(u,m){N.call(this,Dt.Ja,u),this.size=m}A(Si,N);function Ai(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ai(){this.g=!0}ai.prototype.ua=function(){this.g=!1};function Lh(u,m,v,b,j,B){u.info(function(){if(u.g)if(B){var ie="",De=B.split("&");for(let et=0;et<De.length;et++){var Ot=De[et].split("=");if(Ot.length>1){const Tt=Ot[0];Ot=Ot[1];const Fn=Tt.split("_");ie=Fn.length>=2&&Fn[1]=="type"?ie+(Tt+"="+Ot+"&"):ie+(Tt+"=redacted&")}}}else ie=null;else ie=B;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+m+`
`+v+`
`+ie})}function cu(u,m,v,b,j,B,ie){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+m+`
`+v+`
`+B+" "+ie})}function wi(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ph(u,v)+(b?" "+b:"")})}function Nr(u,m){u.info(function(){return"TIMEOUT: "+m})}ai.prototype.info=function(){};function Ph(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var j=b[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ie=1;ie<b.length;ie++)b[ie]=""}}}}return Et(B)}catch{return m}}var Dr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Io;function Or(){}A(Or,zn),Or.prototype.g=function(){return new XMLHttpRequest},Io=new Or;function ts(u){return encodeURIComponent(String(u))}function hu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function oi(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new lt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var jt={},$t={};function Ri(u,m,v){u.M=1,u.A=Mr(Pt(m)),u.u=v,u.R=!0,ma(u,null)}function ma(u,m){u.F=Date.now(),xi(u),u.B=Pt(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),_a(v.i,"t",b),u.C=0,v=u.j.L,u.h=new li,u.g=Ru(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Se(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(Z[0]=j.toString()),j=Z);for(let B=0;B<j.length;B++){const ie=mt(v,j[B],b||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),bi(),Lh(u.i,u.v,u.B,u.l,u.S,u.u)}oi.prototype.ba=function(u){u=u.target;const m=this.O;m&&hi(u)==3?m.j():this.Y(u)},oi.prototype.Y=function(u){try{if(u==this.g)e:{const De=hi(this.g),Ot=this.g.ya(),et=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||De!=4||Ot==7||(Ot==8||et<=0?bi(3):bi(2)),Ii(this);var m=this.g.ca();this.X=m;var v=zh(this);if(this.o=m==200,cu(this.i,this.v,this.B,this.l,this.S,De,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,j=this.g;if((b=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var B=b;break t}}B=null}if(u=B)wi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,u);else{this.o=!1,this.m=3,Ut(12),Nn(this),qn(this);break e}}if(this.R){u=!0;let Tt;for(;!this.K&&this.C<v.length;)if(Tt=du(this,v),Tt==$t){De==4&&(this.m=4,Ut(14),u=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==jt){this.m=4,Ut(15),wi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else wi(this.i,this.l,Tt,null),Ci(this,Tt);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||v.length!=0||this.h.h||(this.m=1,Ut(16),u=!1),this.o=this.o&&u,!u)wi(this.i,this.l,v,"[Invalid Chunked Response]"),Nn(this),qn(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ho(ie),ie.P=!0,Ut(11))}}else wi(this.i,this.l,v,null),Ci(this,v);De==4&&Nn(this),this.o&&!this.K&&(De==4?bu(this.j,this):(this.o=!1,xi(this)))}else is(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),Nn(this),qn(this)}}}catch{}finally{}};function zh(u){if(!fu(u))return u.g.la();const m=tn(u.g);if(m==="")return"";let v="";const b=m.length,j=hi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Nn(u),qn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(j&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function fu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function du(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?$t:(v=Number(m.substring(v,b)),isNaN(v)?jt:(b+=1,b+v>m.length?$t:(m=m.slice(b,b+v),u.C=b+v,m)))}oi.prototype.cancel=function(){this.K=!0,Nn(this)};function xi(u){u.T=Date.now()+u.H,ga(u,u.H)}function ga(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ai(_(u.aa,u),m)}function Ii(u){u.D&&(d.clearTimeout(u.D),u.D=null)}oi.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Nr(this.i,this.B),this.M!=2&&(bi(),Ut(17)),Nn(this),this.m=2,qn(this)):ga(this,this.T-u)};function qn(u){u.j.I==0||u.K||bu(u.j,u)}function Nn(u){Ii(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,he(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Di(v.h,u))){if(!u.L&&Di(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Sa(v),Ls(v);else break e;zr(v),Ut(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ai(_(v.Va,v),6e3));Ni(v.h)<=1&&v.ta&&(v.ta=void 0)}else ji(v,11)}else if((u.L||v.g==u)&&Sa(v),!R(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let et=j[m];const Tt=et[0];if(!(Tt<=v.K))if(v.K=Tt,et=et[1],v.I==2)if(et[0]=="c"){v.M=et[1],v.ba=et[2];const Fn=et[3];Fn!=null&&(v.ka=Fn,v.j.info("VER="+v.ka));const Li=et[4];Li!=null&&(v.za=Li,v.j.info("SVER="+v.za));const fi=et[5];fi!=null&&typeof fi=="number"&&fi>0&&(b=1.5*fi,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const di=u.g;if(di){const Br=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var B=b.h;B.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Do(B,B.h),B.h=null))}if(b.G){const Aa=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(b.wa=Aa,st(b.J,b.G,Aa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var ie=u;if(b.na=wu(b,b.L?b.ba:null,b.W),ie.L){Oo(b.h,ie);var De=ie,Ot=b.O;Ot&&(De.H=Ot),De.D&&(Ii(De),xi(De)),b.g=ie}else Eu(b);v.i.length>0&&Ui(v)}else et[0]!="stop"&&et[0]!="close"||ji(v,7);else v.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?ji(v,7):Bo(v):et[0]!="noop"&&v.l&&v.l.qa(et),v.A=0)}}bi(4)}catch{}}var Lt=class{constructor(u,m){this.g=u,this.map=m}};function Co(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function No(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ni(u){return u.h?1:u.g?u.g.size:0}function Di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Do(u,m){u.g?u.g.add(m):u.h=m}function Oo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Co.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Mo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let j,B=null;b>=0?(j=u[v].substring(0,b),B=u[v].substring(b+1)):j=u[v],m(j,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Dn?(this.l=u.l,Jt(this,u.j),this.o=u.o,this.g=u.g,Ds(this,u.u),this.h=u.h,Vo(this,_u(u.i)),this.m=u.m):u&&(m=String(u).match(mu))?(this.l=!1,Jt(this,m[1]||"",!0),this.o=Oi(m[2]||""),this.g=Oi(m[3]||"",!0),Ds(this,m[4]),this.h=Oi(m[5]||"",!0),Vo(this,m[6]||"",!0),this.m=Oi(m[7]||"")):(this.l=!1,this.i=new Ms(null,this.l))}Dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Vr(m,ya,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Vr(m,ya,!0),"@"),u.push(ts(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Vr(v,v.charAt(0)=="/"?ko:gu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Vr(v,pu)),u.join("")},Dn.prototype.resolve=function(u){const m=Pt(this);let v=!!u.j;v?Jt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Ds(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var j=m.h.lastIndexOf("/");j!=-1&&(b=m.h.slice(0,j+1)+b)}if(j=b,j==".."||j==".")b="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){b=j.lastIndexOf("/",0)==0,j=j.split("/");const B=[];for(let ie=0;ie<j.length;){const De=j[ie++];De=="."?b&&ie==j.length&&B.push(""):De==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&ie==j.length&&B.push("")):(B.push(De),b=!0)}b=B.join("/")}else b=j}return v?m.h=b:v=u.i.toString()!=="",v?Vo(m,_u(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Pt(u){return new Dn(u)}function Jt(u,m,v){u.j=v?Oi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ds(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Vo(u,m,v){m instanceof Ms?(u.i=m,va(u.i,u.l)):(v||(m=Vr(m,Os)),u.i=new Ms(m,u.l))}function st(u,m,v){u.i.set(m,v)}function Mr(u){return st(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Oi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Vr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,_n),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function _n(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ya=/[#\/\?@]/g,gu=/[#\?:]/g,ko=/[#\?]/g,Os=/[#\?@]/g,pu=/#/g;function Ms(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&pa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Ms.prototype,r.add=function(u,m){vn(this),this.i=null,u=Vs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function yu(u,m){vn(u),m=Vs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Uo(u,m){return vn(u),m=Vs(u,m),u.g.has(m)}r.forEach=function(u,m){vn(this),this.g.forEach(function(v,b){v.forEach(function(j){u.call(m,j,b,this)},this)},this)};function jo(u,m){vn(u);let v=[];if(typeof m=="string")Uo(u,m)&&(v=v.concat(u.g.get(Vs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return vn(this),this.i=null,u=Vs(this,u),Uo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=jo(this,u),u.length>0?String(u[0]):m):m};function _a(u,m,v){yu(u,m),v.length>0&&(u.i=null,u.g.set(Vs(u,m),H(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const j=ts(v);v=jo(this,v);for(let B=0;B<v.length;B++){let ie=j;v[B]!==""&&(ie+="="+ts(v[B])),u.push(ie)}}return this.i=u.join("&")};function _u(u){const m=new Ms;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Vs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function va(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(v,b){const j=b.toLowerCase();b!=j&&(yu(this,b),_a(this,j,v))},u)),u.j=m}function ui(u,m){const v=new ai;if(d.Image){const b=new Image;b.onload=S(Hn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=S(Hn,v,"TestLoadImage: error",!1,m,b),b.onabort=S(Hn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=S(Hn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Lo(u,m){const v=new ai,b=new AbortController,j=setTimeout(()=>{b.abort(),Hn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(j),B.ok?Hn(v,"TestPingServer: ok",!0,m):Hn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Hn(v,"TestPingServer: error",!1,m)})}function Hn(u,m,v,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(v)}catch{}}function ks(){this.g=new xt}function Mi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Mi,zn),Mi.prototype.g=function(){return new kr(this.i,this.h)};function kr(u,m){Ae.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(kr,Ae),r=kr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ci(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Us(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Us(this):ci(this),this.readyState==3&&Ea(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Us(this))},r.Na=function(u){this.g&&(this.response=u,Us(this))},r.ga=function(){this.g&&Us(this)};function Us(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ci(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ci(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Gn(u){let m="";return ze(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Ur(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Gn(v),typeof u=="string"?v!=null&&ts(v):st(u,m,v))}function ut(u){Ae.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ut,Ae);var Vi=/^https?$/i,Po=["POST","PUT"];r=ut.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Io.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){jr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)v.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Po,m,void 0)>=0)||b||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ie]of v)this.g.setRequestHeader(B,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){jr(this,B)}};function jr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,zo(u),ns(u)}function zo(u){u.A||(u.A=!0,ke(u,"complete"),ke(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ke(this,"complete"),ke(this,"abort"),ns(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ns(this,!0)),ut.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Lr(this):this.Xa())},r.Xa=function(){Lr(this)};function Lr(u){if(u.h&&typeof c<"u"){if(u.v&&hi(u)==4)setTimeout(u.Ca.bind(u),0);else if(ke(u,"readystatechange"),hi(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let ie=String(u.D).match(mu)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),b=!Vi.test(ie?ie.toLowerCase():"")}v=b}if(v)ke(u,"complete"),ke(u,"success");else{u.o=6;try{var j=hi(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",zo(u)}}finally{ns(u)}}}}function ns(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ke(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function hi(u){return u.g?u.g.readyState:0}r.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Nt(m)}};function tn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function is(u){const m={};u=(u.g&&hi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=hu(u[b]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[j]||[];m[j]=B,B.push(v)}Ye(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function js(u){this.za=0,this.i=[],this.j=new ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,u),this.Za=ki("retryDelaySeedMs",1e4,u),this.Ta=ki("forwardChannelMaxRetries",2,u),this.va=ki("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Co(u&&u.concurrentRequestLimit),this.Ba=new ks,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=js.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){Ut(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=wu(this,null,this.W),Ui(this)};function Bo(u){if(Ta(u),u.I==3){var m=u.V++,v=Pt(u.J);if(st(v,"SID",u.M),st(v,"RID",m),st(v,"TYPE","terminate"),Pr(u,v),m=new oi(u,u.j,m),m.M=2,m.A=Mr(Pt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ru(m.j,null),m.g.ea(m.A)),m.F=Date.now(),xi(m)}Au(u)}function Ls(u){u.g&&(Ho(u),u.g.cancel(),u.g=null)}function Ta(u){Ls(u),u.v&&(d.clearTimeout(u.v),u.v=null),Sa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ui(u){if(!No(u.h)&&!u.m){u.m=!0;var m=u.Ea;it||w(),Me||(it(),Me=!0),C.add(m,u),u.D=0}}function ba(u,m){return Ni(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ai(_(u.Ea,u,m),Su(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new oi(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),se(B,this.U)):B=this.U),this.u!==null||this.R||(j.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=vu(this,j,m),v=Pt(this.J),st(v,"RID",u),st(v,"CVER",22),this.G&&st(v,"X-HTTP-Session-Id",this.G),Pr(this,v),B&&(this.R?m="headers="+ts(Gn(B))+"&"+m:this.u&&Ur(v,this.u,B)),Do(this.h,j),this.Ra&&st(v,"TYPE","init"),this.S?(st(v,"$req",m),st(v,"SID","null"),j.U=!0,Ri(j,v,null)):Ri(j,v,m),this.I=2}}else this.I==3&&(u?qo(this,u):this.i.length==0||No(this.h)||qo(this))};function qo(u,m){var v;m?v=m.l:v=u.V++;const b=Pt(u.J);st(b,"SID",u.M),st(b,"RID",v),st(b,"AID",u.K),Pr(u,b),u.u&&u.o&&Ur(b,u.u,u.o),v=new oi(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=vu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Do(u.h,v),Ri(v,b,m)}function Pr(u,m){u.H&&ze(u.H,function(v,b){st(m,b,v)}),u.l&&ze({},function(v,b){st(m,b,v)})}function vu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;e:{var j=u.i;let De=-1;for(;;){const Ot=["count="+v];De==-1?v>0?(De=j[0].g,Ot.push("ofs="+De)):De=0:Ot.push("ofs="+De);let et=!0;for(let Tt=0;Tt<v;Tt++){var B=j[Tt].g;const Fn=j[Tt].map;if(B-=De,B<0)De=Math.max(0,j[Tt].g-100),et=!1;else try{B="req"+B+"_"||"";try{var ie=Fn instanceof Map?Fn:Object.entries(Fn);for(const[Li,fi]of ie){let di=fi;y(fi)&&(di=Et(fi)),Ot.push(B+Li+"="+encodeURIComponent(di))}}catch(Li){throw Ot.push(B+"type="+encodeURIComponent("_badmap")),Li}}catch{b&&b(Fn)}}if(et){ie=Ot.join("&");break e}}ie=void 0}return u=u.i.splice(0,v),m.G=u,ie}function Eu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;it||w(),Me||(it(),Me=!0),C.add(m,u),u.A=0}}function zr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ai(_(u.Da,u),Su(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ai(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),Ls(this),Tu(this))};function Ho(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Tu(u){u.g=new oi(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Pt(u.na);st(m,"RID","rpc"),st(m,"SID",u.M),st(m,"AID",u.K),st(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&st(m,"TO",u.ia),st(m,"TYPE","xmlhttp"),Pr(u,m),u.u&&u.o&&Ur(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Mr(Pt(m)),v.u=null,v.R=!0,ma(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Ls(this),zr(this),Ut(19))};function Sa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function bu(u,m){var v=null;if(u.g==m){Sa(u),Ho(u),u.g=null;var b=2}else if(Di(u.h,m))v=m.G,Oo(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;b=da(),ke(b,new Si(b,v)),Ui(u)}else Eu(u);else if(j=m.m,j==3||j==0&&m.X>0||!(b==1&&ba(u,m)||b==2&&zr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),j){case 1:ji(u,5);break;case 4:ji(u,10);break;case 3:ji(u,6);break;default:ji(u,2)}}}function Su(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function ji(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const j=!b;b=new Dn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Jt(b,"https"),Mr(b),j?ui(b.toString(),v):Lo(b.toString(),v)}else Ut(2);u.I=0,u.l&&u.l.pa(m),Au(u),Ta(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Au(u){if(u.I=0,u.ja=[],u.l){const m=Mo(u.h);(m.length!=0||u.i.length!=0)&&(te(u.ja,m),te(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function wu(u,m,v){var b=v instanceof Dn?Pt(v):new Dn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Ds(b,b.u);else{var j=d.location;b=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const B=new Dn(null);b&&Jt(B,b),m&&(B.g=m),j&&Ds(B,j),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&st(b,v,m),st(b,"VER",u.ka),Pr(u,b),b}function Ru(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ut(new Mi({ab:v})):new ut(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}r=xu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ps(){}Ps.prototype.g=function(u,m){return new gn(u,m)};function gn(u,m){Ae.call(this),this.g=new js(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ss(this)}A(gn,Ae),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Bo(this.g)},gn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Et(u),u=v);m.i.push(new Lt(m.Ya++,u)),m.I==3&&Ui(m)},gn.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,gn.Z.N.call(this)};function Iu(u){en.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Iu,en);function Cu(){Bn.call(this),this.status=1}A(Cu,Bn);function ss(u){this.g=u}A(ss,xu),ss.prototype.ra=function(){ke(this.g,"a")},ss.prototype.qa=function(u){ke(this.g,new Iu(u))},ss.prototype.pa=function(u){ke(this.g,new Cu)},ss.prototype.oa=function(){ke(this.g,"b")},Ps.prototype.createWebChannel=Ps.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,I1=function(){return new Ps},x1=function(){return da()},R1=Dt,um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Dr.NO_ERROR=0,Dr.TIMEOUT=8,Dr.HTTP_ERROR=6,Fc=Dr,xo.COMPLETE="complete",w1=xo,In.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,Il=In,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,A1=ut}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const R0="@firebase/firestore",x0="4.9.2";let fn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let So="12.3.0";const la=new Cm("@firebase/firestore");function eo(){return la.logLevel}function le(r,...e){if(la.logLevel<=He.DEBUG){const i=e.map(zm);la.debug(`Firestore (${So}): ${r}`,...i)}}function Is(r,...e){if(la.logLevel<=He.ERROR){const i=e.map(zm);la.error(`Firestore (${So}): ${r}`,...i)}}function fo(r,...e){if(la.logLevel<=He.WARN){const i=e.map(zm);la.warn(`Firestore (${So}): ${r}`,...i)}}function zm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Ee(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,C1(r,a,i)}function C1(r,e,i){let a=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Is(a),new Error(a)}function nt(r,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||C1(e,l,a)}function Ne(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Ns{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class N1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(fn.UNAUTHENTICATED)))}shutdown(){}}class D2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class O2{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){nt(this.o===void 0,42304);let a=this.i;const l=g=>this.i!==a?(a=this.i,i(g)):Promise.resolve();let c=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new vr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},y=g=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>y(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?y(g):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new vr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(nt(typeof a.accessToken=="string",31837,{l:a}),new N1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class M2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new M2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class I0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class k2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){nt(this.o===void 0,3512);const a=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new I0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(nt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new I0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function U2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Bm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=U2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Ge(r,e){return r<e?-1:r>e?1:0}function cm(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=e.charAt(a);if(l!==c)return Yd(l)===Yd(c)?Ge(l,c):Yd(l)?1:-1}return Ge(r.length,e.length)}const j2=55296,L2=57343;function Yd(r){const e=r.charCodeAt(0);return e>=j2&&e<=L2}function mo(r,e,i){return r.length===e.length&&r.every(((a,l)=>i(a,e[l])))}const C0="__name__";class Gi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ee(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ee(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Gi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Gi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Gi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Ge(e.length,i.length)}static compareSegments(e,i){const a=Gi.isNumericId(e),l=Gi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Gi.extractNumericId(e).compare(Gi.extractNumericId(i)):cm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _r.fromString(e.substring(4,e.length-2))}}class At extends Gi{construct(e,i,a){return new At(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new At(i)}static emptyPath(){return new At([])}}const P2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Gi{construct(e,i,a){return new ln(e,i,a)}static isValidIdentifier(e){return P2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===C0}static keyField(){return new ln([C0])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const y=e[l];if(y==="\\"){if(l+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(c(),l++)}if(c(),d)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(i)}static emptyPath(){return new ln([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(At.fromString(e))}static fromName(e){return new _e(At.fromString(e).popFirst(5))}static empty(){return new _e(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return At.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new At(e.slice()))}}function z2(r,e,i){if(!i)throw new de(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function B2(r,e,i,a){if(e===!0&&a===!0)throw new de(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function N0(r){if(!_e.isDocumentKey(r))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function D1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function qm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function vi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=qm(r);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Ft(r,e){const i={typeString:r};return e&&(i.value=e),i}function nu(r,e){if(!D1(r))throw new de(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new de(J.INVALID_ARGUMENT,i);return!0}const D0=-62135596800,O0=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*O0);return new _t(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<D0)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O0}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nu(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-D0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Ft("string",_t._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new _t(0,0))}static max(){return new xe(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Hl=-1;function q2(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=xe.fromTimestamp(a===1e9?new _t(i+1,0):new _t(i,a));return new Tr(l,_e.empty(),e)}function H2(r){return new Tr(r.readTime,r.key,Hl)}class Tr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Tr(xe.min(),_e.empty(),Hl)}static max(){return new Tr(xe.max(),_e.empty(),Hl)}}function G2(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=_e.comparator(r.documentKey,e.documentKey),i!==0?i:Ge(r.largestBatchId,e.largestBatchId))}const F2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ao(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==F2)throw r;le("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let l=0,c=0,d=!1;e.forEach((y=>{++l,y.next((()=>{++c,d&&c===l&&i()}),(g=>a(g)))})),d=!0,c===l&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,l)=>{const c=e.length,d=new Array(c);let y=0;for(let g=0;g<c;g++){const _=g;i(e[_]).next((S=>{d[_]=S,++y,y===c&&a(d)}),(S=>l(S)))}}))}static doWhile(e,i){return new X(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function K2(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function wo(r){return r.name==="IndexedDbTransactionError"}class Eh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Eh.ce=-1;const Hm=-1;function Th(r){return r==null}function rh(r){return r===0&&1/r==-1/0}function Y2(r){return typeof r=="number"&&Number.isInteger(r)&&!rh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const O1="";function X2(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=M0(e)),e=$2(r.get(i),e);return M0(e)}function $2(r,e){let i=e;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case O1:i+="";break;default:i+=c}}return i}function M0(r){return r+O1+""}function V0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function xr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function M1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class wt{constructor(e,i){this.comparator=e,this.root=i||on.EMPTY}insert(e,i){return new wt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kc(this.root,e,this.comparator,!0)}}class kc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??on.RED,this.left=l??on.EMPTY,this.right=c??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new on(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return on.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new on(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new k0(this.data.getIterator())}getIteratorFrom(e){return new k0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Xt(this.comparator);return i.data=e,i}}class k0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Pn([])}unionWith(e){let i=new Xt(ln.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Pn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class V1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new V1("Invalid base64 string: "+c):c}})(e);return new un(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new un(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const J2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(r){if(nt(!!r,39018),typeof r=="string"){let e=0;const i=J2.exec(r);if(nt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:kt(r.seconds),nanos:kt(r.nanos)}}function kt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Sr(r){return typeof r=="string"?un.fromBase64String(r):un.fromUint8Array(r)}const k1="server_timestamp",U1="__type__",j1="__previous_value__",L1="__local_write_time__";function Gm(r){return(r?.mapValue?.fields||{})[U1]?.stringValue===k1}function bh(r){const e=r.mapValue.fields[j1];return Gm(e)?bh(e):e}function Gl(r){const e=br(r.mapValue.fields[L1].timestampValue);return new _t(e.seconds,e.nanos)}class Z2{constructor(e,i,a,l,c,d,y,g,_,S){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=S}}const ah="(default)";class Fl{constructor(e,i){this.projectId=e,this.database=i||ah}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===ah}isEqual(e){return e instanceof Fl&&e.projectId===this.projectId&&e.database===this.database}}const P1="__type__",W2="__max__",Uc={mapValue:{}},z1="__vector__",oh="value";function Ar(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Gm(r)?4:tR(r)?9007199254740991:eR(r)?10:11:Ee(28295,{value:r})}function Ji(r,e){if(r===e)return!0;const i=Ar(r);if(i!==Ar(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Gl(r).isEqual(Gl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=br(l.timestampValue),y=br(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return Sr(l.bytesValue).isEqual(Sr(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return kt(l.geoPointValue.latitude)===kt(c.geoPointValue.latitude)&&kt(l.geoPointValue.longitude)===kt(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return kt(l.integerValue)===kt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=kt(l.doubleValue),y=kt(c.doubleValue);return d===y?rh(d)===rh(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return mo(r.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},y=c.mapValue.fields||{};if(V0(d)!==V0(y))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(y[g]===void 0||!Ji(d[g],y[g])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function Ql(r,e){return(r.values||[]).find((i=>Ji(i,e)))!==void 0}function go(r,e){if(r===e)return 0;const i=Ar(r),a=Ar(e);if(i!==a)return Ge(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ge(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=kt(c.integerValue||c.doubleValue),g=kt(d.integerValue||d.doubleValue);return y<g?-1:y>g?1:y===g?0:isNaN(y)?isNaN(g)?0:-1:1})(r,e);case 3:return U0(r.timestampValue,e.timestampValue);case 4:return U0(Gl(r),Gl(e));case 5:return cm(r.stringValue,e.stringValue);case 6:return(function(c,d){const y=Sr(c),g=Sr(d);return y.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),g=d.split("/");for(let _=0;_<y.length&&_<g.length;_++){const S=Ge(y[_],g[_]);if(S!==0)return S}return Ge(y.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=Ge(kt(c.latitude),kt(d.latitude));return y!==0?y:Ge(kt(c.longitude),kt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return j0(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},g=d.fields||{},_=y[oh]?.arrayValue,S=g[oh]?.arrayValue,A=Ge(_?.values?.length||0,S?.values?.length||0);return A!==0?A:j0(_,S)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Uc.mapValue&&d===Uc.mapValue)return 0;if(c===Uc.mapValue)return 1;if(d===Uc.mapValue)return-1;const y=c.fields||{},g=Object.keys(y),_=d.fields||{},S=Object.keys(_);g.sort(),S.sort();for(let A=0;A<g.length&&A<S.length;++A){const M=cm(g[A],S[A]);if(M!==0)return M;const H=go(y[g[A]],_[S[A]]);if(H!==0)return H}return Ge(g.length,S.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:i})}}function U0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ge(r,e);const i=br(r),a=br(e),l=Ge(i.seconds,a.seconds);return l!==0?l:Ge(i.nanos,a.nanos)}function j0(r,e){const i=r.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=go(i[l],a[l]);if(c)return c}return Ge(i.length,a.length)}function po(r){return hm(r)}function hm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=br(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Sr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return _e.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=hm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${hm(i.fields[d])}`;return l+"}"})(r.mapValue):Ee(61005,{value:r})}function Qc(r){switch(Ar(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(r);return e?16+Qc(e):16;case 5:return 2*r.stringValue.length;case 6:return Sr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Qc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return xr(a.fields,((c,d)=>{l+=c.length+Qc(d)})),l})(r.mapValue);default:throw Ee(13486,{value:r})}}function fm(r){return!!r&&"integerValue"in r}function Fm(r){return!!r&&"arrayValue"in r}function L0(r){return!!r&&"nullValue"in r}function P0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Kc(r){return!!r&&"mapValue"in r}function eR(r){return(r?.mapValue?.fields||{})[P1]?.stringValue===z1}function kl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return xr(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=kl(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=kl(r.arrayValue.values[i]);return e}return{...r}}function tR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===W2}class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Kc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(i)}setAll(e){let i=ln.emptyPath(),a={},l=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const g=this.getFieldsMap(i);this.applyChanges(g,a,l),a={},l=[],i=y.popLast()}d?a[y.lastSegment()]=kl(d):l.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Kc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){xr(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new Rn(kl(this.value))}}function B1(r){const e=[];return xr(r.fields,((i,a)=>{const l=new ln([i]);if(Kc(a)){const c=B1(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Pn(e)}class dn{constructor(e,i,a,l,c,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new dn(e,0,xe.min(),xe.min(),xe.min(),Rn.empty(),0)}static newFoundDocument(e,i,a,l){return new dn(e,1,i,xe.min(),a,l,0)}static newNoDocument(e,i){return new dn(e,2,i,xe.min(),xe.min(),Rn.empty(),0)}static newUnknownDocument(e,i){return new dn(e,3,i,xe.min(),xe.min(),Rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lh{constructor(e,i){this.position=e,this.inclusive=i}}function z0(r,e,i){let a=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?a=_e.comparator(_e.fromName(d.referenceValue),i.key):a=go(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function B0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ji(r.position[i],e.position[i]))return!1;return!0}class uh{constructor(e,i="asc"){this.field=e,this.dir=i}}function nR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class q1{}class Yt extends q1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new sR(e,i,a):i==="array-contains"?new oR(e,a):i==="in"?new lR(e,a):i==="not-in"?new uR(e,a):i==="array-contains-any"?new cR(e,a):new Yt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new rR(e,a):new aR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(go(i,this.value)):i!==null&&Ar(this.value)===Ar(i)&&this.matchesComparison(go(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zi extends q1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Zi(e,i)}matches(e){return H1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function H1(r){return r.op==="and"}function G1(r){return iR(r)&&H1(r)}function iR(r){for(const e of r.filters)if(e instanceof Zi)return!1;return!0}function dm(r){if(r instanceof Yt)return r.field.canonicalString()+r.op.toString()+po(r.value);if(G1(r))return r.filters.map((e=>dm(e))).join(",");{const e=r.filters.map((i=>dm(i))).join(",");return`${r.op}(${e})`}}function F1(r,e){return r instanceof Yt?(function(a,l){return l instanceof Yt&&a.op===l.op&&a.field.isEqual(l.field)&&Ji(a.value,l.value)})(r,e):r instanceof Zi?(function(a,l){return l instanceof Zi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,y)=>c&&F1(d,l.filters[y])),!0):!1})(r,e):void Ee(19439)}function Q1(r){return r instanceof Yt?(function(i){return`${i.field.canonicalString()} ${i.op} ${po(i.value)}`})(r):r instanceof Zi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Q1).join(" ,")+"}"})(r):"Filter"}class sR extends Yt{constructor(e,i,a){super(e,i,a),this.key=_e.fromName(a.referenceValue)}matches(e){const i=_e.comparator(e.key,this.key);return this.matchesComparison(i)}}class rR extends Yt{constructor(e,i){super(e,"in",i),this.keys=K1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class aR extends Yt{constructor(e,i){super(e,"not-in",i),this.keys=K1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function K1(r,e){return(e.arrayValue?.values||[]).map((i=>_e.fromName(i.referenceValue)))}class oR extends Yt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Fm(i)&&Ql(i.arrayValue,this.value)}}class lR extends Yt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ql(this.value.arrayValue,i)}}class uR extends Yt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ql(this.value.arrayValue,i)}}class cR extends Yt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Fm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ql(this.value.arrayValue,a)))}}class hR{constructor(e,i=null,a=[],l=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function q0(r,e=null,i=[],a=[],l=null,c=null,d=null){return new hR(r,e,i,a,l,c,d)}function Qm(r){const e=Ne(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>dm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Th(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>po(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>po(a))).join(",")),e.Te=i}return e.Te}function Km(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!nR(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!F1(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!B0(r.startAt,e.startAt)&&B0(r.endAt,e.endAt)}function mm(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Sh{constructor(e,i=null,a=[],l=[],c=null,d="F",y=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fR(r,e,i,a,l,c,d,y){return new Sh(r,e,i,a,l,c,d,y)}function Ah(r){return new Sh(r)}function H0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function dR(r){return r.collectionGroup!==null}function Ul(r){const e=Ne(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Xt(ln.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new uh(c,a))})),i.has(ln.keyField().canonicalString())||e.Ie.push(new uh(ln.keyField(),a))}return e.Ie}function Ki(r){const e=Ne(r);return e.Ee||(e.Ee=mR(e,Ul(r))),e.Ee}function mR(r,e){if(r.limitType==="F")return q0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new uh(l.field,c)}));const i=r.endAt?new lh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new lh(r.startAt.position,r.startAt.inclusive):null;return q0(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function gm(r,e,i){return new Sh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function wh(r,e){return Km(Ki(r),Ki(e))&&r.limitType===e.limitType}function Y1(r){return`${Qm(Ki(r))}|lt:${r.limitType}`}function to(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>Q1(l))).join(", ")}]`),Th(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>po(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>po(l))).join(",")),`Target(${a})`})(Ki(r))}; limitType=${r.limitType})`}function Rh(r,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):_e.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,l){for(const c of Ul(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(a,l){return!(a.startAt&&!(function(d,y,g){const _=z0(d,y,g);return d.inclusive?_<=0:_<0})(a.startAt,Ul(a),l)||a.endAt&&!(function(d,y,g){const _=z0(d,y,g);return d.inclusive?_>=0:_>0})(a.endAt,Ul(a),l))})(r,e)}function gR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function X1(r){return(e,i)=>{let a=!1;for(const l of Ul(r)){const c=pR(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function pR(r,e,i){const a=r.field.isKeyField()?_e.comparator(e.key,i.key):(function(c,d,y){const g=d.data.field(c),_=y.data.field(c);return g!==null&&_!==null?go(g,_):Ee(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ee(19790,{direction:r.dir})}}class ha{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){xr(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return M1(this.inner)}size(){return this.innerSize}}const yR=new wt(_e.comparator);function Cs(){return yR}const $1=new wt(_e.comparator);function Cl(...r){let e=$1;for(const i of r)e=e.insert(i.key,i);return e}function J1(r){let e=$1;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function sa(){return jl()}function Z1(){return jl()}function jl(){return new ha((r=>r.toString()),((r,e)=>r.isEqual(e)))}const _R=new wt(_e.comparator),vR=new Xt(_e.comparator);function Fe(...r){let e=vR;for(const i of r)e=e.add(i);return e}const ER=new Xt(Ge);function TR(){return ER}function Ym(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function W1(r){return{integerValue:""+r}}function bR(r,e){return Y2(e)?W1(e):Ym(r,e)}class xh{constructor(){this._=void 0}}function SR(r,e,i){return r instanceof ch?(function(l,c){const d={fields:{[U1]:{stringValue:k1},[L1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Gm(c)&&(c=bh(c)),c&&(d.fields[j1]=c),{mapValue:d}})(i,e):r instanceof yo?tE(r,e):r instanceof Kl?nE(r,e):(function(l,c){const d=eE(l,c),y=G0(d)+G0(l.Ae);return fm(d)&&fm(l.Ae)?W1(y):Ym(l.serializer,y)})(r,e)}function AR(r,e,i){return r instanceof yo?tE(r,e):r instanceof Kl?nE(r,e):i}function eE(r,e){return r instanceof hh?(function(a){return fm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class ch extends xh{}class yo extends xh{constructor(e){super(),this.elements=e}}function tE(r,e){const i=iE(e);for(const a of r.elements)i.some((l=>Ji(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Kl extends xh{constructor(e){super(),this.elements=e}}function nE(r,e){let i=iE(e);for(const a of r.elements)i=i.filter((l=>!Ji(l,a)));return{arrayValue:{values:i}}}class hh extends xh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function G0(r){return kt(r.integerValue||r.doubleValue)}function iE(r){return Fm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class wR{constructor(e,i){this.field=e,this.transform=i}}function RR(r,e){return r.field.isEqual(e.field)&&(function(a,l){return a instanceof yo&&l instanceof yo||a instanceof Kl&&l instanceof Kl?mo(a.elements,l.elements,Ji):a instanceof hh&&l instanceof hh?Ji(a.Ae,l.Ae):a instanceof ch&&l instanceof ch})(r.transform,e.transform)}class xR{constructor(e,i){this.version=e,this.transformResults=i}}class Ei{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ei}static exists(e){return new Ei(void 0,e)}static updateTime(e){return new Ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ih{}function sE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Xm(r.key,Ei.none()):new iu(r.key,r.data,Ei.none());{const i=r.data,a=Rn.empty();let l=new Xt(ln.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Ir(r.key,a,new Pn(l.toArray()),Ei.none())}}function IR(r,e,i){r instanceof iu?(function(l,c,d){const y=l.value.clone(),g=Q0(l.fieldTransforms,c,d.transformResults);y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof Ir?(function(l,c,d){if(!Yc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const y=Q0(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(rE(l)),g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ll(r,e,i,a){return r instanceof iu?(function(c,d,y,g){if(!Yc(c.precondition,d))return y;const _=c.value.clone(),S=K0(c.fieldTransforms,g,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof Ir?(function(c,d,y,g){if(!Yc(c.precondition,d))return y;const _=K0(c.fieldTransforms,g,d),S=d.data;return S.setAll(rE(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,e,i,a):(function(c,d,y){return Yc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function CR(r,e){let i=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),c=eE(a.transform,l||null);c!=null&&(i===null&&(i=Rn.empty()),i.set(a.field,c))}return i||null}function F0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&mo(a,l,((c,d)=>RR(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class iu extends Ih{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ir extends Ih{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function rE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function Q0(r,e,i){const a=new Map;nt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,y=e.data.field(c.field);a.set(c.field,AR(d,y,i[l]))}return a}function K0(r,e,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,SR(c,d,e))}return a}class Xm extends Ih{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NR extends Ih{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class DR{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&IR(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Ll(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Ll(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Z1();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(l.key)?null:y;const g=sE(d,y);g!==null&&a.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(xe.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,((i,a)=>F0(i,a)))&&mo(this.baseMutations,e.baseMutations,((i,a)=>F0(i,a)))}}class $m{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){nt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return _R})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new $m(e,i,a,l)}}class OR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class MR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Gt,Ke;function VR(r){switch(r){case J.OK:return Ee(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function aE(r){if(r===void 0)return Is("GRPC error has no .code"),J.UNKNOWN;switch(r){case Gt.OK:return J.OK;case Gt.CANCELLED:return J.CANCELLED;case Gt.UNKNOWN:return J.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return J.INTERNAL;case Gt.UNAVAILABLE:return J.UNAVAILABLE;case Gt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Gt.NOT_FOUND:return J.NOT_FOUND;case Gt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Gt.ABORTED:return J.ABORTED;case Gt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Gt.DATA_LOSS:return J.DATA_LOSS;default:return Ee(39323,{code:r})}}(Ke=Gt||(Gt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function kR(){return new TextEncoder}const UR=new _r([4294967295,4294967295],0);function Y0(r){const e=kR().encode(r),i=new S1;return i.update(e),new Uint8Array(i.digest())}function X0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new _r([i,a],0),new _r([l,c],0)]}class Jm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Nl(`Invalid padding: ${i}`);if(a<0)throw new Nl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=_r.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(_r.fromNumber(a)));return l.compare(UR)===1&&(l=new _r([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Y0(e),[a,l]=X0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Jm(c,l,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=Y0(e),[a,l]=X0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ch{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Ch(xe.min(),l,new wt(Ge),Cs(),Fe())}}class su{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new su(a,i,Fe(),Fe(),Fe())}}class Xc{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class oE{constructor(e,i){this.targetId=e,this.Ce=i}}class lE{constructor(e,i,a=un.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class $0{constructor(){this.ve=0,this.Fe=J0(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),i=Fe(),a=Fe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Ee(38017,{changeType:c})}})),new su(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=J0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Cs(),this.Je=jc(),this.He=jc(),this.Ye=new wt(Ge)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(mm(c))if(a===0){const d=new _e(c.path);this.et(i,d,dn.newNoDocument(d,xe.min()))}else nt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),g=y?this.ct(y,e,d):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,y;try{d=Sr(a).toUint8Array()}catch(g){if(g instanceof V1)return fo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{y=new Jm(d,l,c)}catch(g){return fo(g instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&mm(y.target)){const g=new _e(y.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,dn.newNoDocument(g,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Fe();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Ch(e,i,this.Ye,this.je,a);return this.je=Cs(),this.Je=jc(),this.He=jc(),this.Ye=new wt(Ge),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new $0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Xt(Ge),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Xt(Ge),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function jc(){return new wt(_e.comparator)}function J0(){return new wt(_e.comparator)}const LR={asc:"ASCENDING",desc:"DESCENDING"},PR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zR={and:"AND",or:"OR"};class BR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function pm(r,e){return r.useProto3Json||Th(e)?e:{value:e}}function fh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function qR(r,e){return fh(r,e.toTimestamp())}function Yi(r){return nt(!!r,49232),xe.fromTimestamp((function(i){const a=br(i);return new _t(a.seconds,a.nanos)})(r))}function Zm(r,e){return ym(r,e).canonicalString()}function ym(r,e){const i=(function(l){return new At(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function cE(r){const e=At.fromString(r);return nt(gE(e),10190,{key:e.toString()}),e}function _m(r,e){return Zm(r.databaseId,e.path)}function Xd(r,e){const i=cE(e);if(i.get(1)!==r.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new _e(fE(i))}function hE(r,e){return Zm(r.databaseId,e)}function HR(r){const e=cE(r);return e.length===4?At.emptyPath():fE(e)}function vm(r){return new At(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function fE(r){return nt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Z0(r,e,i){return{name:_m(r,e),fields:i.value.mapValue.fields}}function GR(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ee(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(nt(S===void 0||typeof S=="string",58123),un.fromBase64String(S||"")):(nt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),un.fromUint8Array(S||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const S=_.code===void 0?J.UNKNOWN:aE(_.code);return new de(S,_.message||"")})(d);i=new lE(a,l,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Xd(r,a.document.name),c=Yi(a.document.updateTime),d=a.document.createTime?Yi(a.document.createTime):xe.min(),y=new Rn({mapValue:{fields:a.document.fields}}),g=dn.newFoundDocument(l,c,d,y),_=a.targetIds||[],S=a.removedTargetIds||[];i=new Xc(_,S,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Xd(r,a.document),c=a.readTime?Yi(a.readTime):xe.min(),d=dn.newNoDocument(l,c),y=a.removedTargetIds||[];i=new Xc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Xd(r,a.document),c=a.removedTargetIds||[];i=new Xc([],c,l,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new MR(l,c),y=a.targetId;i=new oE(y,d)}}return i}function FR(r,e){let i;if(e instanceof iu)i={update:Z0(r,e.key,e.value)};else if(e instanceof Xm)i={delete:_m(r,e.key)};else if(e instanceof Ir)i={update:Z0(r,e.key,e.data),updateMask:ex(e.fieldMask)};else{if(!(e instanceof NR))return Ee(16599,{Vt:e.type});i={verify:_m(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof ch)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof yo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof hh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Ee(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:qR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(r,e.precondition)),i}function QR(r,e){return r&&r.length>0?(nt(e!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Yi(l.updateTime):Yi(c);return d.isEqual(xe.min())&&(d=Yi(c)),new xR(d,l.transformResults||[])})(i,e)))):[]}function KR(r,e){return{documents:[hE(r,e.path)]}}function YR(r,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=hE(r,l);const c=(function(_){if(_.length!==0)return mE(Zi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(M){return{field:no(M.field),direction:JR(M.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=pm(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function XR(r){let e=HR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){nt(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(A){const M=dE(A);return M instanceof Zi&&G1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(te){return new uh(io(te.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(te.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(A){let M;return M=typeof A=="object"?A.value:A,Th(M)?null:M})(i.limit));let g=null;i.startAt&&(g=(function(A){const M=!!A.before,H=A.values||[];return new lh(H,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const M=!A.before,H=A.values||[];return new lh(H,M)})(i.endAt)),fR(e,l,d,c,y,"F",g,_)}function $R(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function dE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=io(i.unaryFilter.field);return Yt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=io(i.unaryFilter.field);return Yt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=io(i.unaryFilter.field);return Yt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=io(i.unaryFilter.field);return Yt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Yt.create(io(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Zi.create(i.compositeFilter.filters.map((a=>dE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(i.compositeFilter.op))})(r):Ee(30097,{filter:r})}function JR(r){return LR[r]}function ZR(r){return PR[r]}function WR(r){return zR[r]}function no(r){return{fieldPath:r.canonicalString()}}function io(r){return ln.fromServerFormat(r.fieldPath)}function mE(r){return r instanceof Yt?(function(i){if(i.op==="=="){if(P0(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NAN"}};if(L0(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(P0(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NAN"}};if(L0(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(i.field),op:ZR(i.op),value:i.value}}})(r):r instanceof Zi?(function(i){const a=i.getFilters().map((l=>mE(l)));return a.length===1?a[0]:{compositeFilter:{op:WR(i.op),filters:a}}})(r):Ee(54877,{filter:r})}function ex(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function gE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class mr{constructor(e,i,a,l,c=xe.min(),d=xe.min(),y=un.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=g}withSequenceNumber(e){return new mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tx{constructor(e){this.yt=e}}function nx(r){const e=XR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?gm(e,e.limit,"L"):e}class ix{constructor(){this.Cn=new sx}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Tr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Tr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class sx{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Xt(At.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Xt(At.comparator)).toArray()}}const W0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pE=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(pE,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class _o{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _o(0)}static cr(){return new _o(-1)}}const ev="LruGarbageCollector",rx=1048576;function tv([r,e],[i,a]){const l=Ge(r,i);return l===0?Ge(e,a):l}class ax{constructor(e){this.Ir=e,this.buffer=new Xt(tv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();tv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ox{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(ev,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){wo(i)?le(ev,"Ignoring IndexedDB error during garbage collection: ",i):await Ao(i)}await this.Vr(3e5)}))}}class lx{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(Eh.ce);const a=new ax(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(W0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,d,y,g,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(a=A,y=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(_=Date.now(),eo()<=He.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${c} targets in `+(g-y)+`ms
	Removed ${A} documents in `+(_-g)+`ms
Total Duration: ${_-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function ux(r,e){return new lx(r,e)}class cx{constructor(){this.changes=new ha((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class fx{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Ll(a.mutation,l,Pn.empty(),_t.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Fe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Fe()){const l=sa();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Cl();return c.forEach(((y,g)=>{d=d.insert(y,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=sa();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Fe())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,l){let c=Cs();const d=jl(),y=(function(){return jl()})();return i.forEach(((g,_)=>{const S=a.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof Ir)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Ll(S.mutation,_,S.mutation.getFieldMask(),_t.now())):d.set(_.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>y.set(_,new hx(S,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=jl();let l=new wt(((d,y)=>d-y)),c=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let S=a.get(g)||Pn.empty();S=y.applyToLocalView(_,S),a.set(g,S);const A=(l.get(y.batchId)||Fe()).add(g);l=l.insert(y.batchId,A)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const g=y.getNext(),_=g.key,S=g.value,A=Z1();S.forEach((M=>{if(!c.has(M)){const H=sE(i.get(M),a.get(M));H!==null&&A.set(M,H),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):dR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):X.resolve(sa());let y=Hl,g=c;return d.next((_=>X.forEach(_,((S,A)=>(y<A.largestBatchId&&(y=A.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(e,S).next((M=>{g=g.insert(S,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,g,_,Fe()))).next((S=>({batchId:y,changes:J1(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _e(i)).next((a=>{let l=Cl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Cl();return this.indexManager.getCollectionParents(e,c).next((y=>X.forEach(y,(g=>{const _=(function(A,M){return new Sh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next((S=>{S.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((g,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,dn.newInvalidDocument(S)))}));let y=Cl();return d.forEach(((g,_)=>{const S=c.get(g);S!==void 0&&Ll(S.mutation,_,Pn.empty(),_t.now()),Rh(i,_)&&(y=y.insert(g,_))})),y}))}}class dx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Yi(l.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:nx(l.bundledQuery),readTime:Yi(l.readTime)}})(i)),X.resolve()}}class mx{constructor(){this.overlays=new wt(_e.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=sa();return X.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const l=sa(),c=i.length+1,d=new _e(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const g=y.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>a&&l.set(g.getKey(),g)}return X.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new wt(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=c.get(_.largestBatchId);S===null&&(S=sa(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const y=sa(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,S)=>y.set(_,S))),!(y.size()>=l)););return X.resolve(y)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new OR(i,a));let c=this.qr.get(i);c===void 0&&(c=Fe(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class gx{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class Wm{constructor(){this.Qr=new Xt(Wt.$r),this.Ur=new Xt(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Wt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Wt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new _e(new At([])),a=new Wt(i,e),l=new Wt(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new _e(new At([])),a=new Wt(i,e),l=new Wt(i,e+1);let c=Fe();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Wt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Wt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return _e.comparator(e.key,i.key)||Ge(e.Yr,i.Yr)}static Kr(e,i){return Ge(e.Yr,i.Yr)||_e.comparator(e.key,i.key)}}class px{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Xt(Wt.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new DR(c,i,a,l);this.mutationQueue.push(d);for(const y of l)this.Zr=this.Zr.add(new Wt(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Hm:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Wt(i,0),l=new Wt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const y=this.Xr(d.Yr);c.push(y)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Xt(Ge);return i.forEach((l=>{const c=new Wt(l,0),d=new Wt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{a=a.add(y.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;_e.isDocumentKey(c)||(c=c.child(""));const d=new Wt(new _e(c),0);let y=new Xt(Ge);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(y=y.add(g.Yr)),!0)}),d),X.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){nt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Wt(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Wt(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class yx{constructor(e){this.ri=e,this.docs=(function(){return new wt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():dn.newInvalidDocument(i))}getEntries(e,i){let a=Cs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():dn.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=Cs();const d=i.path,y=new _e(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(y);for(;g.hasNext();){const{key:_,value:{document:S}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||G2(H2(S),a)<=0||(l.has(S.key)||Rh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,l){Ee(9500)}ii(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new _x(this)}getSize(e){return X.resolve(this.size)}}class _x extends cx{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class vx{constructor(e){this.persistence=e,this.si=new ha((i=>Qm(i)),Km),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Wm,this.targetCount=0,this.ai=_o.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new _o(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class yE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Eh(0),this.li=!1,this.li=!0,this.hi=new gx,this.referenceDelegate=e(this),this.Pi=new vx(this),this.indexManager=new ix,this.remoteDocumentCache=(function(l){return new yx(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new tx(i),this.Ii=new dx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new mx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new px(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){le("MemoryPersistence","Starting transaction:",e);const l=new Ex(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class Ex extends Q2{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.Ri=new Wm,this.Vi=null}static mi(e){return new eg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=_e.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,xe.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class dh{constructor(e,i){this.persistence=e,this.pi=new ha((a=>X2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=ux(this,i)}static mi(e,i){return new dh(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((y=>{y||(a++,c.removeEntry(d,xe.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qc(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class tg{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=Fe(),l=Fe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new tg(e,i.fromCache,a,l)}}class Tx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lS()?8:K2(mn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Tx;return this.Ss(e,i,d).next((y=>{if(c.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(eo()<=He.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",to(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(eo()<=He.DEBUG&&le("QueryEngine","Query:",to(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(eo()<=He.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",to(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(i))):X.resolve())}ys(e,i){if(H0(i))return X.resolve(null);let a=Ki(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=gm(i,null,"F"),a=Ki(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Fe(...c);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((g=>{const _=this.Ds(i,y);return this.Cs(i,_,d,g.readTime)?this.ys(e,gm(i,null,"F")):this.vs(e,_,i,g)}))))})))))}ws(e,i,a,l){return H0(i)||l.isEqual(xe.min())?X.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(eo()<=He.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),to(i)),this.vs(e,d,i,q2(l,Hl)).next((y=>y)))}))}Ds(e,i){let a=new Xt(X1(e));return i.forEach(((l,c)=>{Rh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return eo()<=He.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",to(i)),this.ps.getDocumentsMatchingQuery(e,i,Tr.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ng="LocalStore",Sx=3e8;class Ax{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new wt(Ge),this.xs=new ha((c=>Qm(c)),Km),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function wx(r,e,i,a){return new Ax(r,e,i,a)}async function _E(r,e){const i=Ne(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let g=Fe();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)g=g.add(S.key)}for(const _ of c){y.push(_.batchId);for(const S of _.mutations)g=g.add(S.key)}return i.localDocuments.getDocuments(a,g).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function Rx(r,e){const i=Ne(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,g,_,S){const A=_.batch,M=A.keys();let H=X.resolve();return M.forEach((te=>{H=H.next((()=>S.getEntry(g,te))).next((re=>{const $=_.docVersions.get(te);nt($!==null,48541),re.version.compareTo($)<0&&(A.applyToRemoteDocument(re,_),re.isValidDocument()&&(re.setReadTime(_.commitVersion),S.addEntry(re)))}))})),H.next((()=>y.mutationQueue.removeMutationBatch(g,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let g=Fe();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(g=g.add(y.batch.mutations[_].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function vE(r){const e=Ne(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function xx(r,e){const i=Ne(r),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const y=[];e.targetChanges.forEach(((S,A)=>{const M=l.get(A);if(!M)return;y.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,A))));let H=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?H=H.withResumeToken(un.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):S.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(S.resumeToken,a)),l=l.insert(A,H),(function(re,$,pe){return re.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=Sx?!0:pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0})(M,H,S)&&y.push(i.Pi.updateTargetData(c,H))}));let g=Cs(),_=Fe();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),y.push(Ix(c,d,e.documentUpdates).next((S=>{g=S.ks,_=S.qs}))),!a.isEqual(xe.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(S)}return X.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(i.Ms=l,c)))}function Ix(r,e,i){let a=Fe(),l=Fe();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=Cs();return i.forEach(((y,g)=>{const _=c.get(y);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(y)),g.isNoDocument()&&g.version.isEqual(xe.min())?(e.removeEntry(y,g.readTime),d=d.insert(y,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),d=d.insert(y,g)):le(ng,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function Cx(r,e){const i=Ne(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Hm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function Nx(r,e){const i=Ne(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new mr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Em(r,e,i){const a=Ne(r),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!wo(d))throw d;le(ng,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function nv(r,e,i){const a=Ne(r);let l=xe.min(),c=Fe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,S){const A=Ne(g),M=A.xs.get(S);return M!==void 0?X.resolve(A.Ms.get(M)):A.Pi.getTargetData(_,S)})(a,d,Ki(e)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,y.targetId).next((g=>{c=g}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?l:xe.min(),i?c:Fe()))).next((y=>(Dx(a,gR(e),y),{documents:y,Qs:c})))))}function Dx(r,e,i){let a=r.Os.get(e)||xe.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class iv{constructor(){this.activeTargetIds=TR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ox{constructor(){this.Mo=new iv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Mx{Oo(e){}shutdown(){}}const sv="ConnectivityMonitor";class rv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(sv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(sv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Lc=null;function Tm(){return Lc===null?Lc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lc++,"0x"+Lc.toString(16)}const $d="RestConnection",Vx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===ah?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const d=Tm(),y=this.zo(e,i.toUriEncodedString());le($d,`Sending RPC '${e}' ${d}:`,y,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:_}=new URL(y),S=Eo(_);return this.Jo(e,y,g,a,S).then((A=>(le($d,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw fo($d,`RPC '${e}' ${d} failed with error: `,A,"url: ",y,"request:",a),A}))}Ho(e,i,a,l,c,d){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=Vx[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class Ux{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const hn="WebChannelConnection";class jx extends kx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const d=Tm();return new Promise(((y,g)=>{const _=new A1;_.setWithCredentials(!0),_.listenOnce(w1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Fc.NO_ERROR:const A=_.getResponseJson();le(hn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),y(A);break;case Fc.TIMEOUT:le(hn,`RPC '${e}' ${d} timed out`),g(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const M=_.getStatus();if(le(hn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const te=H?.error;if(te&&te.status&&te.message){const re=(function(pe){const me=pe.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(me)>=0?me:J.UNKNOWN})(te.status);g(new de(re,te.message))}else g(new de(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new de(J.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{le(hn,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(l);le(hn,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",S,a,15)}))}T_(e,i,a){const l=Tm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=I1(),y=x1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const S=c.join("");le(hn,`Creating RPC '${e}' stream ${l}: ${S}`,g);const A=d.createWebChannel(S,g);this.I_(A);let M=!1,H=!1;const te=new Ux({Yo:$=>{H?le(hn,`Not sending because RPC '${e}' stream ${l} is closed:`,$):(M||(le(hn,`Opening RPC '${e}' stream ${l} transport.`),A.open(),M=!0),le(hn,`RPC '${e}' stream ${l} sending:`,$),A.send($))},Zo:()=>A.close()}),re=($,pe,me)=>{$.listen(pe,(ye=>{try{me(ye)}catch($e){setTimeout((()=>{throw $e}),0)}}))};return re(A,Il.EventType.OPEN,(()=>{H||(le(hn,`RPC '${e}' stream ${l} transport opened.`),te.o_())})),re(A,Il.EventType.CLOSE,(()=>{H||(H=!0,le(hn,`RPC '${e}' stream ${l} transport closed`),te.a_(),this.E_(A))})),re(A,Il.EventType.ERROR,($=>{H||(H=!0,fo(hn,`RPC '${e}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),te.a_(new de(J.UNAVAILABLE,"The operation could not be completed")))})),re(A,Il.EventType.MESSAGE,($=>{if(!H){const pe=$.data[0];nt(!!pe,16349);const me=pe,ye=me?.error||me[0]?.error;if(ye){le(hn,`RPC '${e}' stream ${l} received error:`,ye);const $e=ye.status;let it=(function(w){const x=Gt[w];if(x!==void 0)return aE(x)})($e),Me=ye.message;it===void 0&&(it=J.INTERNAL,Me="Unknown error status: "+$e+" with message "+ye.message),H=!0,te.a_(new de(it,Me)),A.close()}else le(hn,`RPC '${e}' stream ${l} received:`,pe),te.u_(pe)}})),re(y,R1.STAT_EVENT,($=>{$.stat===um.PROXY?le(hn,`RPC '${e}' stream ${l} detected buffering proxy`):$.stat===um.NOPROXY&&le(hn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{te.__()}),0),te}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Jd(){return typeof document<"u"?document:null}function Nh(r){return new BR(r,!0)}class EE{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&le("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const av="PersistentStream";class TE{constructor(e,i,a,l,c,d,y,g){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new EE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Is(i.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new de(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(av,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(le(av,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Lx extends TE{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=GR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return xe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?xe.min():d.readTime?Yi(d.readTime):xe.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=vm(this.serializer),i.addTarget=(function(c,d){let y;const g=d.target;if(y=mm(g)?{documents:KR(c,g)}:{query:YR(c,g).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=uE(c,d.resumeToken);const _=pm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(xe.min())>0){y.readTime=fh(c,d.snapshotVersion.toTimestamp());const _=pm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=$R(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=vm(this.serializer),i.removeTarget=e,this.q_(i)}}class Px extends TE{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=QR(e.writeResults,e.commitTime),a=Yi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=vm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>FR(this.serializer,a)))};this.q_(i)}}class zx{}class Bx extends zx{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,ym(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(J.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,ym(i,a),l,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qx{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Is(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ua="RemoteStore";class Hx{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{fa(this)&&(le(ua,"Restarting streams for network reachability change."),await(async function(g){const _=Ne(g);_.Ea.add(4),await ru(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Dh(_)})(this))}))})),this.Ra=new qx(a,l)}}async function Dh(r){if(fa(r))for(const e of r.da)await e(!0)}async function ru(r){for(const e of r.da)await e(!1)}function bE(r,e){const i=Ne(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ag(i)?rg(i):Ro(i).O_()&&sg(i,e))}function ig(r,e){const i=Ne(r),a=Ro(i);i.Ia.delete(e),a.O_()&&SE(i,e),i.Ia.size===0&&(a.O_()?a.L_():fa(i)&&i.Ra.set("Unknown"))}function sg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ro(r).Y_(e)}function SE(r,e){r.Va.Ue(e),Ro(r).Z_(e)}function rg(r){r.Va=new jR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ro(r).start(),r.Ra.ua()}function ag(r){return fa(r)&&!Ro(r).x_()&&r.Ia.size>0}function fa(r){return Ne(r).Ea.size===0}function AE(r){r.Va=void 0}async function Gx(r){r.Ra.set("Online")}async function Fx(r){r.Ia.forEach(((e,i)=>{sg(r,e)}))}async function Qx(r,e){AE(r),ag(r)?(r.Ra.ha(e),rg(r)):r.Ra.set("Unknown")}async function Kx(r,e,i){if(r.Ra.set("Online"),e instanceof lE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const y of c.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.Va.removeTarget(y))})(r,e)}catch(a){le(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await mh(r,a)}else if(e instanceof Xc?r.Va.Ze(e):e instanceof oE?r.Va.st(e):r.Va.tt(e),!i.isEqual(xe.min()))try{const a=await vE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(g.resumeToken,d))}})),y.targetMismatches.forEach(((g,_)=>{const S=c.Ia.get(g);if(!S)return;c.Ia.set(g,S.withResumeToken(un.EMPTY_BYTE_STRING,S.snapshotVersion)),SE(c,g);const A=new mr(S.target,g,_,S.sequenceNumber);sg(c,A)})),c.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(a){le(ua,"Failed to raise snapshot:",a),await mh(r,a)}}async function mh(r,e,i){if(!wo(e))throw e;r.Ea.add(1),await ru(r),r.Ra.set("Offline"),i||(i=()=>vE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(ua,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Dh(r)}))}function wE(r,e){return e().catch((i=>mh(r,i,e)))}async function Oh(r){const e=Ne(r),i=wr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hm;for(;Yx(e);)try{const l=await Cx(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,Xx(e,l)}catch(l){await mh(e,l)}RE(e)&&xE(e)}function Yx(r){return fa(r)&&r.Ta.length<10}function Xx(r,e){r.Ta.push(e);const i=wr(r);i.O_()&&i.X_&&i.ea(e.mutations)}function RE(r){return fa(r)&&!wr(r).x_()&&r.Ta.length>0}function xE(r){wr(r).start()}async function $x(r){wr(r).ra()}async function Jx(r){const e=wr(r);for(const i of r.Ta)e.ea(i.mutations)}async function Zx(r,e,i){const a=r.Ta.shift(),l=$m.from(a,e,i);await wE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Oh(r)}async function Wx(r,e){e&&wr(r).X_&&await(async function(a,l){if((function(d){return VR(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();wr(a).B_(),await wE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Oh(a)}})(r,e),RE(r)&&xE(r)}async function ov(r,e){const i=Ne(r);i.asyncQueue.verifyOperationInProgress(),le(ua,"RemoteStore received new credentials");const a=fa(i);i.Ea.add(3),await ru(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Dh(i)}async function eI(r,e){const i=Ne(r);e?(i.Ea.delete(2),await Dh(i)):e||(i.Ea.add(2),await ru(i),i.Ra.set("Unknown"))}function Ro(r){return r.ma||(r.ma=(function(i,a,l){const c=Ne(i);return c.sa(),new Lx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:Gx.bind(null,r),t_:Fx.bind(null,r),r_:Qx.bind(null,r),H_:Kx.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),ag(r)?rg(r):r.Ra.set("Unknown")):(await r.ma.stop(),AE(r))}))),r.ma}function wr(r){return r.fa||(r.fa=(function(i,a,l){const c=Ne(i);return c.sa(),new Px(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:$x.bind(null,r),r_:Wx.bind(null,r),ta:Jx.bind(null,r),na:Zx.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Oh(r)):(await r.fa.stop(),r.Ta.length>0&&(le(ua,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class og{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,y=new og(e,i,d,l,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(r,e){if(Is("AsyncQueue",`${e}: ${r}`),wo(r))return new de(J.UNAVAILABLE,`${e}: ${r}`);throw r}class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||_e.comparator(i.key,a.key):(i,a)=>_e.comparator(i.key,a.key),this.keyedMap=Cl(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new lo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class lv{constructor(){this.ga=new wt(_e.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class vo{constructor(e,i,a,l,c,d,y,g,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new vo(e,i,lo.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class tI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class nI{constructor(){this.queries=uv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Ne(i),c=l.queries;l.queries=uv(),c.forEach(((d,y)=>{for(const g of y.Sa)g.onError(a)}))})(this,new de(J.ABORTED,"Firestore shutting down"))}}function uv(){return new ha((r=>Y1(r)),wh)}async function IE(r,e){const i=Ne(r);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new tI,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=lg(d,`Initialization of query '${to(e.query)}' failed`);return void e.onError(y)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ug(i)}async function CE(r,e){const i=Ne(r),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function iI(r,e){const i=Ne(r);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const y of d.Sa)y.Fa(l)&&(a=!0);d.wa=l}}a&&ug(i)}function sI(r,e,i){const a=Ne(r),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function ug(r){r.Ca.forEach((e=>{e.next()}))}var bm,cv;(cv=bm||(bm={})).Ma="default",cv.Cache="cache";class NE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new vo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bm.Cache}}class DE{constructor(e){this.key=e}}class OE{constructor(e){this.key=e}}class rI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=X1(e),this.tu=new lo(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new lv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((S,A)=>{const M=l.get(S),H=Rh(this.query,A)?A:null,te=!!M&&this.mutatedKeys.has(M.key),re=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let $=!1;M&&H?M.data.isEqual(H.data)?te!==re&&(a.track({type:3,doc:H}),$=!0):this.su(M,H)||(a.track({type:2,doc:H}),$=!0,(g&&this.eu(H,g)>0||_&&this.eu(H,_)<0)&&(y=!0)):!M&&H?(a.track({type:0,doc:H}),$=!0):M&&!H&&(a.track({type:1,doc:M}),$=!0,(g||_)&&(y=!0)),$&&(H?(d=d.add(H),c=re?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Cs:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,A)=>(function(H,te){const re=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:$})}};return re(H)-re(te)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(a),l=l??!1;const y=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,_=g!==this.Za;return this.Za=g,d.length!==0||_?{snapshot:new vo(this.query,e.tu,c,d,e.mutatedKeys,g===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new OE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new DE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Fe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cg="SyncEngine";class aI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class oI{constructor(e){this.key=e,this.hu=!1}}class lI{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ha((y=>Y1(y)),wh),this.Iu=new Map,this.Eu=new Set,this.du=new wt(_e.comparator),this.Au=new Map,this.Ru=new Wm,this.Vu={},this.mu=new Map,this.fu=_o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uI(r,e,i=!0){const a=LE(r);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await ME(a,e,i,!0),l}async function cI(r,e){const i=LE(r);await ME(i,e,!0,!1)}async function ME(r,e,i,a){const l=await Nx(r.localStore,Ki(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await hI(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&bE(r.remoteStore,l),y}async function hI(r,e,i,a,l){r.pu=(A,M,H)=>(async function(re,$,pe,me){let ye=$.view.ru(pe);ye.Cs&&(ye=await nv(re.localStore,$.query,!1).then((({documents:C})=>$.view.ru(C,ye))));const $e=me&&me.targetChanges.get($.targetId),it=me&&me.targetMismatches.get($.targetId)!=null,Me=$.view.applyChanges(ye,re.isPrimaryClient,$e,it);return fv(re,$.targetId,Me.au),Me.snapshot})(r,A,M,H);const c=await nv(r.localStore,e,!0),d=new rI(e,c.Qs),y=d.ru(c.documents),g=su.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(y,r.isPrimaryClient,g);fv(r,i,_.au);const S=new aI(e,i,d);return r.Tu.set(e,S),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function fI(r,e,i){const a=Ne(r),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!wh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Em(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&ig(a.remoteStore,l.targetId),Sm(a,l.targetId)})).catch(Ao)):(Sm(a,l.targetId),await Em(a.localStore,l.targetId,!0))}async function dI(r,e){const i=Ne(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ig(i.remoteStore,a.targetId))}async function mI(r,e,i){const a=TI(r);try{const l=await(function(d,y){const g=Ne(d),_=_t.now(),S=y.reduce(((H,te)=>H.add(te.key)),Fe());let A,M;return g.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let te=Cs(),re=Fe();return g.Ns.getEntries(H,S).next(($=>{te=$,te.forEach(((pe,me)=>{me.isValidDocument()||(re=re.add(pe))}))})).next((()=>g.localDocuments.getOverlayedDocuments(H,te))).next(($=>{A=$;const pe=[];for(const me of y){const ye=CR(me,A.get(me.key).overlayedDocument);ye!=null&&pe.push(new Ir(me.key,ye,B1(ye.value.mapValue),Ei.exists(!0)))}return g.mutationQueue.addMutationBatch(H,_,pe,y)})).next(($=>{M=$;const pe=$.applyToLocalDocumentSet(A,re);return g.documentOverlayCache.saveOverlays(H,$.batchId,pe)}))})).then((()=>({batchId:M.batchId,changes:J1(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,y,g){let _=d.Vu[d.currentUser.toKey()];_||(_=new wt(Ge)),_=_.insert(y,g),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await au(a,l.changes),await Oh(a.remoteStore)}catch(l){const c=lg(l,"Failed to persist write");i.reject(c)}}async function VE(r,e){const i=Ne(r);try{const a=await xx(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(nt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?nt(d.hu,14607):l.removedDocuments.size>0&&(nt(d.hu,42227),d.hu=!1))})),await au(i,a,e)}catch(a){await Ao(a)}}function hv(r,e,i){const a=Ne(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const g=Ne(d);g.onlineState=y;let _=!1;g.queries.forEach(((S,A)=>{for(const M of A.Sa)M.va(y)&&(_=!0)})),_&&ug(g)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function gI(r,e,i){const a=Ne(r);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new wt(_e.comparator);d=d.insert(c,dn.newNoDocument(c,xe.min()));const y=Fe().add(c),g=new Ch(xe.min(),new Map,new wt(Ge),d,y);await VE(a,g),a.du=a.du.remove(c),a.Au.delete(e),hg(a)}else await Em(a.localStore,e,!1).then((()=>Sm(a,e,i))).catch(Ao)}async function pI(r,e){const i=Ne(r),a=e.batch.batchId;try{const l=await Rx(i.localStore,e);UE(i,a,null),kE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await au(i,l)}catch(l){await Ao(l)}}async function yI(r,e,i){const a=Ne(r);try{const l=await(function(d,y){const g=Ne(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return g.mutationQueue.lookupMutationBatch(_,y).next((A=>(nt(A!==null,37113),S=A.keys(),g.mutationQueue.removeMutationBatch(_,A)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,S,y))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>g.localDocuments.getDocuments(_,S)))}))})(a.localStore,e);UE(a,e,i),kE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await au(a,l)}catch(l){await Ao(l)}}function kE(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function UE(r,e,i){const a=Ne(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function Sm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||jE(r,a)}))}function jE(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(ig(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),hg(r))}function fv(r,e,i){for(const a of i)a instanceof DE?(r.Ru.addReference(a.key,e),_I(r,a)):a instanceof OE?(le(cg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||jE(r,a.key)):Ee(19791,{wu:a})}function _I(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(le(cg,"New document in limbo: "+i),r.Eu.add(a),hg(r))}function hg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new _e(At.fromString(e)),a=r.fu.next();r.Au.set(a,new oI(i)),r.du=r.du.insert(i,a),bE(r.remoteStore,new mr(Ki(Ah(i.path)),a,"TargetPurposeLimboResolution",Eh.ce))}}async function au(r,e,i){const a=Ne(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,g)=>{d.push(a.pu(g,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(_){l.push(_);const S=tg.As(g.targetId,_);c.push(S)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(g,_){const S=Ne(g);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(_,(M=>X.forEach(M.Es,(H=>S.persistence.referenceDelegate.addReference(A,M.targetId,H))).next((()=>X.forEach(M.ds,(H=>S.persistence.referenceDelegate.removeReference(A,M.targetId,H)))))))))}catch(A){if(!wo(A))throw A;le(ng,"Failed to update sequence numbers: "+A)}for(const A of _){const M=A.targetId;if(!A.fromCache){const H=S.Ms.get(M),te=H.snapshotVersion,re=H.withLastLimboFreeSnapshotVersion(te);S.Ms=S.Ms.insert(M,re)}}})(a.localStore,c))}async function vI(r,e){const i=Ne(r);if(!i.currentUser.isEqual(e)){le(cg,"User change. New user:",e.toKey());const a=await _E(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((g=>{g.reject(new de(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await au(i,a.Ls)}}function EI(r,e){const i=Ne(r),a=i.Au.get(e);if(a&&a.hu)return Fe().add(a.key);{let l=Fe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function LE(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=VE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gI.bind(null,e),e.Pu.H_=iI.bind(null,e.eventManager),e.Pu.yu=sI.bind(null,e.eventManager),e}function TI(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yI.bind(null,e),e}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return wx(this.persistence,new bx,e.initialUser,this.serializer)}Cu(e){return new yE(eg.mi,this.serializer)}Du(e){return new Ox}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class bI extends gh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){nt(this.persistence.referenceDelegate instanceof dh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new ox(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new yE((a=>dh.mi(a,i)),this.serializer)}}class Am{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>hv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=vI.bind(null,this.syncEngine),await eI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nI})()}createDatastore(e){const i=Nh(e.databaseInfo.databaseId),a=(function(c){return new jx(c)})(e.databaseInfo);return(function(c,d,y,g){return new Bx(c,d,y,g)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,y){return new Hx(a,l,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>hv(this.syncEngine,i,0)),(function(){return rv.v()?new rv:new Mx})())}createSyncEngine(e,i){return(function(l,c,d,y,g,_,S){const A=new lI(l,c,d,y,g,_);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ne(i);le(ua,"RemoteStore shutting down."),a.Ea.add(5),await ru(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Am.provider={build:()=>new Am};class PE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Rr="FirestoreClient";class SI{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=fn.UNAUTHENTICATED,this.clientId=Bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{le(Rr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(le(Rr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=lg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Zd(r,e){r.asyncQueue.verifyOperationInProgress(),le(Rr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await _E(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function dv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await AI(r);le(Rr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>ov(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>ov(e.remoteStore,l))),r._onlineComponents=e}async function AI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(Rr,"Using user provided OfflineComponentProvider");try{await Zd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;fo("Error using user provided cache. Falling back to memory cache: "+i),await Zd(r,new gh)}}else le(Rr,"Using default OfflineComponentProvider"),await Zd(r,new bI(void 0));return r._offlineComponents}async function zE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(Rr,"Using user provided OnlineComponentProvider"),await dv(r,r._uninitializedComponentsProvider._online)):(le(Rr,"Using default OnlineComponentProvider"),await dv(r,new Am))),r._onlineComponents}function wI(r){return zE(r).then((e=>e.syncEngine))}async function wm(r){const e=await zE(r),i=e.eventManager;return i.onListen=uI.bind(null,e.syncEngine),i.onUnlisten=fI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=cI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=dI.bind(null,e.syncEngine),i}function RI(r,e,i={}){const a=new vr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,g,_){const S=new PE({next:M=>{S.Nu(),d.enqueueAndForget((()=>CE(c,A)));const H=M.docs.has(y);!H&&M.fromCache?_.reject(new de(J.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&M.fromCache&&g&&g.source==="server"?_.reject(new de(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),A=new NE(Ah(y.path),S,{includeMetadataChanges:!0,qa:!0});return IE(c,A)})(await wm(r),r.asyncQueue,e,i,a))),a.promise}function BE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const mv=new Map;const qE="firestore.googleapis.com",gv=!0;class pv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qE,this.ssl=gv}else this.host=e.host,this.ssl=e.ssl??gv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rx)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}B2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fg{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new N2;switch(a.type){case"firstParty":return new V2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=mv.get(i);a&&(le("ComponentProvider","Removing Datastore"),mv.delete(i),a.terminate())})(this),Promise.resolve()}}function xI(r,e,i,a={}){r=vi(r,fg);const l=Eo(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;l&&(Lv(`https://${y}`),Pv("Firestore",!0)),c.host!==qE&&c.host!==y&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:y,ssl:l,emulatorOptions:a};if(!Er(g,d)&&(r._setSettings(g),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=fn.MOCK_USER;else{_=Wb(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new fn(A)}r._authCredentials=new D2(new N1(_,S))}}class Mh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Mh(this.firestore,e,this._query)}}class Qt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(nu(i,Qt._jsonSchema))return new Qt(e,a||null,new _e(At.fromString(i.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:Ft("string",Qt._jsonSchemaVersion),referencePath:Ft("string")};class Yl extends Mh{constructor(e,i,a){super(e,i,Ah(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new _e(e))}withConverter(e){return new Yl(this.firestore,e,this._path)}}function ei(r,e,...i){if(r=yn(r),arguments.length===1&&(e=Bm.newId()),z2("doc","path",e),r instanceof fg){const a=At.fromString(e,...i);return N0(a),new Qt(r,null,new _e(a))}{if(!(r instanceof Qt||r instanceof Yl))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(At.fromString(e,...i));return N0(a),new Qt(r.firestore,r instanceof Yl?r.converter:null,new _e(a))}}const yv="AsyncQueue";class _v{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new EE(this,"async_queue_retry"),this._c=()=>{const a=Jd();a&&le(yv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new vr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wo(e))throw e;le(yv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Is("INTERNAL UNHANDLED ERROR: ",vv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=og.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ee(47125,{Pc:vv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function vv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function Ev(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ca extends fg{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new _v,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _v(e),this._firestoreClient=void 0,await e}}}function II(r,e){const i=typeof r=="object"?r:Hv(),a=typeof r=="string"?r:ah,l=Dm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Jb("firestore");c&&xI(l,...c)}return l}function dg(r){if(r._terminated)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||CI(r),r._firestoreClient}function CI(r){const e=r._freezeSettings(),i=(function(l,c,d,y){return new Z2(l,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,BE(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new SI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ri(un.fromBase64String(e))}catch(i){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ri(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nu(e,ri._jsonSchema))return ri.fromBase64String(e.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:Ft("string",ri._jsonSchemaVersion),bytes:Ft("string")};class Vh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class kh{constructor(e){this._methodName=e}}class Xi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(nu(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Ft("string",Xi._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};class $i{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nu(e,$i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new $i(e.vectorValues);throw new de(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:Ft("string",$i._jsonSchemaVersion),vectorValues:Ft("object")};const NI=/^__.*__$/;class DI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Ir(e,this.data,this.fieldMask,i,this.fieldTransforms):new iu(e,this.data,i,this.fieldTransforms)}}class HE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Ir(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function GE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class Uh{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Uh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(GE(this.Ac)&&NI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class OI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Nh(e)}Cc(e,i,a,l=!1){return new Uh({Ac:e,methodName:i,Dc:a,path:ln.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function FE(r){const e=r._freezeSettings(),i=Nh(r._databaseId);return new OI(r._databaseId,!!e.ignoreUndefinedProperties,i)}function MI(r,e,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);gg("Data must be an object, but it was:",d,a);const y=QE(a,d);let g,_;if(c.merge)g=new Pn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const M=Rm(e,A,i);if(!d.contains(M))throw new de(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);YE(S,M)||S.push(M)}g=new Pn(S),_=d.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,_=d.fieldTransforms;return new DI(new Rn(y),g,_)}class jh extends kh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jh}}function VI(r,e,i){return new Uh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class mg extends kh{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=VI(this,e,!0),a=this.vc.map((c=>ou(c,i))),l=new yo(a);return new wR(e.path,l)}isEqual(e){return e instanceof mg&&Er(this.vc,e.vc)}}function kI(r,e,i,a){const l=r.Cc(1,e,i);gg("Data must be an object, but it was:",l,a);const c=[],d=Rn.empty();xr(a,((g,_)=>{const S=pg(e,g,i);_=yn(_);const A=l.yc(S);if(_ instanceof jh)c.push(S);else{const M=ou(_,A);M!=null&&(c.push(S),d.set(S,M))}}));const y=new Pn(c);return new HE(d,y,l.fieldTransforms)}function UI(r,e,i,a,l,c){const d=r.Cc(1,e,i),y=[Rm(e,a,i)],g=[l];if(c.length%2!=0)throw new de(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(Rm(e,c[M])),g.push(c[M+1]);const _=[],S=Rn.empty();for(let M=y.length-1;M>=0;--M)if(!YE(_,y[M])){const H=y[M];let te=g[M];te=yn(te);const re=d.yc(H);if(te instanceof jh)_.push(H);else{const $=ou(te,re);$!=null&&(_.push(H),S.set(H,$))}}const A=new Pn(_);return new HE(S,A,d.fieldTransforms)}function ou(r,e){if(KE(r=yn(r)))return gg("Unsupported field value:",e,r),QE(r,e);if(r instanceof kh)return(function(a,l){if(!GE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const y of a){let g=ou(y,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,l){if((a=yn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return bR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=_t.fromDate(a);return{timestampValue:fh(l.serializer,c)}}if(a instanceof _t){const c=new _t(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:fh(l.serializer,c)}}if(a instanceof Xi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ri)return{bytesValue:uE(l.serializer,a._byteString)};if(a instanceof Qt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof $i)return(function(d,y){return{mapValue:{fields:{[P1]:{stringValue:z1},[oh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Ym(y.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${qm(a)}`)})(r,e)}function QE(r,e){const i={};return M1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xr(r,((a,l)=>{const c=ou(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function KE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof _t||r instanceof Xi||r instanceof ri||r instanceof Qt||r instanceof kh||r instanceof $i)}function gg(r,e,i){if(!KE(i)||!D1(i)){const a=qm(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Rm(r,e,i){if((e=yn(e))instanceof Vh)return e._internalPath;if(typeof e=="string")return pg(r,e);throw ph("Field path arguments must be of type string or ",r,!1,void 0,i)}const jI=new RegExp("[~\\*/\\[\\]]");function pg(r,e,i){if(e.search(jI)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Vh(...e.split("."))._internalPath}catch{throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ph(r,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${a}`),d&&(g+=` in document ${l}`),g+=")"),new de(J.INVALID_ARGUMENT,y+r+g)}function YE(r,e){return r.some((i=>i.isEqual(e)))}class XE{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field($E("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class LI extends XE{data(){return super.data()}}function $E(r,e){return typeof e=="string"?pg(r,e):e instanceof Vh?e._internalPath:e._delegate._internalPath}function PI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new de(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zI{convertValue(e,i="none"){switch(Ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return xr(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[oh].arrayValue?.values?.map((a=>kt(a.doubleValue)));return new $i(i)}convertGeoPoint(e){return new Xi(kt(e.latitude),kt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=bh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const i=br(e);return new _t(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=At.fromString(e);nt(gE(a),9688,{name:e});const l=new Fl(a.get(1),a.get(3)),c=new _e(a.popFirst(5));return l.isEqual(i)||Is(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function BI(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class Dl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ra extends XE{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field($E("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ra._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",ra._jsonSchema={type:Ft("string",ra._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class $c extends ra{data(e={}){return super.data(e)}}class uo{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Dl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new $c(this._firestore,this._userDataWriter,a.key,a,new Dl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new de(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const g=new $c(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Dl(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const g=new $c(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Dl(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),S=d.indexOf(y.doc.key)),{type:qI(y.type),doc:g,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}function Tv(r){r=vi(r,Qt);const e=vi(r.firestore,ca);return RI(dg(e),r._key).then((i=>ZE(e,r,i)))}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:Ft("string",uo._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class JE extends zI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,i)}}function HI(r,e,i){r=vi(r,Qt);const a=vi(r.firestore,ca),l=BI(r.converter,e);return yg(a,[MI(FE(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Ei.none())])}function Es(r,e,i,...a){r=vi(r,Qt);const l=vi(r.firestore,ca),c=FE(l);let d;return d=typeof(e=yn(e))=="string"||e instanceof Vh?UI(c,"updateDoc",r._key,e,i,a):kI(c,"updateDoc",r._key,e),yg(l,[d.toMutation(r._key,Ei.exists(!0))])}function GI(r){return yg(vi(r.firestore,ca),[new Xm(r._key,Ei.none())])}function bv(r,...e){r=yn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Ev(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Ev(e[a])){const g=e[a];e[a]=g.next?.bind(g),e[a+1]=g.error?.bind(g),e[a+2]=g.complete?.bind(g)}let c,d,y;if(r instanceof Qt)d=vi(r.firestore,ca),y=Ah(r._key.path),c={next:g=>{e[a]&&e[a](ZE(d,r,g))},error:e[a+1],complete:e[a+2]};else{const g=vi(r,Mh);d=vi(g.firestore,ca),y=g._query;const _=new JE(d);c={next:S=>{e[a]&&e[a](new uo(d,_,g,S))},error:e[a+1],complete:e[a+2]},PI(r._query)}return(function(_,S,A,M){const H=new PE(M),te=new NE(S,H,A);return _.asyncQueue.enqueueAndForget((async()=>IE(await wm(_),te))),()=>{H.Nu(),_.asyncQueue.enqueueAndForget((async()=>CE(await wm(_),te)))}})(dg(d),y,l,c)}function yg(r,e){return(function(a,l){const c=new vr;return a.asyncQueue.enqueueAndForget((async()=>mI(await wI(a),l,c))),c.promise})(dg(r),e)}function ZE(r,e,i){const a=i.docs.get(e._key),l=new JE(r);return new ra(r,l,e._key,a,new Dl(i.hasPendingWrites,i.fromCache),e.converter)}function Pc(...r){return new mg("arrayUnion",r)}(function(e,i=!0){(function(l){So=l})(To),ho(new aa("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new ca(new O2(a.getProvider("auth-internal")),new k2(d,a.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(_.options.projectId,S)})(d,l),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),yr(R0,x0,e),yr(R0,x0,"esm2020")})();const FI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Sv=r=>{const e=QI(r);return e.charAt(0).toUpperCase()+e.slice(1)},WE=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),KI=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var YI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const XI=We.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...y},g)=>We.createElement("svg",{ref:g,...YI,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:WE("lucide",l),...!c&&!KI(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,S])=>We.createElement(_,S)),...Array.isArray(c)?c:[c]]));const gt=(r,e)=>{const i=We.forwardRef(({className:a,...l},c)=>We.createElement(XI,{ref:c,iconNode:e,className:WE(`lucide-${FI(Sv(r))}`,`lucide-${r}`,a),...l}));return i.displayName=Sv(r),i};const $I=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Av=gt("book-open",$I);const JI=[["path",{d:"M10 5V3",key:"1y54qe"}],["path",{d:"M14 5V3",key:"m6isi"}],["path",{d:"M15 21v-3a3 3 0 0 0-6 0v3",key:"lbp5hj"}],["path",{d:"M18 3v8",key:"2ollhf"}],["path",{d:"M18 5H6",key:"98imr9"}],["path",{d:"M22 11H2",key:"1lmjae"}],["path",{d:"M22 9v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9",key:"1rly83"}],["path",{d:"M6 3v8",key:"csox7g"}]],ZI=gt("castle",JI);const WI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],wv=gt("check",WI);const eC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],co=gt("crown",eC);const tC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Pl=gt("eye-off",tC);const nC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iC=gt("eye",nC);const sC=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],rC=gt("gem",sC);const aC=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],_g=gt("gift",aC);const oC=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],lC=gt("hammer",oC);const uC=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],cC=gt("heart-pulse",uC);const hC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],eT=gt("history",hC);const fC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],dC=gt("house",fC);const mC=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],gC=gt("layers",mC);const pC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Rv=gt("log-out",pC);const yC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],xv=gt("rotate-ccw",yC);const _C=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],vg=gt("scale",_C);const vC=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],EC=gt("scroll",vC);const TC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],bC=gt("shield",TC);const SC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Iv=gt("sparkles",SC);const AC=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],Eg=gt("sword",AC);const wC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zl=gt("trash-2",wC);const RC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Cv=gt("triangle-alert",RC);const xC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],xm=gt("trophy",xC);const IC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ol=gt("user",IC);const CC=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],NC=gt("utensils",CC);const DC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tT=gt("x",DC),OC={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:2c9029761ef876856aa637"},nT=qv(OC),Wd=I2(nT),ti=II(nT),yi=typeof __app_id<"u"?__app_id:"emperor-game",MC="4",Hi={TREASURE:{id:"TREASURE",name:"The Merchant",val:5,icon:rC,color:"text-yellow-400",bg:"bg-gray-900",border:"border-yellow-500",item:"Treasure"},WEAPON:{id:"WEAPON",name:"The Warlord",val:4,icon:Eg,color:"text-red-500",bg:"bg-gray-900",border:"border-red-600",item:"Weapon"},ART:{id:"ART",name:"The Patron",val:3,icon:co,color:"text-purple-400",bg:"bg-gray-900",border:"border-purple-500",item:"Art"},CLOTH:{id:"CLOTH",name:"The Weaver",val:3,icon:EC,color:"text-blue-400",bg:"bg-gray-900",border:"border-blue-500",item:"Cloth"},FOOD:{id:"FOOD",name:"The Glutton",val:2,icon:NC,color:"text-green-400",bg:"bg-gray-900",border:"border-green-500",item:"Food"},HOUSING:{id:"HOUSING",name:"The Architect",val:2,icon:ZI,color:"text-orange-400",bg:"bg-gray-900",border:"border-orange-500",item:"Housing"},HEALTH:{id:"HEALTH",name:"The Healer",val:2,icon:cC,color:"text-pink-400",bg:"bg-gray-900",border:"border-pink-500",item:"Treatment"}},ni={SECRET:{id:"SECRET",name:"Secret Plan",icon:Pl,color:"text-blue-400",count:1,desc:"Place 1 card face down (revealed at round end).",reqCards:1},SABOTAGE:{id:"SABOTAGE",name:"Sabotage",icon:zl,color:"text-red-400",count:1,desc:"Discard 2 cards permanently.",reqCards:2},GIFT:{id:"GIFT",name:"The Offering",icon:_g,color:"text-purple-400",count:1,desc:"Offer 3 cards. Opponent picks 1, you keep 2.",reqCards:3},TRADE:{id:"TRADE",name:"The Divide",icon:vg,color:"text-green-400",count:1,desc:"Make two piles (2+2). Opponent picks one pile.",reqCards:4}},VC=r=>{let e=r.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[r[e],r[i]]=[r[i],r[e]];return r},ur=(r,e="neutral")=>({text:r,type:e,id:Date.now().toString()+Math.random().toString(36).substr(2,9)}),zc=()=>T.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-800 via-gray-900 to-black opacity-80"}),T.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/black-scales.png")'}})]}),Nv=()=>T.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[T.jsx(co,{size:12,className:"text-yellow-500"}),T.jsx("span",{className:"text-[10px] font-black tracking-widest text-yellow-500 uppercase",children:"EMPEROR"})]}),kC=()=>T.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[T.jsx(co,{size:22,className:"text-yellow-500"}),T.jsx("span",{className:"text-[20px] font-black tracking-widest text-yellow-500 uppercase",children:"EMPEROR"})]}),Dv=({onConfirm:r,onCancel:e,isHost:i,onReturnToLobby:a})=>T.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:T.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[T.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon Kingdom?"}),T.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:i&&a?"As Emperor (Host), you can return everyone to the Lobby or dissolve the room completely.":"Are you sure you want to leave? This will remove you from the room."}),T.jsxs("div",{className:"flex flex-col gap-3",children:[i&&a&&T.jsxs("button",{onClick:a,className:"w-full bg-blue-600 hover:bg-blue-500 text-white py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 border border-blue-400",children:[T.jsx(dC,{size:18})," Return Crew to Lobby"]}),T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsx("button",{onClick:e,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold transition-colors",children:"Stay"}),T.jsx("button",{onClick:r,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold transition-colors",children:"Leave"})]})]})]})}),ii=({typeId:r,onClick:e,selected:i,disabled:a,small:l,tiny:c,faceDown:d,isOpponent:y})=>{if(d)return T.jsx("div",{className:`
        ${c?"w-6 h-8 rounded-sm":l?"w-10 h-14 rounded":"w-16 h-24 md:w-20 md:h-32 rounded"} 
        bg-gray-800 border-2 border-gray-600 flex items-center justify-center shadow-lg transition-transform
        ${y?"":"hover:border-gray-400"}
      `,children:T.jsx("div",{className:"w-full h-full bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-gray-700 to-gray-900 opacity-50 flex items-center justify-center",children:T.jsx("span",{className:`${c?"text-[10px]":"text-2xl"} text-gray-500 font-bold font-serif`,children:"?"})})});const g=Hi[r];return g?c?T.jsx("div",{className:`w-6 h-8 ${g.bg} border ${g.border} rounded-sm flex items-center justify-center shadow-sm`,children:T.jsx(g.icon,{className:`${g.color} w-3 h-3`})}):T.jsxs("button",{onClick:e,disabled:a,className:`
        relative rounded border-2 transition-all flex flex-col items-center justify-center shadow-lg
        ${l?"w-10 h-14 p-1":"w-16 h-24 md:w-24 md:h-36 p-1 md:p-2"}
        ${i?"ring-4 ring-yellow-400 -translate-y-2 z-10":"border-gray-600"}
        ${g.bg}
        ${a?"cursor-not-allowed brightness-75":"hover:scale-105 cursor-pointer hover:border-white"}
      `,children:[T.jsx("div",{className:`absolute top-0.5 left-1 md:top-1 md:left-1 text-[9px] md:text-[10px] font-bold ${g.color} leading-none`,children:g.val}),T.jsx("div",{className:`absolute bottom-0.5 right-1 md:bottom-1 md:right-1 text-[9px] md:text-[10px] font-bold ${g.color} leading-none rotate-180`,children:g.val}),T.jsx(g.icon,{className:`${g.color} ${l?"w-4 h-4":"w-6 h-6 md:w-10 md:h-10"}`}),!l&&T.jsx("span",{className:"font-bold text-[9px] md:text-xs mt-1 md:mt-2 text-gray-300 text-center leading-none truncate w-full",children:g.item})]}):null},UC=({type:r,used:e,onClick:i,active:a,disabled:l})=>{const c=ni[r];return T.jsxs("button",{onClick:i,disabled:e||l,className:`
        relative p-2 md:p-3 rounded-full border-2 transition-all flex items-center justify-center group
        ${e?"bg-gray-800 border-gray-700 opacity-40 grayscale":"bg-gray-800 border-gray-500 hover:border-white hover:bg-gray-700"}
        ${a?"ring-2 md:ring-4 ring-yellow-400 scale-110 bg-gray-700":""}
      `,title:c.desc,children:[T.jsx(c.icon,{size:16,className:`${e?"text-gray-500":c.color} w-4 h-4 md:w-5 md:h-5`}),T.jsxs("div",{className:"absolute bottom-full mb-2 hidden md:group-hover:block w-32 bg-black text-white text-[10px] p-2 rounded z-50 pointer-events-none",children:[c.desc," (",c.reqCards," cards)"]})]})},jC=({id:r,data:e,myColor:i})=>{const a=Hi[r],l=e.owner,c=i==="red"?e.blueItems:e.redItems,d=i==="red"?e.redItems:e.blueItems;return T.jsxs("div",{className:"flex flex-col items-center gap-1 w-full",children:[T.jsx("div",{className:"flex flex-wrap justify-center gap-0.5 min-h-[1rem] items-end w-full content-end",children:c.map((y,g)=>T.jsx(ii,{typeId:y,tiny:!0},g))}),T.jsxs("div",{className:`
        relative w-full bg-gray-800 rounded-lg md:rounded-xl border-2 md:border-4 transition-all flex flex-col items-center justify-center z-10
        aspect-[2/3] p-1
        ${l==="red"?"border-red-600 shadow-[0_0_10px_rgba(220,38,38,0.3)]":l==="blue"?"border-blue-500 shadow-[0_0_10px_rgba(59,130,246,0.3)]":"border-gray-600"}
      `,children:[T.jsx("div",{className:`absolute top-1 left-1 font-bold text-[10px] md:text-lg ${a.color}`,children:a.val}),T.jsx("div",{className:`absolute bottom-1 right-1 font-bold text-[10px] md:text-lg ${a.color} rotate-180`,children:a.val}),l&&T.jsx("div",{className:`absolute -top-2 -right-2 md:-top-3 md:-right-3 rounded-full p-1 md:p-2 border-2 bg-gray-900 z-20 shadow-lg
            ${l==="red"?"border-red-500 bg-red-900/80 text-red-200":"border-blue-500 bg-blue-900/80 text-blue-200"}`,children:T.jsx(bC,{className:"w-3 h-3 md:w-5 md:h-5",fill:"currentColor"})}),T.jsx(a.icon,{className:`${a.color} w-5 h-5 md:w-10 md:h-10 mb-1 md:mb-2`}),T.jsx("span",{className:`${a.color} font-serif font-bold text-[8px] md:text-sm text-center leading-tight truncate w-full`,children:a.name.split(" ").pop()}),T.jsx("span",{className:"text-gray-500 text-[8px] md:text-[10px] mt-0.5 uppercase tracking-wide hidden md:block",children:a.item})]}),T.jsx("div",{className:"flex flex-wrap justify-center gap-0.5 min-h-[2rem] items-start w-full",children:d.map((y,g)=>T.jsx(ii,{typeId:y,tiny:!0},g))})]})},LC=({logs:r,onClose:e})=>T.jsx("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-[155] overflow-y-auto p-2 shadow-2xl",children:T.jsxs("div",{className:"bg-gray-800 w-full max-w-md h-[70vh] rounded-xl flex flex-col border border-gray-700 shadow-2xl animate-in zoom-in-95",children:[T.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center bg-gray-900 rounded-t-xl",children:[T.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[T.jsx(eT,{size:20})," Chronicles"]}),T.jsx("button",{onClick:e,className:"p-2 bg-gray-700 rounded-full hover:bg-gray-600",children:T.jsx(tT,{size:16,className:"text-gray-400"})})]}),T.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...r].reverse().map((i,a)=>T.jsxs("div",{className:`text-sm p-3 rounded border-l-2 flex items-center gap-2 ${i.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":i.type==="blue"?"bg-blue-900/20 border-blue-500 text-blue-200":i.type==="success"?"bg-green-900/20 border-green-500 text-green-200":"bg-gray-700/30 border-gray-500 text-gray-300"}`,children:[(i.type==="danger"||i.type==="blue")&&T.jsx(Ol,{size:14,className:"shrink-0"}),i.text]},a))})]})}),em=({onClose:r})=>T.jsx("div",{className:"fixed inset-0 bg-black/95 z-[100] flex items-center justify-center p-0 md:p-4",children:T.jsxs("div",{className:"bg-gray-900 md:rounded-2xl w-full max-w-4xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border-none md:border border-yellow-700 shadow-2xl flex flex-col",children:[T.jsxs("div",{className:"p-4 md:p-6 border-b border-gray-800 flex justify-between items-center bg-gray-950",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-2xl font-serif text-yellow-500 uppercase tracking-widest",children:"Imperial Decree"}),T.jsx("span",{className:"text-gray-500 text-xs",children:"Rules of Engagement"})]}),T.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-800 rounded-full text-gray-400",children:T.jsx(tT,{size:24})})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 text-gray-300 scrollbar-thin scrollbar-thumb-gray-700",children:[T.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-xl border border-gray-700",children:[T.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-3",children:[T.jsx(xm,{className:"text-yellow-500"})," The Goal"]}),T.jsxs("p",{children:["Conquer the Seven Kingdoms by having the most items in a kingdom at the end of a round.",T.jsx("br",{}),T.jsx("br",{}),T.jsx("strong",{className:"text-white",children:"Victory Conditions:"}),T.jsxs("ul",{className:"list-disc ml-5 mt-2 space-y-1",children:[T.jsxs("li",{children:["Control ",T.jsx("span",{className:"text-yellow-400",children:"4 Kingdoms"})]}),T.jsxs("li",{children:["OR amass"," ",T.jsx("span",{className:"text-yellow-400",children:"11 Victory Points"})," (Sum of Kingdom Values)"]})]})]})]}),T.jsxs("div",{children:[T.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-3",children:[T.jsx(Eg,{className:"text-red-500"})," Action Tokens"]}),T.jsx("p",{className:"mb-4 text-sm text-gray-400",children:"You must use each token exactly once per round."}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg flex items-start gap-3",children:[T.jsx(Pl,{className:"text-blue-400 shrink-0"}),T.jsxs("div",{children:[T.jsx("strong",{className:"text-white block",children:"Secret Plan (1 Card)"}),T.jsx("span",{className:"text-sm",children:"Place 1 card face down. It is revealed and added to your kingdoms at the end of the round."})]})]}),T.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg flex items-start gap-3",children:[T.jsx(zl,{className:"text-red-400 shrink-0"}),T.jsxs("div",{children:[T.jsx("strong",{className:"text-white block",children:"Sabotage (2 Cards)"}),T.jsx("span",{className:"text-sm",children:"Discard 2 cards permanently from the game. Use this to deny items to your opponent."})]})]}),T.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg flex items-start gap-3",children:[T.jsx(_g,{className:"text-purple-400 shrink-0"}),T.jsxs("div",{children:[T.jsx("strong",{className:"text-white block",children:"The Offering (3 Cards)"}),T.jsx("span",{className:"text-sm",children:"Select 3 cards. Your opponent picks 1 to keep. You keep the other 2."})]})]}),T.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg flex items-start gap-3",children:[T.jsx(vg,{className:"text-green-400 shrink-0"}),T.jsxs("div",{children:[T.jsx("strong",{className:"text-white block",children:"The Divide (4 Cards)"}),T.jsx("span",{className:"text-sm",children:"Split 4 cards into two piles (2+2). Your opponent chooses one pile to keep. You get the other."})]})]})]})]})]}),T.jsx("div",{className:"p-4 bg-gray-950 border-t border-gray-800 text-center",children:T.jsx("button",{onClick:r,className:"bg-yellow-700 hover:bg-yellow-600 text-white px-8 py-3 rounded-lg font-bold",children:"Close Guide"})})]})});function PC(){const[r,e]=We.useState(null),[i,a]=We.useState("menu"),[l,c]=We.useState(""),[d,y]=We.useState(""),[g,_]=We.useState(null),[S,A]=We.useState(!1),[M,H]=We.useState(""),[te,re]=We.useState(!1),[$,pe]=We.useState(null),[me,ye]=We.useState([]),[$e,it]=We.useState(null),[Me,C]=We.useState([]),[w,x]=We.useState(!1),[V,N]=We.useState(!1),[U,R]=We.useState(!1),[ot,Rt]=We.useState(!1),[G,ne]=We.useState(!1),[ce,ze]=We.useState(()=>localStorage.getItem("gameHub_playerName")||"");We.useEffect(()=>{ce&&localStorage.setItem("gameHub_playerName",ce)},[ce]),We.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await mw(Wd,__initial_auth_token):await uw(Wd)})();const W=yw(Wd,e);return()=>W()},[]),We.useEffect(()=>{if(r&&i==="menu"){const ee=localStorage.getItem("emperor_room_id"),W=localStorage.getItem("emperor_player_name");ee&&W&&(A(!0),ze(W),c(ee))}},[r,i]),We.useEffect(()=>{if(!l||!r)return;const ee=bv(ei(ti,"artifacts",yi,"public","data","rooms",l),W=>{if(W.exists()){const ae=W.data();if(!ae.players.some(be=>be.id===r.uid)){c(""),a("menu"),H("You were removed from the room."),localStorage.removeItem("emperor_room_id"),A(!1);return}_(ae),ae.status==="playing"||ae.status==="round_end"||ae.status==="finished"?a("game"):a("lobby"),A(!1)}else c(""),a("menu"),H("The Kingdom has fallen (Room Closed)."),localStorage.removeItem("emperor_room_id"),A(!1)});return()=>ee()},[l,r]),We.useEffect(()=>{if(g&&(g.status==="round_end"||g.status==="finished")&&g.hostId===r?.uid&&Object.keys(g.readyForNextRound||{}).length===2){const W=g.status==="finished";Ie(!W)}},[g,r]);const Ye=We.useRef("");if(We.useEffect(()=>{g&&(Ye.current!=="round_end"&&Ye.current!=="finished"&&(g.status==="round_end"||g.status==="finished")&&(N(!0),x(!1)),Ye.current=g.status)},[g?.status]),We.useEffect(()=>{const ee=bv(ei(ti,"game_hub_settings","config"),W=>{W.exists()&&(W.data()[MC]?.maintenance?re(!0):re(!1))});return()=>ee()},[]),te)return T.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[T.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[T.jsx(lC,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),T.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),T.jsx("p",{className:"text-gray-400",children:"The Emperor's court is currently closed for renovations."})]}),T.jsx("div",{className:"h-8"}),T.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:T.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:T.jsx("div",{className:"text-center pb-12 animate-pulse",children:T.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[T.jsx(Iv,{size:16})," Visit Gamehub...Try our other releases..."," ",T.jsx(Iv,{size:16})]})})})})]});const O=async()=>{if(!ce)return H("Name required");A(!0);const ee=Math.random().toString(36).substring(2,7).toUpperCase(),W={};Object.values(Hi).forEach(ae=>{const{icon:be,...Xe}=ae;W[ae.id]={...Xe,owner:null,redItems:[],blueItems:[]}}),await HI(ei(ti,"artifacts",yi,"public","data","rooms",ee),{roomId:ee,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:ce,color:"red",hand:[],tokens:{SECRET:!1,SABOTAGE:!1,GIFT:!1,TRADE:!1},faceDownCards:[],sabotagedCards:[],ready:!1}],kings:W,deck:[],round:1,turnPlayerId:null,phase:"lobby",pendingInteraction:null,logs:[],winnerId:null,roundReveal:null,readyForNextRound:{},winReason:null}),localStorage.setItem("emperor_room_id",ee),localStorage.setItem("emperor_player_name",ce),c(ee),y(ee),a("lobby"),A(!1)},K=async()=>{if(!d||!ce)return H("Room ID and Name required");A(!0);const ee=ei(ti,"artifacts",yi,"public","data","rooms",d),W=await Tv(ee);if(!W.exists()){H("Room not found"),A(!1);return}const ae=W.data();if(ae.players.length>=2&&!ae.players.some(be=>be.id===r.uid)){H("Room full"),A(!1);return}if(!ae.players.some(be=>be.id===r.uid)){const be=[...ae.players,{id:r.uid,name:ce,color:"blue",hand:[],tokens:{SECRET:!1,SABOTAGE:!1,GIFT:!1,TRADE:!1},faceDownCards:[],sabotagedCards:[],ready:!1}];await Es(ee,{players:be})}localStorage.setItem("emperor_room_id",d),localStorage.setItem("emperor_player_name",ce),c(d),A(!1)},se=async()=>{if(!(!l||!r)){try{const ee=ei(ti,"artifacts",yi,"public","data","rooms",l),W=await Tv(ee);if(W.exists()){const ae=W.data();if(ae.hostId===r.uid)await GI(ee);else{const be=ae.players.filter(Xe=>Xe.id!==r.uid);await Es(ee,{players:be})}}}catch(ee){console.error("Error leaving room:",ee)}localStorage.removeItem("emperor_room_id"),c(""),a("menu"),_(null),ne(!1)}},oe=async ee=>{if(!g||g.hostId!==r.uid)return;const W=g.players.filter(ae=>ae.id!==ee);await Es(ei(ti,"artifacts",yi,"public","data","rooms",l),{players:W})},Te=async()=>{if(!g||g.hostId!==r.uid)return;const ee=g.players.map(ae=>({...ae,hand:[],tokens:{SECRET:!1,SABOTAGE:!1,GIFT:!1,TRADE:!1},faceDownCards:[],sabotagedCards:[],ready:!1})),W={...g.kings};Object.keys(W).forEach(ae=>{W[ae].redItems=[],W[ae].blueItems=[],W[ae].owner=null}),await Es(ei(ti,"artifacts",yi,"public","data","rooms",l),{status:"lobby",phase:"lobby",players:ee,kings:W,deck:[],round:1,turnPlayerId:null,pendingInteraction:null,logs:[],winnerId:null,roundReveal:null,readyForNextRound:{},winReason:null}),ne(!1)},Ie=async(ee=!1)=>{if(g.hostId!==r.uid)return;let W=[];Object.values(Hi).forEach(Re=>{for(let je=0;je<Re.val;je++)W.push(Re.id)}),W=VC(W),W.pop();const ae=[],be=[];for(let Re=0;Re<7;Re++)W.length&&ae.push(W.pop());for(let Re=0;Re<6;Re++)W.length&&be.push(W.pop());const Xe={...g.kings};Object.keys(Xe).forEach(Re=>{Xe[Re].redItems=[],Xe[Re].blueItems=[],ee||(Xe[Re].owner=null)});const Ae=g.players.map(Re=>({...Re,hand:Re.color==="red"?ae:be,tokens:{SECRET:!1,SABOTAGE:!1,GIFT:!1,TRADE:!1},faceDownCards:[],sabotagedCards:[],ready:!1})),ke={status:"playing",kings:Xe,deck:W,players:Ae,round:ee?g.round+1:1,turnPlayerId:g.players[0].id,phase:"turn",pendingInteraction:null,winnerId:null,winReason:null,roundReveal:null,readyForNextRound:{}};ee?ke.logs=Pc(ur(` Round ${g.round+1} Begins! Red starts with 7 cards.`,"info")):ke.logs=[ur(" New Game Started! Round 1 Begins. Red starts with 7 cards.","info")],await Es(ei(ti,"artifacts",yi,"public","data","rooms",l),ke),N(!1),x(!1)},Ue=async()=>{if(!g)return;const ee=g.readyForNextRound?.[r.uid];await Es(ei(ti,"artifacts",yi,"public","data","rooms",l),{[`readyForNextRound.${r.uid}`]:!ee})},vt=async(ee,W,ae,be,Xe="turn",Ae=null)=>{if(ee.every(je=>Object.values(je.tokens).every(St=>St===!0))&&!Ae){await es(ee,W);return}let Re=g.players.find(je=>je.id!==r.uid).id;if(Ae)Re=Ae.targetId;else if(ae.length>0){const je=ae.pop(),St=ee.findIndex(Se=>Se.id===Re);ee[St].hand.push(je)}await Es(ei(ti,"artifacts",yi,"public","data","rooms",l),{players:ee,kings:W||g.kings,deck:ae||g.deck,turnPlayerId:Re,phase:Xe,pendingInteraction:Ae,logs:Pc(ur(be,"neutral"))}),pe(null),ye([]),C([]),it(null)},mt=(ee,W)=>{if(me.includes(W))ye(me.filter(ae=>ae!==W));else if($){const ae=ni[$].reqCards;me.length<ae&&ye([...me,W])}},xn=(ee,W,ae)=>{const be=ee[W];ae==="red"?be.redItems.push(W):be.blueItems.push(W)},Wi=async()=>{if(!$||!r)return;const ee=g.players.find(Se=>Se.id===r.uid),W=ni[$].reqCards;if(me.length!==W){alert(`Select exactly ${W} cards.`);return}let ae=JSON.parse(JSON.stringify(g.players)),be=ae.findIndex(Se=>Se.id===r.uid),Xe=ae.findIndex(Se=>Se.id!==r.uid),Ae=JSON.parse(JSON.stringify(g.kings)),ke=[...g.deck];const Re=[...ee.hand].sort((Se,lt)=>Hi[lt].val-Hi[Se].val),je=me.map(Se=>Re[Se]),St=Se=>{Se.forEach(lt=>{const Z=ae[be].hand.indexOf(lt);Z>-1&&ae[be].hand.splice(Z,1)})};if(ae[be].tokens[$]=!0,$==="SECRET")St(je),ae[be].faceDownCards.push(je[0]),await vt(ae,Ae,ke,`${ee.name} placed a Secret Plan.`);else if($==="SABOTAGE")St(je),ae[be].sabotagedCards||(ae[be].sabotagedCards=[]),ae[be].sabotagedCards.push(...je),await vt(ae,Ae,ke,`${ee.name} Sabotaged (Discarded 2 cards).`);else if($==="GIFT"){St(je);const Se={type:"GIFT",initiatorId:r.uid,targetId:ae[Xe].id,cards:je};await vt(ae,Ae,ke,`${ee.name} offers a Gift (Choose 1 of 3).`,"interaction",Se)}else if($==="TRADE"){if($e!=="TRADE_SPLIT"){it("TRADE_SPLIT");return}const Se=Me;if(Se.length!==2){alert("Piles must be 2 and 2.");return}const lt=Se.map(Nt=>Re[Nt]),he=me.filter(Nt=>!Se.includes(Nt)).map(Nt=>Re[Nt]);St(je);const Et={type:"TRADE",initiatorId:r.uid,targetId:ae[Xe].id,pile1:lt,pile2:he};await vt(ae,Ae,ke,`${ee.name} proposes a Trade (Pick a pile).`,"interaction",Et)}},Ti=async ee=>{if(!g.pendingInteraction)return;const{type:W,initiatorId:ae,targetId:be,cards:Xe,pile1:Ae,pile2:ke}=g.pendingInteraction;if(r.uid!==be)return;let Re=JSON.parse(JSON.stringify(g.players)),je=JSON.parse(JSON.stringify(g.kings)),St=[...g.deck];const Se=Re.find(xt=>xt.id===be),lt=Re.find(xt=>xt.id===ae);let Z="";if(W==="GIFT"){const xt=Xe[ee],zn=Xe.filter((In,Cn)=>Cn!==ee);xn(je,xt,Se.color),zn.forEach(In=>xn(je,In,lt.color)),Z=`${Se.name} chose ${Hi[xt].item}. ${lt.name} kept the rest.`}else if(W==="TRADE"){const xt=ee===0?Ae:ke,zn=ee===0?ke:Ae;xt.forEach(In=>xn(je,In,Se.color)),zn.forEach(In=>xn(je,In,lt.color)),Z=`${Se.name} picked a pile of ${xt.length} items.`}const he=ae;let Et=Re.find(xt=>xt.id!==he).id;if(Re.every(xt=>Object.values(xt.tokens).every(zn=>zn===!0)))await es(Re,je);else{if(St.length>0){const xt=St.pop(),zn=Re.findIndex(In=>In.id===Et);Re[zn].hand.push(xt)}await Es(ei(ti,"artifacts",yi,"public","data","rooms",l),{players:Re,kings:je,deck:St,pendingInteraction:null,phase:"turn",turnPlayerId:Et,logs:Pc(ur(Z,"success"))})}},es=async(ee,W)=>{let ae=[];ae.push(ur(" Round End! Revealing Secret Plans...","neutral"));const be={};ee.forEach(Z=>{be[Z.id]=[...Z.faceDownCards],Z.faceDownCards.forEach(he=>{xn(W,he,Z.color)}),Z.faceDownCards=[]});let Xe=0,Ae=0,ke=0,Re=0;const je=ee.find(Z=>Z.color==="red"),St=ee.find(Z=>Z.color==="blue");Object.keys(W).forEach(Z=>{const he=W[Z],Et=he.redItems.length,Nt=he.blueItems.length;Et>Nt?(he.owner!=="red"&&ae.push(ur(`${je.name} conquered ${he.name}!`,"danger")),he.owner="red"):Nt>Et&&(he.owner!=="blue"&&ae.push(ur(`${St.name} conquered ${he.name}!`,"blue")),he.owner="blue"),he.owner==="red"&&(Xe++,ke+=he.val),he.owner==="blue"&&(Ae++,Re+=he.val)});let Se=null,lt=null;Xe>=4||ke>=11?(Se=je.id,lt=Xe>=4?"controlled 4 Kingdoms":"scored 11 Victory Points"):(Ae>=4||Re>=11)&&(Se=St.id,lt=Ae>=4?"controlled 4 Kingdoms":"scored 11 Victory Points"),Se&&ae.push(ur(" Game Over!","success")),await Es(ei(ti,"artifacts",yi,"public","data","rooms",l),{status:Se?"finished":"round_end",winnerId:Se,winReason:lt,kings:W,players:ee,roundReveal:be,pendingInteraction:null,phase:"resolution",readyForNextRound:{},logs:Pc(...ae)})};if(i==="menu")return T.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[T.jsx(zc,{}),U&&T.jsx(em,{onClose:()=>R(!1)}),T.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[T.jsx(co,{size:64,className:"text-yellow-500 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(234,179,8,0.5)]"}),T.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-b from-yellow-300 to-yellow-600 font-serif tracking-widest drop-shadow-md",children:"EMPEROR"}),T.jsx("p",{className:"text-gray-400 tracking-[0.3em] uppercase mt-2",children:"Rule the Seven Kingdoms"})]}),T.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-gray-700 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[M&&T.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:M}),T.jsx("input",{className:"w-full bg-black/50 border border-gray-600 p-3 rounded mb-4 text-white placeholder-gray-500 focus:border-yellow-500 outline-none transition-colors",placeholder:"Your Name, My Liege",value:ce,onChange:ee=>ze(ee.target.value)}),T.jsxs("button",{onClick:O,disabled:S,className:"w-full bg-gradient-to-r from-yellow-700 to-yellow-600 hover:from-yellow-600 hover:to-yellow-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-yellow-500/30 shadow-[0_0_15px_rgba(234,179,8,0.2)] transition-all",children:[T.jsx(co,{size:20})," Establish Kingdom"]}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[T.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-gray-600 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-yellow-500 outline-none",placeholder:"ROOM CODE",value:d,onChange:ee=>y(ee.target.value.toUpperCase())}),T.jsx("button",{onClick:K,disabled:S,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-3 rounded font-bold transition-colors",children:"Join"})]}),T.jsxs("button",{onClick:()=>R(!0),className:"w-full text-sm text-gray-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[T.jsx(Av,{size:16})," Imperial Decree"]})]}),T.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Hanamikoji. A tribute game.",T.jsx("br",{}),"Developed by ",T.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",T.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-yellow-500 underline hover:text-yellow-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&g){const ee=g.hostId===r.uid;return T.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-6 relative",children:[T.jsx(zc,{}),T.jsx(kC,{}),U&&T.jsx(em,{onClose:()=>R(!1)}),G&&T.jsx(Dv,{onConfirm:se,onCancel:()=>ne(!1),isHost:ee}),T.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-800/90 p-8 rounded-2xl border border-gray-700 shadow-2xl mb-4",children:[T.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[T.jsxs("h2",{className:"text-2xl font-serif text-yellow-500",children:["Throne Room: ",l]}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[T.jsx(Ol,{size:16})," ",g.players.length,"/2"]}),T.jsx("button",{onClick:()=>ne(!0),className:"p-2 bg-red-900/50 hover:bg-red-900 rounded text-red-300",title:"Leave Room",children:T.jsx(Rv,{size:16})})]})]}),T.jsxs("div",{className:"space-y-3 mb-8",children:[g.players.map(W=>T.jsxs("div",{className:"flex items-center justify-between bg-gray-900 p-4 rounded border border-gray-700",children:[T.jsxs("span",{className:`font-bold ${W.color==="red"?"text-red-500":"text-blue-500"} flex items-center gap-2`,children:[W.id===g.hostId&&T.jsx(co,{size:14,className:"text-yellow-500"})," ",W.name]}),T.jsxs("div",{className:"flex items-center gap-2",children:[W.id===r.uid&&T.jsx("span",{className:"text-xs bg-gray-700 px-2 py-1 rounded",children:"You"}),ee&&W.id!==r.uid&&T.jsx("button",{onClick:()=>oe(W.id),className:"p-2 hover:bg-red-900/50 rounded text-red-400",title:"Kick Player",children:T.jsx(zl,{size:16})})]})]},W.id)),g.players.length<2&&T.jsx("div",{className:"text-center text-gray-500 animate-pulse italic",children:"Waiting for challenger..."})]}),T.jsx("div",{className:"flex flex-col gap-3",children:g.hostId===r.uid?T.jsx("button",{onClick:()=>Ie(!1),disabled:g.players.length<2,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all ${g.players.length<2?"bg-gray-700 cursor-not-allowed text-gray-500":"bg-green-700 hover:bg-green-600 text-white shadow-green-900/30"}`,children:"Begin Campaign"}):T.jsx("div",{className:"text-center text-yellow-500/80 font-serif mb-2",children:"Waiting for Host to start..."})})]}),T.jsx(Nv,{})]})}if(i==="game"&&g){const ee=g.players.find(Z=>Z.id===r.uid),W=g.players.find(Z=>Z.id!==r.uid),ae=g.hostId===r.uid;if(!W)return T.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-6 text-center",children:[T.jsx(zc,{}),T.jsxs("div",{className:"bg-gray-800 p-8 rounded-xl border border-red-700 shadow-2xl relative z-10 max-w-md",children:[T.jsx(Cv,{size:64,className:"text-red-500 mb-4 mx-auto"}),T.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Opponent has fled the battlefield!"}),T.jsx("p",{className:"text-gray-400 mb-6",children:"The empire is yours by default, though it is a hollow victory."}),T.jsx("button",{onClick:()=>{c(""),_(null),a("menu"),localStorage.removeItem("emperor_room_id")},className:"bg-yellow-600 hover:bg-yellow-500 text-black px-6 py-3 rounded font-bold w-full",children:"Return to Menu"})]})]});const be=g.turnPlayerId===r.uid&&g.phase==="turn",Xe=g.phase==="interaction"&&g.pendingInteraction?.targetId===r.uid&&g.status==="playing",Ae=g.status==="round_end"||g.status==="finished",ke=[...ee.hand].sort((Z,he)=>Hi[he].val-Hi[Z].val),Re=Z=>{Me.includes(Z)?C(Me.filter(he=>he!==Z)):Me.length<2&&C([...Me,Z])},je=g.readyForNextRound?.[r.uid],St=g.readyForNextRound?.[W.id],Se=Xe||be&&!Ae;let lt="";if(Xe)g.pendingInteraction.type==="GIFT"&&(lt="Gift Received: Pick 1 Card from top right"),g.pendingInteraction.type==="TRADE"&&(lt="Trade Offered: Pick 1 Pile from top right");else if(be&&!Ae)if($){const Z=ni[$];$==="TRADE"&&$e==="TRADE_SPLIT"?lt="Split your cards into two piles":lt=`${Z.name}: Select ${Z.reqCards} card${Z.reqCards>1?"s":""}`}else lt="Your Turn: Select an Action Token";return T.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col overflow-hidden relative font-sans select-none",children:[T.jsx(zc,{}),U&&T.jsx(em,{onClose:()=>R(!1)}),ot&&T.jsx(LC,{logs:g.logs,onClose:()=>Rt(!1)}),G&&T.jsx(Dv,{onConfirm:se,onCancel:()=>ne(!1),isHost:ae,onReturnToLobby:Te}),T.jsxs("div",{className:"h-14 bg-gray-900/80 border-b border-gray-800 flex items-center justify-between px-4 z-20 backdrop-blur-md",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"font-serif text-yellow-500 font-bold tracking-wider hidden md:block",children:"EMPEROR"}),T.jsxs("div",{className:"text-xs text-gray-400 bg-gray-800 px-2 py-1 rounded",children:["Round ",g.round]})]}),T.jsxs("div",{className:"flex gap-2",children:[Ae&&(g.winnerId?T.jsxs("button",{onClick:()=>x(!0),className:"px-4 py-1.5 bg-yellow-600 hover:bg-yellow-500 rounded text-sm font-bold animate-pulse shadow-lg shadow-yellow-900/50 flex items-center gap-2",children:[T.jsx(xm,{size:16})," Show Results"]}):T.jsxs("button",{onClick:Ue,className:`px-4 py-1.5 rounded text-sm font-bold flex items-center gap-2 transition-all ${je?"bg-green-700 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[je?T.jsx(wv,{size:16}):T.jsx(xv,{size:16}),je?St?"Starting...":"Waiting...":"Next Round"]})),T.jsx("button",{onClick:()=>Rt(!ot),className:`p-2 rounded-full ${ot?"bg-yellow-900 text-yellow-400":"text-gray-400 hover:bg-gray-800"}`,children:T.jsx(eT,{size:18})}),T.jsx("button",{onClick:()=>R(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400",children:T.jsx(Av,{size:18})}),T.jsx("button",{onClick:()=>ne(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",children:T.jsx(Rv,{size:18})})]})]}),T.jsxs("div",{className:"flex-1 flex flex-col justify-between p-2 md:p-4 relative z-10 max-w-6xl mx-auto w-full h-full",children:[T.jsxs("div",{className:"flex flex-row justify-between items-start mb-2 shrink-0 gap-2 h-24 md:h-auto",children:[T.jsxs("div",{className:"flex flex-col gap-1 w-[45%] md:w-[40%]",children:[T.jsxs("div",{className:`flex items-center gap-2 font-bold ${W.color==="red"?"text-red-500":"text-blue-500"} text-sm md:text-base truncate`,children:[T.jsx(Ol,{size:16})," ",W.name,g.turnPlayerId===W.id&&!Xe&&!Ae&&T.jsx("span",{className:"text-[10px] md:text-xs bg-yellow-500 text-black px-1 rounded animate-pulse ml-2",children:"Thinking..."}),g.phase==="interaction"&&g.pendingInteraction.targetId===W.id&&T.jsx("span",{className:"text-[10px] md:text-xs bg-orange-500 text-white px-1 rounded animate-bounce ml-2",children:"Deciding..."})]}),T.jsx("div",{className:"flex gap-1 overflow-hidden",children:W.hand.map((Z,he)=>T.jsx("div",{className:"w-4 h-6 md:w-5 md:h-8 bg-gray-800 border border-gray-600 rounded"},he))}),T.jsx("div",{className:"flex gap-1 mt-1 opacity-70",children:Object.keys(ni).map(Z=>{const he=ni[Z].icon,Et=W.tokens[Z];return T.jsx("div",{className:`p-1 rounded-full border ${Et?"border-gray-700 bg-gray-800":"border-gray-600 bg-gray-900"}`,children:T.jsx(he,{size:10,className:Et?"text-gray-600":ni[Z].color})},Z)})}),T.jsxs("div",{className:"flex gap-2 mt-1 items-center overflow-x-auto no-scrollbar",children:[W.faceDownCards.length>0&&T.jsxs("div",{className:"flex gap-1 items-center bg-black/20 p-1 rounded border-l border-gray-700 pl-2",children:[T.jsx("span",{className:"text-[9px] text-gray-500 uppercase mr-1 whitespace-nowrap",children:T.jsx(Pl,{size:10})}),W.faceDownCards.map((Z,he)=>T.jsx(ii,{tiny:!0,faceDown:!0},`secret-${he}`))]}),W.sabotagedCards&&W.sabotagedCards.length>0&&T.jsxs("div",{className:"flex gap-1 items-center bg-black/20 p-1 rounded border-l border-gray-700 pl-2",children:[T.jsx("span",{className:"text-[9px] text-gray-500 uppercase mr-1 whitespace-nowrap",children:T.jsx(zl,{size:10})}),W.sabotagedCards.map((Z,he)=>T.jsx(ii,{typeId:Z,tiny:!0},`discard-${he}`))]})]})]}),T.jsx("div",{className:"flex-1 flex justify-end h-full",children:Xe?T.jsxs("div",{className:"bg-gray-800/90 border border-orange-500 rounded-lg p-2 shadow-lg flex flex-col items-center justify-center w-full max-w-sm animate-in slide-in-from-right-4 fade-in h-full overflow-y-auto no-scrollbar",children:[g.pendingInteraction.type==="GIFT"&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"text-[10px] md:text-xs font-bold text-white flex items-center gap-1 mb-1",children:[T.jsx(_g,{size:12})," Gift! Keep 1:"]}),T.jsx("div",{className:"flex justify-center gap-2",children:g.pendingInteraction.cards.map((Z,he)=>T.jsx("div",{className:"hover:scale-105 transition-transform cursor-pointer",onClick:()=>Ti(he),children:T.jsx(ii,{typeId:Z,small:!0})},he))})]}),g.pendingInteraction.type==="TRADE"&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"text-[10px] md:text-xs font-bold text-white flex items-center gap-1 mb-1",children:[T.jsx(vg,{size:12})," Trade! Pick Pile:"]}),T.jsxs("div",{className:"flex justify-center gap-2 items-center",children:[T.jsx("button",{onClick:()=>Ti(0),className:"bg-gray-700 p-1 rounded border border-gray-600 hover:border-yellow-400 flex gap-1 items-center",children:g.pendingInteraction.pile1.map((Z,he)=>T.jsx(ii,{typeId:Z,tiny:!0},he))}),T.jsx("span",{className:"text-gray-500 text-[10px]",children:"OR"}),T.jsx("button",{onClick:()=>Ti(1),className:"bg-gray-700 p-1 rounded border border-gray-600 hover:border-yellow-400 flex gap-1 items-center",children:g.pendingInteraction.pile2.map((Z,he)=>T.jsx(ii,{typeId:Z,tiny:!0},he))})]})]})]}):T.jsx("div",{className:"w-full h-full"})})]}),T.jsx("div",{className:"flex justify-center mb-2 shrink-0",children:T.jsxs("div",{className:"bg-gray-800 border border-gray-600 px-4 py-1 rounded-full text-xs font-mono text-gray-400 shadow-lg flex items-center gap-2",children:[T.jsx(gC,{size:14})," Deck: ",g.deck.length]})}),T.jsx("div",{className:"flex-1 flex flex-col justify-center min-h-0",children:T.jsx("div",{className:`
                w-full justify-items-center gap-1 md:gap-3
                grid grid-cols-7 md:grid-cols-7
            `,children:Object.keys(Hi).map((Z,he)=>T.jsx("div",{className:`w-full ${he>=4?"md:col-auto":""}`,children:T.jsx(jC,{id:Z,data:g.kings[Z],myColor:ee.color})},Z))})}),T.jsx("div",{className:"h-8 flex items-center justify-center my-2 shrink-0 relative",children:!Xe&&T.jsx("div",{className:"w-full max-w-md text-center text-sm text-gray-400 bg-gray-900/50 p-1 rounded backdrop-blur-sm flex justify-center items-center gap-2",children:g.logs.slice(-1).map((Z,he)=>T.jsxs("span",{className:`flex items-center gap-2 ${Z.type==="danger"?"text-red-400":Z.type==="blue"?"text-blue-400":Z.type==="success"?"text-green-400":"text-gray-300"}`,children:[(Z.type==="danger"||Z.type==="blue")&&T.jsx(Ol,{size:14}),Z.text]},he))})}),Se&&T.jsx("div",{className:"flex justify-center mb-1 animate-bounce",children:T.jsxs("div",{className:"bg-yellow-500 text-black text-xs font-bold px-3 py-1 rounded-full shadow-lg border border-yellow-300 flex items-center gap-2",children:[T.jsx(Cv,{size:12})," ",lt]})}),T.jsxs("div",{className:`bg-gray-900/90 p-3 md:p-4 rounded-t-xl md:rounded-xl border-t-2 border-gray-700 transition-all shrink-0 ${be?"shadow-[0_0_20px_rgba(234,179,8,0.1)] border-yellow-600/50":"grayscale opacity-80"}`,children:[T.jsxs("div",{className:"flex justify-between items-center mb-2 -mt-1",children:[T.jsxs("div",{className:`flex items-center gap-2 font-bold ${ee.color==="red"?"text-red-500":"text-blue-500"} text-sm md:text-base`,children:[T.jsx(Ol,{size:16})," ",ee.name]}),be&&!Ae&&T.jsx("span",{className:"bg-green-600 text-white text-[10px] md:text-xs font-bold px-3 py-0.5 rounded-full shadow-lg animate-bounce border border-green-400 tracking-wider",children:"YOUR TURN"})]}),$e==="TRADE_SPLIT"?T.jsxs("div",{className:"flex flex-col items-center gap-4",children:[T.jsx("div",{className:"flex gap-4 p-4 bg-black/40 rounded-xl",children:me.map((Z,he)=>{const Et=ke[Z],Nt=Me.includes(Z);return T.jsxs("div",{className:"flex flex-col items-center gap-2",children:[T.jsx(ii,{typeId:Et,onClick:()=>Re(Z),selected:Nt}),T.jsx("div",{className:`text-xs font-bold px-2 py-1 rounded ${Nt?"bg-blue-600":"bg-red-600"}`,children:Nt?"Pile 1":"Pile 2"})]},he)})}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx("button",{onClick:()=>{it(null),ye([]),pe(null)},className:"px-6 py-2 bg-gray-700 rounded hover:bg-gray-600",children:"Cancel"}),T.jsx("button",{onClick:Wi,disabled:Me.length!==2,className:"px-6 py-2 bg-yellow-600 rounded font-bold hover:bg-yellow-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirm Trade Split"})]})]}):T.jsx("div",{className:"flex flex-col gap-2",children:T.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[T.jsx("div",{className:"flex-1 flex justify-center px-2 w-full",children:T.jsx("div",{className:"flex items-end -space-x-5 md:-space-x-10 hover:-space-x-3 transition-all duration-300 py-4",children:ke.map((Z,he)=>T.jsx("div",{className:`
                            shrink-0 relative transition-all duration-200
                            ${me.includes(he)?"z-20 -translate-y-4":"hover:z-10 hover:-translate-y-2"}
                          `,children:T.jsx(ii,{typeId:Z,onClick:()=>be&&mt(Z,he),selected:me.includes(he),disabled:!be})},he))})}),T.jsxs("div",{className:"flex gap-2 items-center shrink-0 min-w-[80px] overflow-x-auto no-scrollbar",children:[ee.faceDownCards.length>0&&T.jsxs("div",{className:"flex gap-1 items-center bg-black/20 p-1 rounded border-l border-gray-700 pl-2 shrink-0",children:[T.jsx("span",{className:"text-[9px] text-gray-500 uppercase mr-1 whitespace-nowrap",children:T.jsx(Pl,{size:10})}),ee.faceDownCards.map((Z,he)=>T.jsx("div",{className:"opacity-80 hover:opacity-100 transition-opacity shrink-0",children:T.jsx(ii,{typeId:Z,tiny:!0},he)},`my-secret-${he}`))]}),ee.sabotagedCards&&ee.sabotagedCards.length>0&&T.jsxs("div",{className:"flex gap-1 items-center bg-black/20 p-1 rounded border-l border-gray-700 pl-2 shrink-0",children:[T.jsx(zl,{size:10,className:"text-gray-500"}),ee.sabotagedCards.map((Z,he)=>T.jsx(ii,{typeId:Z,tiny:!0},`my-discard-${he}`))]})]}),T.jsxs("div",{className:"flex flex-col gap-2 min-w-[200px] shrink-0 w-full md:w-auto",children:[T.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.keys(ni).map(Z=>T.jsx(UC,{type:Z,used:ee.tokens[Z],active:$===Z,disabled:!be,onClick:()=>{be&&!ee.tokens[Z]&&(pe(Z),ye([]))}},Z))}),$&&be&&T.jsxs("div",{className:"bg-black/40 p-2 rounded text-xs text-center animate-in slide-in-from-right-4 fade-in",children:[T.jsx("div",{className:"text-yellow-500 font-bold mb-1",children:ni[$].name}),T.jsx("div",{className:"text-gray-400 mb-2",children:ni[$].desc}),T.jsxs("button",{onClick:Wi,disabled:me.length!==ni[$].reqCards,className:"w-full bg-yellow-700 hover:bg-yellow-600 disabled:bg-gray-700 disabled:text-gray-500 text-white py-2 rounded font-bold transition-colors",children:["Execute (",me.length,"/",ni[$].reqCards,")"]})]})]})]})})]})]}),Ae&&V&&g.roundReveal&&T.jsx("div",{className:"fixed inset-0 bg-black/95 z-50 flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-gray-900 border border-purple-500 rounded-2xl p-8 max-w-2xl w-full text-center shadow-2xl animate-in zoom-in-90",children:[T.jsxs("h2",{className:"text-2xl font-serif text-purple-400 mb-6 flex items-center justify-center gap-2",children:[T.jsx(Pl,{})," Secret Plans Revealed!"]}),T.jsx("div",{className:"flex flex-col md:flex-row justify-around gap-8 mb-8",children:Object.keys(g.roundReveal).map(Z=>{const he=g.players.find(Nt=>Nt.id===Z)?.name,Et=g.roundReveal[Z];return T.jsxs("div",{className:"flex flex-col items-center gap-2",children:[T.jsxs("div",{className:"font-bold text-gray-300 mb-2",children:[he," revealed:"]}),T.jsx("div",{className:"flex gap-2",children:Et.length>0?Et.map((Nt,xt)=>T.jsx(ii,{typeId:Nt,small:!0},xt)):T.jsx("div",{className:"text-gray-600 italic",children:"No plans"})})]},Z)})}),T.jsxs("button",{onClick:()=>N(!1),className:"px-8 py-3 bg-purple-700 hover:bg-purple-600 text-white rounded-lg font-bold flex items-center justify-center gap-2 mx-auto",children:[T.jsx(iC,{size:20})," Inspect Battlefield"]})]})}),Ae&&w&&T.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4 animate-in fade-in",children:T.jsxs("div",{className:`bg-gray-900 border rounded-2xl p-8 max-w-lg w-full text-center shadow-[0_0_50px_rgba(0,0,0,0.5)] ${g.winnerId?"border-yellow-500 shadow-yellow-500/20":"border-gray-600"}`,children:[g.winnerId?T.jsxs(T.Fragment,{children:[T.jsx(xm,{size:64,className:"text-yellow-500 mx-auto mb-4 animate-bounce"}),T.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Kingdoms United!"}),T.jsxs("p",{className:"text-xl text-gray-300 mb-2",children:[g.players.find(Z=>Z.id===g.winnerId).name," ","is the new Emperor!"]}),T.jsx("p",{className:"text-sm text-yellow-500/80 mb-8 uppercase tracking-widest border-t border-b border-yellow-900/50 py-2",children:g.winReason})]}):T.jsxs(T.Fragment,{children:[T.jsx(Eg,{size:64,className:"text-red-500 mx-auto mb-4"}),T.jsxs("h2",{className:"text-3xl font-bold text-white mb-2",children:["Round ",g.round," Complete"]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4 my-6 text-left bg-black/30 p-4 rounded",children:[T.jsxs("div",{className:"text-red-500 font-bold text-center",children:[T.jsx("div",{className:"text-2xl",children:Object.values(g.kings).filter(Z=>Z.owner==="red").length}),T.jsx("div",{className:"text-xs uppercase text-gray-500",children:"Red Kingdoms"})]}),T.jsxs("div",{className:"text-blue-500 font-bold text-center",children:[T.jsx("div",{className:"text-2xl",children:Object.values(g.kings).filter(Z=>Z.owner==="blue").length}),T.jsx("div",{className:"text-xs uppercase text-gray-500",children:"Blue Kingdoms"})]})]})]}),T.jsx("div",{className:"flex flex-col gap-3",children:g.winnerId?T.jsxs(T.Fragment,{children:[T.jsxs("button",{onClick:Ue,className:`w-full py-3 rounded-lg font-bold transition-all flex items-center justify-center gap-2 ${je?"bg-green-700 hover:bg-green-600 text-white":"bg-gray-700 hover:bg-gray-600 text-white"}`,children:[je?T.jsx(wv,{size:20}):T.jsx(xv,{size:20}),je?St?"Starting New Game...":"Waiting for Opponent":"Ready for Rematch"]}),T.jsx("button",{onClick:()=>ne(!0),className:"w-full bg-transparent border border-red-900 text-red-400 hover:bg-red-900/20 px-8 py-3 rounded-lg font-bold",children:"Exit Room"})]}):T.jsx("button",{onClick:()=>x(!1),className:"w-full bg-gray-700 hover:bg-gray-600 text-white px-8 py-3 rounded-lg font-bold",children:"Close & Prepare"})})]})}),T.jsx("div",{className:"bg-gray-950 pb-1 pt-1 z-50",children:T.jsx(Nv,{})})]})}return null}qb.createRoot(document.getElementById("root")).render(T.jsx(We.StrictMode,{children:T.jsx(PC,{})}));
